var OneTrustStub=function(t){"use strict";var e=(n.prototype.addToStubQueue=function(t,e,n){window.__cmp.a=window.__cmp.a||[],"ping"===t?n({gdprAppliesGlobally:r().oneTrustIABgdprAppliesGlobally,cmpLoaded:!1},!0):window.__cmp.a.push([t,e,n])},n.prototype.processQueue=function(){if(window.__cmp.a){var t=window.__cmp.a;window.__cmp.a=[];for(var e=0;e<t.length;e++){var n=t[e];this.excuteAPI(n[0],n[1],n[2])}}},n);function n(){var o=this;this.initializeCMP=function(){window.__cmp,o.addFrame(),window.receiveOTMessage=o.receiveMessage,(window.attachEvent||window.addEventListener)("message",window.receiveOTMessage,!1)},this.excuteAPI=function(t,e,n){if(n&&t)if(r().isStubReady&&r().IABCookieValue)switch(t){case"ping":o.getPingRequest(n);break;case"getConsentData":o.getConsentDataRequest(n);break;default:o.addToStubQueue(t,e,n)}else o.addToStubQueue(t,e,n)},this.getPingRequest=function(t){t?t({gdprAppliesGlobally:r().oneTrustIABgdprAppliesGlobally,cmpLoaded:!0},!0):t({},!1)},this.getConsentDataRequest=function(t){t&&r().IABCookieValue&&t({gdprApplies:r().oneTrustIABgdprAppliesGlobally,hasGlobalScope:r().hasIABGlobalScope,consentData:r().IABCookieValue},!0)},this.addFrame=function(){if(!window.frames.__cmpLocator)if(document.body){var t=document.body,e=document.createElement("iframe");e.setAttribute("style","display:none"),e.name="__cmpLocator",e.setAttribute("title","CMP Locator"),t.appendChild(e)}else setTimeout(o.addFrame,5)},this.receiveMessage=function(t){var e=t.data,n=t.origin,o=t.source;if(e&&e.__cmpCall){var i=e.__cmpCall.callId,a=e.__cmpCall.command,s=e.__cmpCall.parameter;p().excuteAPI(a,s,function(t,e){o.postMessage({__cmpReturn:{returnValue:t,success:e,callId:i,command:a}},n)})}},this.initializeCMP()}var o=function(){this.optanonCookieName="OptanonConsent",this.optanonHtmlGroupData=[],this.IABCookieValue="",this.oneTrustIABCookieName="eupubconsent",this.oneTrustIsIABCrossConsentEnableParam="isIABGlobal",this.isStubReady=!0,this.geolocationCookiesParam="geolocation",this.EUCOUNTRIES=["BE","BG","CZ","DK","DE","EE","IE","GR","ES","FR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","GB","HR","LI","NO","IS"],this.stubFileName="otSDKStub",this.DATAFILEATTRIBUTE="data-domain-script",this.bannerScriptName="otBannerSdk.js",this.mobileOnlineURL=[],this.isMigratedURL=!1,this.migratedCCTID="[[OldCCTID]]",this.migratedDomainId="[[NewDomainId]]"},i=null,a=null,s=null;function r(){return i=i||new o}function p(){return a=a||new e}function l(){return s=s||new u}var u=(c.prototype.initConsentSDK=function(){this.initCustomEventPolyfill(),this.ensureHtmlGroupDataInitialised(),this.updateGtmMacros(),window.__cmp=p().excuteAPI,this.fetchBannerSDKDependency()},c.prototype.fetchBannerSDKDependency=function(){this.setDomainDataFileURL(),this.otFetch(r().bannerDataParentURL,this.addBannerSDKScript)},c.prototype.addBannerSDKScript=function(t){var e=r().stubScriptElement.cloneNode(!0);r().isMigratedURL&&(e.src=r().storageBaseURL+"/scripttemplates/"+r().stubFileName+".js");var n=r().storageBaseURL+"/scripttemplates/"+t.Version+"/"+r().bannerScriptName;window.otStubData={domainData:t,stubElement:e,bannerBaseDataURL:r().bannerBaseDataURL,mobileOnlineURL:r().mobileOnlineURL},l().jsonp(n,null)},c.prototype.otFetch=function(t,e){if(new RegExp("^(http|https)://","i").test(t)){r().mobileOnlineURL.push(t);var n=new XMLHttpRequest;n.onload=function(){e(JSON.parse(this.responseText))},n.open("GET",t),n.send()}else this.otFetchOfflineFile(t,e)},c.prototype.otFetchOfflineFile=function(t,e){var n=(t=t.replace(".json",".js")).split("/"),o=n[n.length-1].split(".js")[0];this.jsonp(t,function(){e(window[o])})},c.prototype.jsonp=function(t,e){var n=document.createElement("script");n.setAttribute("src",t),n.async=!0,n.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(n),new RegExp("^(http|https)://","i").test(t)&&r().mobileOnlineURL.push(t),e&&(n.onload=function(){e()})},c.prototype.ensureHtmlGroupDataInitialised=function(){this.initializeIABData(),this.initializeGroupData()},c.prototype.initializeGroupData=function(){this.readCookieParam(r().optanonCookieName,"groups")&&(r().optanonHtmlGroupData=this.deserialiseStringToArray(this.readCookieParam(r().optanonCookieName,"groups")))},c.prototype.initializeIABData=function(){this.validateIABGDPRApplied(),this.validateIABGlobalScope()},c.prototype.validateIABGlobalScope=function(){var t=this.readCookieParam(r().optanonCookieName,r().oneTrustIsIABCrossConsentEnableParam);t?"true"===t?(r().hasIABGlobalScope=!0,r().isStubReady=!1):(r().hasIABGlobalScope=!1,r().IABCookieValue=this.getCookie(r().oneTrustIABCookieName)):r().isStubReady=!1},c.prototype.validateIABGDPRApplied=function(){var t=this.readCookieParam(r().optanonCookieName,r().geolocationCookiesParam).split(";")[0];t?this.isBoolean(t)?r().oneTrustIABgdprAppliesGlobally=t:r().oneTrustIABgdprAppliesGlobally=0<=r().EUCOUNTRIES.indexOf(t):r().isStubReady=!1},c.prototype.isBoolean=function(t){return"true"===t||"false"===t},c.prototype.readCookieParam=function(t,e){var n,o,i,a,s=this.getCookie(t);if(s){for(o={},i=s.split("&"),n=0;n<i.length;n+=1)a=i[n].split("="),o[decodeURIComponent(a[0])]=decodeURIComponent(a[1]).replace(/\+/g," ");return e&&o[e]?o[e]:e&&!o[e]?"":o}return""},c.prototype.getCookie=function(t){var e,n,o=t+"=",i=document.cookie.split(";");for(e=0;e<i.length;e+=1){for(n=i[e];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(o))return n.substring(o.length,n.length)}return null},c.prototype.updateGtmMacros=function(){var t,e=[];for(t=0;t<r().optanonHtmlGroupData.length;t++)this.endsWith(r().optanonHtmlGroupData[t],":1")&&e.push(r().optanonHtmlGroupData[t].replace(":1",""));var n=","+this.serialiseArrayToString(e)+",";window.OnetrustActiveGroups=n,window.OptanonActiveGroups=n,void 0!==window.dataLayer?window.dataLayer.constructor===Array&&(window.dataLayer.push({OnetrustActiveGroups:n}),window.dataLayer.push({OptanonActiveGroups:n})):window.dataLayer=[{event:"OneTrustLoaded",OnetrustActiveGroups:n},{event:"OptanonLoaded",OptanonActiveGroups:n}],setTimeout(function(){var t=new CustomEvent("consent.onetrust",{detail:e});window.dispatchEvent(t)})},c.prototype.deserialiseStringToArray=function(t){return t?t.split(","):[]},c.prototype.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},c.prototype.serialiseArrayToString=function(t){return t.toString()},c.prototype.setStubScriptElement=function(){r().stubScriptElement=document.querySelector("script[src*='"+r().stubFileName+"']"),r().stubScriptElement&&r().stubScriptElement.hasAttribute(r().DATAFILEATTRIBUTE)?r().domainDataFileName=r().stubScriptElement.getAttribute(r().DATAFILEATTRIBUTE):r().stubScriptElement||(r().stubScriptElement=document.querySelector("script[src*='"+r().migratedCCTID+"']"),r().stubScriptElement&&(r().isMigratedURL=!0,r().domainDataFileName=r().migratedDomainId))},c.prototype.setDomainDataFileURL=function(){this.setStubScriptElement();var t=r().stubScriptElement.getAttribute("src");t&&(r().isMigratedURL?r().storageBaseURL=t.split("/consent/"+r().migratedCCTID)[0]:r().storageBaseURL=t.split("/scripttemplates/"+r().stubFileName)[0]),r().bannerBaseDataURL=r().storageBaseURL&&r().storageBaseURL+"/consent/"+r().domainDataFileName,r().bannerDataParentURL=r().bannerBaseDataURL+"/"+r().domainDataFileName+".json"},c.prototype.initCustomEventPolyfill=function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t},c);function c(){}return l().initConsentSDK(),t.OtSDKStub=u,t}({});
