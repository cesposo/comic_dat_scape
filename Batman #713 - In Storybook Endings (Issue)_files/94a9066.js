!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=163)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceTokenInString=function(e,t,n){return Q(t,function(t,r){t=void 0===t?"":t;var o=n+r.toUpperCase()+n,i=new RegExp(o,"g");e=e.replace(i,t)}),e},t.getUniqueIdentifierStr=R,t.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){if(t&&t[e])return t[e];return""},t.tryAppendQueryString=function(e,t,n){if(n)return e+=t+"="+encodeURIComponent(n)+"&";return e},t.parseQueryStringParameters=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t},t.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?ae(e).map(function(t){return"".concat(t,"=").concat(encodeURIComponent(ue(e,t)))}).join("&"):""},t.getAdUnitSizes=function(e){if(!e)return;var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t},t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var o in n)X(n,o)&&n[o].match(r)&&t.push(n[o])}else if("object"===l(e)){var i=e.length;if(i>0)if(2===i&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(C(e));else for(var a=0;a<i;a++)t.push(C(e[a]))}return t},t.parseGPTSingleSizeArray=C,t.getTopWindowLocation=j,t.getTopFrameReferrer=B,t.getAncestorOrigins=P,t.getWindowTop=D,t.getWindowSelf=k,t.getWindowLocation=M,t.getTopWindowUrl=function(){var e;try{e=A.getTopWindowLocation().href}catch(t){e=""}return e},t.getTopWindowReferrer=function(){try{return window.top.document.referrer}catch(e){return document.referrer}},t.logMessage=U,t.logInfo=L,t.logWarn=z,t.logError=q,t.hasConsoleLogger=function(){return S},t.debugTurnedOn=function(){if(!1===r.config.getConfig("debug")&&!1===g){var e="TRUE"===F(p.DEBUG_MODE).toUpperCase();r.config.setConfig({debug:e}),g=!0}return!!r.config.getConfig("debug")},t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=R(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},t.getParameterByName=F,t.hasValidBidRequest=function(e,t,n){var r=!1;function o(e,n){n===t[i]&&(r=!0)}for(var i=0;i<t.length;i++)if(r=!1,Q(e,o),!r)return q("Params are missing for bid request. One of these required paramaters are missing: "+t,n),!1;return!0},t.addEventHandler=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)},t.isA=V,t.isFn=G,t.isStr=W,t.isArray=H,t.isNumber=Y,t.isPlainObject=K,t.isBoolean=function(e){return V(e,E)},t.isEmpty=J,t.isEmptyStr=function(e){return W(e)&&(!e||0===e.length)},t._each=Q,t.contains=function(e,t){if(J(e))return!1;if(G(e.indexOf))return-1!==e.indexOf(t);var n=e.length;for(;n--;)if(e[n]===t)return!0;return!1},t._map=function(e,t){if(J(e))return[];if(G(e.map))return e.map(t);var n=[];return Q(e,function(r,o){n.push(t(r,o,e))}),n},t.insertElement=Z,t.triggerPixel=ee,t.callBurl=function(e){var t=e.source,n=e.burl;t===p.S2S.SRC&&n&&A.triggerPixel(n)},t.insertHtmlIntoIframe=function(e){if(!e)return;var t=document.createElement("iframe");t.id=R(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",A.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()},t.insertUserSyncIframe=te,t.createTrackPixelHtml=function(e){if(!e)return"";var t=encodeURI(e),n='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return n+='<img src="'+t+'"></div>'},t.createTrackPixelIframeHtml=ne,t.getIframeDocument=function(e){if(!e)return;var t;try{t=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){A.logError("Cannot get iframe document",e)}return t},t.getValueString=re,t.uniques=oe,t.flatten=ie,t.getBidRequest=function(e,t){if(!e)return;var n;return t.some(function(t){var r=(0,i.default)(t.bids,function(t){return["bidId","adId","bid_id"].some(function(n){return t[n]===e})});return r&&(n=r),r}),n},t.getKeys=ae,t.getValue=ue,t.getKeyByValue=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n},t.getBidderCodes=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(ie,[])}).reduce(ie).filter(oe)},t.isGptPubadsDefined=function(){if(window.googletag&&G(window.googletag.pubads)&&G(window.googletag.pubads().getSlots))return!0},t.shuffle=function(e){var t=e.length;for(;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e},t.adUnitsFilter=function(e,t){return(0,a.default)(e,t&&t.adUnitCode)},t.isSrcdocSupported=function(e){return e.defaultView&&e.defaultView.frameElement&&"srcdoc"in e.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent)},t.deepClone=le,t.inIframe=pe,t.isSafariBrowser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(!e)return;return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.timestamp=function(){return(new Date).getTime()},t.checkCookieSupport=ge,t.cookiesAreEnabled=function(){if(A.checkCookieSupport())return!0;return window.document.cookie="prebid.cookieTest",-1!=window.document.cookie.indexOf("prebid.cookieTest")},t.getCookie=function(e){var t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null},t.setCookie=function(e,t,n){document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(""!==n?"; expires=".concat(n):"","; path=/")},t.localStorageIsEnabled=function(){try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){return!1}},t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(null,arguments)}},t.groupBy=function(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})},t.deepAccess=function(e,t){if(!e)return;t=String(t).split(".");for(var n=0;n<t.length;n++)if(void 0===(e=e[t[n]]))return;return e},t.createContentToExecuteExtScriptInFriendlyFrame=function(e){if(!e)return"";return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;<\/script></head><body>\x3c!--PRE_SCRIPT_TAG_MACRO--\x3e<script src="'.concat(e,'"><\/script>\x3c!--POST_SCRIPT_TAG_MACRO--\x3e</body></html>')},t.getDefinedParams=function(e,t){return t.filter(function(t){return e[t]}).reduce(function(t,n){return f(t,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},n,e[n]))},{})},t.isValidMediaTypes=function(e){var t=["banner","native","video"];if(!Object.keys(e).every(function(e){return(0,a.default)(t,e)}))return!1;if(e.video&&e.video.context)return(0,a.default)(["instream","outstream","adpod"],e.video.context);return!0},t.getBidderRequest=function(e,t,n){return(0,i.default)(e,function(e){return e.bids.filter(function(e){return e.bidder===t&&e.adUnitCode===n}).length>0})||{start:null,auctionId:null}},t.getUserConfiguredParams=function(e,t,n){return e.filter(function(e){return e.code===t}).map(function(e){return e.bids}).reduce(ie,[]).filter(function(e){return e.bidder===n}).map(function(e){return e.params||{}})},t.getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.isAdUnitCodeMatchingSlot=function(e){return function(t){return ve(e,t)}},t.isSlotMatchingAdUnitCode=function(e){return function(t){return ve(t,e)}},t.unsupportedBidderMessage=function(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},t.deletePropertyFromObject=function(e,t){var n=f({},e);return delete n[t],n},t.isInteger=be,t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},t.transformBidderParamKeywords=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return Q(e,function(e,r){if(H(e)){var o=[];Q(e,function(e){((e=re(t+"."+r,e))||""===e)&&o.push(e)}),e=o}else{if(!W(e=re(t+"."+r,e)))return;e=[e]}n.push({key:r,value:e})}),n},t.convertTypes=function(e,t){return Object.keys(e).forEach(function(n){var r,o;t[n]&&(G(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],o=t[n],"string"===r?o&&o.toString():"number"===r?Number(o):o),isNaN(t[n])&&delete t.key)}),t},t.setDataInLocalStorage=function(e,t){ye()&&window.localStorage.setItem(e,t)},t.getDataFromLocalStorage=function(e){if(ye())return window.localStorage.getItem(e)},t.hasLocalStorage=ye,t.isArrayOfNums=function(e,t){return H(e)&&(!t||e.length===t)&&e.every(function(e){return be(e)})},t.fill=function(e,t){for(var n=[],r=0;r<t;r++){var o=K(e)?le(e):e;n.push(o)}return n},t.chunk=function(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var o=r*t,i=o+t;n.push(e.slice(o,i))}return n},t.getMinValueFromArray=function(e){return Math.min.apply(Math,d(e))},t.getMaxValueFromArray=function(e){return Math.max.apply(Math,d(e))},t.compareOn=function(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}},t.getLatestHighestCpmBid=t.getOldestHighestCpmBid=t.getHighestCpm=t.indexOf=t.bind=t.internal=void 0;var r=n(2),o=c(n(189)),i=c(n(12)),a=c(n(5)),u=n(51),s=n(1);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=n(8),g=!1,v="Array",b="String",y="Function",m="Number",h="Object",E="Boolean",_=Object.prototype.toString,I=Boolean(window.console),S=Boolean(I&&window.console.log),A=(Boolean(I&&window.console.info),Boolean(I&&window.console.warn),Boolean(I&&window.console.error),{checkCookieSupport:ge,createTrackPixelIframeHtml:ne,getWindowSelf:k,getWindowTop:D,getAncestorOrigins:P,getTopFrameReferrer:B,getWindowLocation:M,getTopWindowLocation:j,insertUserSyncIframe:te,insertElement:Z,isFn:G,triggerPixel:ee,logError:q,logWarn:z,logMessage:U,logInfo:L});t.internal=A;var w={},O=function(e,t){return t}.bind(null,1,w)()===w?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}};t.bind=O;var T,x=(T=0,function(){return++T});function R(){return x()+Math.random().toString(16).substr(2)}function C(e){if(H(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]}function j(){if(pe()){var e;try{e=A.getAncestorOrigins()||A.getTopFrameReferrer()}catch(e){L("could not obtain top window location",e)}if(e)return(0,u.parse)(e,{decodeSearchAsString:!0})}return A.getWindowLocation()}function B(){try{window.top.location.toString();var e,t="";do{(e=e?e.parent:window).document&&e.document.referrer&&(t=e.document.referrer)}while(e!==window.top);return t}catch(e){return window.document.referrer}}function P(){if(window.document.location&&window.document.location.ancestorOrigins&&window.document.location.ancestorOrigins.length>=1)return window.document.location.ancestorOrigins[window.document.location.ancestorOrigins.length-1]}function D(){return window.top}function k(){return window.self}function M(){return window.location}var N=(0,s.generateLoggers)({namespace:"Prebid",color:"#3b88c3",textColor:"#FFF"}).atVerbosity(3);function U(){N.logMessage.apply(N,arguments)}function L(){N.logInfo.apply(N,arguments)}function z(){N.logWarn.apply(N,arguments)}function q(){N.logError.apply(N,arguments)}function F(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function V(e,t){return _.call(e)==="[object "+t+"]"}function G(e){return V(e,y)}function W(e){return V(e,b)}function H(e){return V(e,v)}function Y(e){return V(e,m)}function K(e){return V(e,h)}function J(e){if(!e)return!0;if(H(e)||W(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t){if(!J(e)){if(G(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(r>0)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}var $=function(){if(Array.prototype.indexOf)return Array.prototype.indexOf}();t.indexOf=$;var X=function(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]};function Z(e,t,n,r){var o;t=t||document,o=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((o=o.length?o:t.getElementsByTagName("body")).length){o=o[0];var i=r?null:o.firstChild;return o.insertBefore(e,i)}}catch(e){}}function ee(e,t){var n=new Image;t&&A.isFn(t)&&(n.addEventListener("load",t),n.addEventListener("error",t)),n.src=e}function te(e,t){var n=A.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=n;var o=r.firstChild;t&&A.isFn(t)&&(o.addEventListener("load",t),o.addEventListener("error",t)),A.insertElement(o,document,"html",!0)}function ne(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n='sandbox="'.concat(n,'"')),"<iframe ".concat(n,' id="').concat(R(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function re(e,t,n){return null==t?n:W(t)?t:Y(t)?t.toString():void A.logWarn("Unsuported type for param: "+e+" required type: String")}function oe(e,t,n){return n.indexOf(e)===t}function ie(e,t){return e.concat(t)}function ae(e){return Object.keys(e)}function ue(e,t){return e[t]}var se=fe("timeToRespond",function(e,t){return e>t});t.getHighestCpm=se;var ce=fe("responseTimestamp",function(e,t){return e>t});t.getOldestHighestCpmBid=ce;var de=fe("responseTimestamp",function(e,t){return e<t});function fe(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function le(e){return(0,o.default)(e)}function pe(){try{return A.getWindowSelf()!==A.getWindowTop()}catch(e){return!0}}function ge(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}t.getLatestHighestCpmBid=de;var ve=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function be(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function ye(){try{return!!window.localStorage}catch(e){q("Local storage api disabled")}}},function(e,t,n){"use strict";var r=n(33),o=n(104),i=u(n(19)),a=u(n(40));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n(3),l=f.QUERY_PARAMS,p=l.LOG_VERBOSITY,g=l.LOG_LEVEL,v=l.LOG_NAMESPACE,b=l.LOG_TRUENAMES,y=l.PBJS_DEBUG,m=f.LOGS.BIDBARREL,h=Boolean(window.console),E=Boolean(h&&window.console.log),_=Boolean(h&&window.console.info),I=Boolean(h&&window.console.warn),S=Boolean(h&&window.console.error),A=(0,r.urlQueryAsObject)(),w=A[y],O=!!w&&"true"===w.toLowerCase(),T={},x={namespace:m.LABEL,color:m.COLOR,textColor:"#FFF",verbosity:3},R=P();var C={isEnabled:function(){return!0}},j={isEnabled:function(){return!0}};function B(){return O?3:A[p]?"all"===A[p]?5:parseInt(A[p])==parseInt(A[p])?parseInt(A[p]):A[p].length:0}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t={};u((0,i.default)({},e,x));var n={logMessage:function(){E&&console.log.apply(console,r(arguments,"MESSAGE:"))},logWarn:function(){I&&console.warn.apply(console,r(arguments,"WARNING:"))},logInfo:function(){_&&console.info.apply(console,r(arguments,"INFO:"))},logError:function(){S&&console.error.apply(console,r(arguments,"ERROR:"))}};function r(e,n){return e=[].slice.call(e),n&&e.unshift(n),document.documentMode||/Edge/.test(navigator.userAgent)?e.unshift("".concat(t.namespace,":")):(e.unshift("display: inline-block; color: ".concat(t.textColor,"; background: ").concat(t.color,"; padding: 1px 4px; border-radius: 3px;")),e.unshift("%c".concat(t.namespace))),e}function u(e){for(var n in t=(0,i.default)({},e,t),f){if(f.hasOwnProperty(n))f[n].setLoggerConfig((0,a.default)(t,["verbosity"]))}e.levels&&(t.levels=e.levels.constructor===Object?e.levels:(0,o.stringFlags)(t.levels,!1)),e.namespaces&&(t.namespaces=e.namespaces.constructor===Object?e.namespaces:(0,o.stringFlags)(t.namespaces))}function s(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=B();if(o||C.string||j.string)return t.verbosity<=o&&j.isEnabled(e)&&C.isEnabled(n)&&C.isEnabled("".concat(e,".").concat(n));var i=r;return t.levels&&t.levels.string&&(i=t.levels.isEnabled(n)),t.namespaces&&t.levels.string&&(i=t.namespaces.isEnabled(e)),i}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r={},o=function(o){if(n.hasOwnProperty(o)){var i=n[o];r[o]=function(){var n=o.replace("log","").toLowerCase(),r=t.namespace.toLowerCase();s(r,n,e)&&i.apply(void 0,arguments)}}};for(var i in n)o(i);return r}var f={};return c({},d(),{force:d(!0),atVerbosity:function(e){return f["level".concat(e)]?f["level".concat(e)]:(f["level".concat(e)]=P(c({},t,{verbosity:e})),f["level".concat(e)])},getStack:function(e){return T[t.namespace]?e?T[t.namespace].filter(function(t){return t.type===e}):T[t.namespace]:[]},setLoggerConfig:u,config:t})}A[g]&&(C=(0,o.stringFlags)(A[g].toLowerCase(),!1)),A[v]&&(j=(0,o.stringFlags)(A[v].toLowerCase())),e.exports={generateLoggers:P,bbLogger:R,modLogTheme:function(e){return A[b]?(0,i.default)({},e,x):x},setDefaultConfig:function(e){x=(0,i.default)({},e,x)},turnOnDebug:function(){O=!0},generateModuleLoggers:function(e){return A[b]?P((0,i.default)({},e,x)):R},getVerbosityLevel:B,debugOn:function(){return O}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newConfig=I,t.config=t.RANDOM=void 0;var r=n(94),o=u(n(12)),i=u(n(5)),a=n(32);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=n(0),f=!1,l=3e3,p=window.location.origin,g=!0,v=!1,b=!1,y=400;t.RANDOM="random";var m={random:!0,fixed:!0},h="random",E={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},_="*";function I(){var e,t,n=[];function u(){e={};var n={_debug:f,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:l,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:p,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:E.MEDIUM,set priceGranularity(e){a(e)&&("string"==typeof e?this._priceGranularity=i(e)?e:E.MEDIUM:"object"===c(e)&&(this._customPriceBucket=e,this._priceGranularity=E.CUSTOM,d.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce(function(n,r){return a(e[r])?"string"==typeof e?n[r]=i(e[r])?e[r]:t._priceGranularity:"object"===c(e)&&(n[r]=e[r],d.logMessage("Using custom price granularity for ".concat(r))):d.logWarn("Invalid price granularity for media type: ".concat(r)),n},{})},_sendAllBids:g,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:b,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_bidderSequence:h,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){m[e]?this._bidderSequence=e:d.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:y,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:v,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e}};function i(e){return(0,o.default)(Object.keys(E),function(t){return e===E[t]})}function a(e){if(!e)return d.logError("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)i(e)||d.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if("object"===c(e)&&!(0,r.isValidPriceConfig)(e))return d.logError("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&A(Object.keys(t).reduce(function(e,r){return t[r]!==n[r]&&(e[r]=n[r]||{}),e},{})),t=n}var I=(0,a.hook)("async",function(n){if("object"===c(n)){var r=Object.keys(n),o={};r.forEach(function(r){var i=n[r];"object"===c(e[r])&&"object"===c(i)&&(i=s({},e[r],i)),o[r]=t[r]=i}),A(o)}else d.logError("setConfig options must be an object")});function S(e,t){var r=t;if("string"!=typeof e&&(r=e,e=_),"function"==typeof r)return n.push({topic:e,callback:r}),function(){n.splice(n.indexOf(t),1)};d.logError("listener must be a function")}function A(e){var t=Object.keys(e);n.filter(function(e){return(0,i.default)(t,e.topic)}).forEach(function(t){var n,r,o;t.callback((n={},r=t.topic,o=e[t.topic],r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))}),n.filter(function(e){return e.topic===_}).forEach(function(t){return t.callback(e)})}return u(),{getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?d.deepAccess(t,e):t}return S.apply(void 0,arguments)},setConfig:I,setDefaults:function(n){"object"===c(e)?(s(e,n),s(t,n)):d.logError("defaults must be an object")},resetConfig:u}}var S=I();t.config=S},function(e){e.exports=JSON.parse('{"STAGE_ENVIRONMENTS":["stage","staging","dev"],"QUERY_PARAMS":{"LOG_VERBOSITY":"bb_logVerbosity","LOG_NAMESPACE":"bb_logNamespace","LOG_LEVEL":"bb_logLevel","LOG_TRUENAMES":"bb_logTrueNames","PERF_MEASURE":"bb_perfMeasure","FORCE_RUN":"bb_forceRun","ANALYTICS":"bb_analytics","PBJS_DEBUG":"pbjs_debug","AD_SUPPRESS":"adSuppress","SIZE_SUPPRESS":"sizeSuppress","BID_SUPPRESS":"bidSuppress","MOD_SUPPRESS":"modSuppress","AD_SESSION":"adSession","AD_SUBSESSION":"adSubses","SESSION":"session","SUBSESSION":"subsession","FTAG":"ftag","TTAG":"ttag","TARGETING_PREFIX":"adTargeting_"},"LOGS":{"BIDBARREL":{"LABEL":"BidBarrel","COLOR":"#6B5CA5"},"REQUEST_MANAGER":{"LABEL":"requestManager","COLOR":"#777"}},"CONFIG_RESTRICTED_KEYS":["timeouts","prebid","digiTrust","adjustSlotDefinition","refreshOrder","contentAnnotation"],"UNIT_CONFIG_ALLOWED_MODIFIERS":["cache","collapseEmptyDiv","sizeMappings","outOfPage","lazyLoad"],"ANALYTICS_RECORD_TYPES":{"NO_BID":"noBid","BID_USED":"usedBid","BID":"bid"},"MODULES":{"PREBID_HEADER_BIDDING":"prebid","PREBID_ANALYTICS":"prebidAnalytics","BIDBARREL_ANALYTICS":"bidbarrelAnalytics","DYNAMIC_BIDDERS":"dynamicBidders","DYNAMIC_TARGETING":"dynamicTargeting","GEOLOCATION":"geo","STRING_SIZES_FILTER":"stringSizesFilter","IX_HEADER_BIDDING":"ixUniversal","AMAZON_HEADER_BIDDING":"amazon","DIGITRUST":"digiTrust","CONFIANT_PREBID":"confiantPrebid","CONFIANT_GOOGLETAG":"confiantGoogletag","STACKS":"stacks","MYI":"myi","BIDBARREL_FEATURES":"enforceHeaderBiddingFeatures","AUTO_PRIORITY":"autoPriority","CONTENT_ANNOTATION":"contentAnnotation","OPTANON":"cbsoptanon"},"EVENTS":{"ANALYTICS_RECORD_CREATED":"analyticsRecordCreated","ANALYTICS_REPORTED":"analyticsReported","ANALYTICS_CANCELLED":"analyticsCancelled","BAD_BID":"badBid","BAD_AD":"badAd","BID_USED":"bidUsed","BID_RECYCLED":"bidRecycled","DISPLAY_CALLED":"displayCalled","LOAD":"load","INITIALIZE":"initialize","HEADER_BIDDING_REQUEST":"headerBiddingRequest","MODULE_INITIALIZED":"moduleInitialized","MODULE_REGISTERED":"moduleRegistered","MODULE_DEREGISTERED":"moduleDeregistered","INSTANTIATED":"instantiated","REFRESH":"refresh","BIDS_RETURNED":"bidsReturned","BIDS_REQUESTED":"bidsRequested","SLOT_DEFINED":"slotDefined","BATCH_SLOTS_DEFINED":"batchSlotsDefined","AD_VIEWABLE":"viewable","AD_RENDERED":"rendered","AD_LOADED":"loaded","AD_REQUESTED":"requested","AD_RECEIVED":"responseReceived","AD_VISIBILITY_CHANGED":"visibilityChanged","DFP_EVENTS":{"AD_VIEWABLE":"impressionViewable","AD_RENDERED":"slotRenderEnded","AD_LOADED":"slotOnload","AD_REQUESTED":"slotRequested","AD_RECEIVED":"slotResponseReceived","AD_VISIBILITY_CHANGED":"slotVisibilityChanged"}}}')},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){n(184),e.exports=n(22).Array.includes},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(128),o=n(130),i=n(15);e.exports=function(e){return i(e)?r(e):o(e)}},function(e){e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","SET_TARGETING":"setTargeting","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocuemnt","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered"}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moduleManager=void 0;var r=n(21),o=n(1),i=n(45),a=v(n(40)),u=v(n(7)),s=v(n(30)),c=v(n(145)),d=v(n(17)),f=v(n(152)),l=n(307),p=n(11),g=n(47);function v(e){return e&&e.__esModule?e:{default:e}}var b=(0,o.generateModuleLoggers)({namespace:"moduleManager",color:"#FF9E1A",textColor:"#FFF"}),y=n(3),m=y.EVENTS,h=m.MODULE_DEREGISTERED,E=m.LOAD,_=m.MODULE_REGISTERED,I=m.MODULE_INITIALIZED,S=m.INITIALIZE,A=y.QUERY_PARAMS.MOD_SUPPRESS,w=function(){var e=(0,l.gateway)("moduleManager"),t=[],n={},o=null,v=!1;function y(o){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(c.queue)return(c.queue.push||c.queue)(function(e){y(o,s,(0,a.default)(c,["queue"])),"function"==typeof e&&e()}),o;if(c.gate&&void 0!==e.getGates()[c.gate])return e.onOpen(function(){y(o,s,(0,a.default)(c,["gate"]))},c.gate),b.logInfo("Delaying registration of module ".concat(o.name," for gateway ").concat(c.gate)),o;var d=o.name;if(s)return o.dependencies=s,function(e,t){e=e.constructor===Array?e:[e];var n=function(){return e.reduce(function(e,t){return e&&x(t)},!0)};if(r.eventEmitter.on(h,function(){n()||T(t.name)}),n())return y(t);r.eventEmitter.on(_,function(){n()&&y(t)});return t}(s,o);if(g.features.get(["".concat(A,".").concat(d),"".concat(A,".all")]))return b.atVerbosity(2).logInfo("Module Supressed",d,o),o;if(n[d]&&n[d].isRegistered)n[d]&&(o=n[d]);else{n[d]=o,n[d].isRegistered=!0,n[d].index=n[d].index||(0,u.default)(n).length-1,n[d].register&&(0,i.makeSafe)(function(){return n[d].register()},b.atVerbosity(1).logError),b.atVerbosity(2).logInfo("Registering Module",d,n[d]),r.eventEmitter.emit([_,"".concat(o.name,".").concat(_)],d,n[d]);for(var f=0;f<t.length;f++){(0,t[f])(n[d],d)}}return n[d]}function m(e,r){for(var o=(0,c.default)((0,s.default)(n),["index"],["asc"]),i=0;i<o.length;i++){var a=n[o[i].name];a&&e(a,a.name)}r&&t.push(function(t,n){return!!t&&e(t,n)})}function w(e,t){var n,r;n=(0,d.default)(t),r=n,m(function(e){if(e.bidRequest){var t=(0,d.default)(r);(0,i.makeSafe)(function(){r=e.bidRequest(r,o)},b.atVerbosity(1).logError,function(){r=t})}}),e(t=r)}function O(e,t){m(function(e){e.setConfig&&(0,i.makeSafe)(function(){return e.setConfig(o.config,t)},b.atVerbosity(1).logError)},!0),e(t)}function T(e){var t=n[e];t.deregister&&(0,i.makeSafe)(function(){return t.deregister(o)},b.atVerbosity(1).logError),r.eventEmitter.emit([h,"".concat(e,".").concat(h)],e,t),n=(0,a.default)(n,[e])}function x(e){return void 0!==n[e]}return r.eventEmitter.on(S,function(){v||m(function(e){e.initialize&&(0,i.makeSafe)(function(){return e.initialize(o)},b.atVerbosity(1).logError),e.isInitialized=!0,r.eventEmitter.emit([I,"".concat(e.name,".").concat(I)],e.name,e)},!0)}),r.eventEmitter.on(E,function(e){(o=e).setConfig.after(O),o.headerBidderRequest.before(w)}),p.exposureApi.expose({getRegisteredModules:function(){return(0,u.default)(n)}}),{register:y,deregister:T,isEnabled:x,viaModule:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];x(e)?t((0,f.default)(n[e],{isEnabled:!0})):r&&t({isEnabled:!1})},gateways:e,apiReady:!0}}();t.moduleManager=w},function(e,t,n){var r=n(106),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expose=function(e){c.expose(e)},t.exposureApi=void 0;var r=u(n(19)),o=n(45),i=n(1),a=u(n(152));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.generateLoggers)({namespace:"ExposureApi",color:"#F4B835"}),c=function(){var e={},t={};function n(e){"function"==typeof e?(0,o.makeSafe)(function(){return n=e(t)},s.logError):n=(0,r.default)({},e,t)}return{api:function(){return e},expose:function(t){"function"==typeof t?(0,o.makeSafe)(function(){return e=t(e)},s.logError):e=(0,r.default)({},t,e)},rootScope:n,withExposedRootScope:function(e){return(0,a.default)(e,t)}}}();t.exposureApi=c},function(e,t,n){n(166),e.exports=n(22).Array.find},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerBidder=function(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=S(e);o.default.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach(function(t){o.default.aliasRegistry[t]=e.code,n(E({},e,{code:t}))})},t.newBidder=S,t.preloadBidderMappingFile=A,t.getIabSubCategory=function(e,t){var n=o.default.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),i=r.localStorageKey?r.localStorageKey:n.getBidderCode(),a=(0,g.getDataFromLocalStorage)(i);if(a){try{a=JSON.parse(a)}catch(t){(0,g.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return a.mapping[t]?a.mapping[t]:null}}},t.isValid=w;var r=y(n(165)),o=y(n(48)),i=n(2),a=n(142),u=n(44),s=n(42),c=n(143),d=y(n(8)),f=y(n(43)),l=y(n(5)),p=n(86),g=n(0),v=n(16),b=n(32);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=["requestId","cpm","ttl","creativeId","netRevenue","currency"],I=1;function S(e){return E(new r.default(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(r,o,i,u,s){if(Array.isArray(r.bids)){var c={},l=[],p=r.bids.filter(n);if(0!==p.length){var v={};p.forEach(function(e){v[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)});var b=e.buildRequests(p,r);if(b&&0!==b.length){Array.isArray(b)||(b=[b]);var y=(0,g.delayExecution)(m,b.length);b.forEach(function(t){switch(t.method){case"GET":u("".concat(t.url).concat(function(e){if(e)return"?".concat("object"===h(e)?(0,g.parseQueryStringParameters)(e):e);return""}(t.data)),{success:n,error:i},void 0,E({method:"GET",withCredentials:!0},t.options));break;case"POST":u(t.url,{success:n,error:i},"string"==typeof t.data?t.data:JSON.stringify(t.data),E({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:(0,g.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),y()}function n(n,i){s(e.code);try{n=JSON.parse(n)}catch(e){}var u;n={body:n,headers:{get:i.getResponseHeader.bind(i)}},l.push(n);try{u=e.interpretResponse(n,t)}catch(t){return(0,g.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void y()}function f(t){var n=v[t.requestId];if(n){var i=E((0,a.createBid)(d.default.STATUS.GOOD,n),t);!function(e,t){c[e]=!0,w(e,t,[r])&&o(e,t)}(n.adUnitCode,i)}else(0,g.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring."))}u&&(u.forEach?u.forEach(f):f(u)),y(u)}function i(t){s(e.code),(0,g.logError)("Server call for ".concat(e.code," failed: ").concat(t,". Continuing without bids.")),y()}})}else m()}else m()}function m(){i(),f.default.emit(d.default.EVENTS.BIDDER_DONE,r),t(l,r.gdprConsent)}}});function t(t,n){if(e.getUserSyncs){var r=i.config.getConfig("userSync.filterSettings"),o=e.getUserSyncs({iframeEnabled:!!(i.config.getConfig("userSync.iframeEnabled")||r&&(r.iframe||r.all)),pixelEnabled:!!(i.config.getConfig("userSync.pixelEnabled")||r&&(r.image||r.all))},t,n);o&&(Array.isArray(o)||(o=[o]),o.forEach(function(t){u.userSync.registerSync(t.type,e.code,t.url)}))}}function n(t){return!!e.isBidRequestValid(t)||((0,g.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}function A(e,t){if(!i.config.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter(function(e){return(0,g.deepAccess)(e,"mediaTypes.video.context")===v.ADPOD}).map(function(e){return e.bids.map(function(e){return e.bidder})}).reduce(g.flatten,[]).filter(g.uniques).forEach(function(e){var t=o.default.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:I,i=n.localStorageKey?n.localStorageKey:t.getSpec().code,a=(0,g.getDataFromLocalStorage)(i);(!a||(0,g.timestamp)()<a.lastUpdated+24*r*60*60*1e3)&&(0,p.ajax)(n.url,{success:function(t){try{t=JSON.parse(t);var n={lastUpdated:(0,g.timestamp)(),mapping:t.mapping};(0,g.setDataInLocalStorage)(i,JSON.stringify(n))}catch(t){(0,g.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){(0,g.logError)("Failed to load ".concat(e," bidder translation file"))}})}}),e.call(this,t)}function w(e,t,n){function r(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(o=Object.keys(t),_.every(function(e){return(0,l.default)(o,e)&&!(0,l.default)([void 0,null],t[e])})?"native"!==t.mediaType||(0,s.nativeBidIsValid)(t,n)?"video"!==t.mediaType||(0,c.isValidVideoBid)(t,n)?!("banner"===t.mediaType&&!function(e,t,n){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var r=(0,g.getBidderRequest)(n,t.bidderCode,e),o=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,i=(0,g.parseSizesInput)(o);if(1===i.length){var a=m(i[0].split("x"),2),u=a[0],s=a[1];return t.width=parseInt(u,10),t.height=parseInt(s,10),!0}return!1}(e,t,n))||((0,g.logError)(r("Banner bids require a width and height")),!1):((0,g.logError)(r("Video bid does not have required vastUrl or renderer property")),!1):((0,g.logError)(r("Native bid missing some required properties.")),!1):((0,g.logError)(r("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):((0,g.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,g.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var o}(0,b.getHook)("checkAdUnitSetup").before(A)},function(e,t,n){var r=n(71),o=n(79);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADPOD=t.BANNER=t.VIDEO=t.NATIVE=void 0;t.NATIVE="native";t.VIDEO="video";t.BANNER="banner";t.ADPOD="adpod"},function(e,t,n){var r=n(129),o=1,i=4;e.exports=function(e){return r(e,o|i)}},function(e,t,n){var r=n(201),o=n(204);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(113),o=n(56),i=n(230),a=n(246),u=o(function(e){return e.push(void 0,i),r(a,void 0,e)});e.exports=u},function(e,t,n){var r=n(61),o=n(59);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var u=-1,s=t.length;++u<s;){var c=t[u],d=i?i(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),a?o(n,c,d):r(n,c,d)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventEmitter=void 0;var r=n(1),o=n(33),i=n(29),a=(0,r.generateModuleLoggers)({namespace:"eventEmitter",color:"#F5F1ED",textColor:"#252323"}),u=function(){var e=this,t=(0,o.urlQueryAsObject)(),n={once:{}};function r(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("once"!==e)if(e.constructor!==Array)o?(n.once[e]||(n.once[e]=[]),n.once[e].push(t)):(n[e]||(n[e]=[]),n[e].push(t));else for(var i=0;i<e.length;i++){r(e[i],t,o)}}function u(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if("true"===t.bb_dom_dispatch&&document.dispatchEvent(new CustomEvent("__bb.".concat(e),{detail:o})),a.atVerbosity(5).logInfo("Emitting Event",e,"with arguments",o),n[e]&&n[e].length||n.once[e]&&n.once[e].length){if(n[e])for(var u=0;u<n[e].length;u++){var s=n[e][u];try{a.atVerbosity(4).logInfo(e,"emitting callback",s),s.apply(null,o)}catch(t){a.atVerbosity(1).logError("Callback for event",e,"with args",o,"returned an error",t)}}if(n.once[e]){for(var c=0;c<n.once[e].length;c++){var d=n.once[e][c];try{a.atVerbosity(4).logInfo(e,"emitting callback",d),d.apply(null,o)}catch(t){a.atVerbosity(1).logError("Run once callback for event",e,"returned an error",t)}}n.once[e]=[]}}}return{emit:(0,i.hookedFn)("sync",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(t.constructor!==Array)u.apply(e,[t].concat(r));else for(var i=0;i<t.length;i++){var a=t[i];u.apply(e,[a].concat(r))}}),on:r,addEventListener:r,subscribe:r}}();t.eventEmitter=u},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(10).Symbol;e.exports=r},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(23),o=n(192),i=n(193),a="[object Null]",u="[object Undefined]",s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?u:a:s&&s in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(4),o=n(85),i=n(267),a=n(107);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(34),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=u,t.isRendererRequired=function(e){return!(!e||!e.url)},t.executeRenderer=function(e,t){e.render(t)};var r,o=n(144),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=(r=n(12))&&r.__esModule?r:{default:r};function u(e){var t=this,n=e.url,r=e.config,u=e.id,s=e.callback,c=e.loaded,d=e.adUnitCode;this.url=n,this.config=r,this.handlers={},this.id=u,this.loaded=c,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):i.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=s||function(){t.loaded=!0,t.process()},!function(e){var t=pbjs.adUnits,n=(0,a.default)(t,function(t){return t.code===e});return!!(n&&n.renderer&&n.renderer.url&&n.renderer.render)}(d)?(0,o.loadScript)(n,this.callback,!0):i.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(d))}u.install=function(e){return new u({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},u.prototype.getConfig=function(){return this.config},u.prototype.setRender=function(e){this.render=e},u.prototype.setEventHandlers=function(e){this.handlers=e},u.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),i.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(n))},u.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){i.logError("Error processing Renderer command: ",e)}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.hookedFn=void 0;var o=(0,((r=n(286))&&r.__esModule?r:{default:r}).default)({useProxy:void 0!==window.Proxy});t.hookedFn=o},function(e,t,n){var r=n(287),o=n(7);e.exports=function(e){return null==e?[]:r(e,o(e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupBeforeHookFnOnce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;0===e.getHooks({hook:t}).length&&e.before(t,n)},t.getHook=t.hook=void 0;var r,o=(r=n(188))&&r.__esModule?r:{default:r};var i=(0,o.default)({ready:o.default.SYNC|o.default.ASYNC|o.default.QUEUE});t.hook=i;var a=i.get;t.getHook=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlQueryAsObject=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t="";if(r[e])return r[e];t=JSON.stringify(e);(e=e.substring(e.indexOf("?")+1)).indexOf("#")>=0&&(e=e.split("#")[0]);var n,o=/([^&=]+)=?([^&]*)/g,i=/\+/g,a=function(e){return decodeURIComponent(e.replace(i," "))},u={};for(;n=o.exec(e);){var s=a(n[1]),c=a(n[2]);"[]"===s.substring(s.length-2)?(s=s.substring(0,s.length-2),(u[s]||(u[s]=[])).push(c)):u[s]=c}var d=function(e,t,n){for(var r=t.length-1,o=0;o<r;++o){var i=t[o];i in e||(e[i]={}),e=e[i]}e[t[r]]=n};for(var f in u){var l=f.split("[");if(l.length>1){var p=[];l.forEach(function(e,t){var n=e.replace(/[?[\]\\ ]/g,"");p.push(n)}),d(u,p,u[f]),delete u[f]}}""!==t&&(r[t]=u);return u};var r={}},function(e,t,n){var r=n(25),o=n(13),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(239),o=n(13),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},function(e,t,n){(function(e){var r=n(10),o=n(240),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;e.exports=s}).call(this,n(76)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var r=n(24),o=n(129),i=n(266),a=n(26),u=n(20),s=n(272),c=n(137),d=n(135),f=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=a(t,e),c||(c=t.length>1),t}),u(e,d(e),n),c&&(n=o(n,7,s));for(var f=t.length;f--;)i(n,t[f]);return n});e.exports=f},function(e,t,n){var r=n(254),o=n(72),i=n(255),a=n(112),u=n(256),s=n(25),c=n(109),d=c(r),f=c(o),l=c(i),p=c(a),g=c(u),v=s;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case d:return"[object DataView]";case f:return"[object Map]";case l:return"[object Promise]";case p:return"[object Set]";case g:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processNativeAdUnitParams=function(e){if(e&&e.type&&function(e){if(!e||!(0,i.default)(Object.keys(d),e))return(0,o.logError)("".concat(e," nativeParam is not supported")),!1;return!0}(e.type))return d[e.type];return e},t.nativeBidIsValid=function(e,t){var n=(0,o.getBidRequest)(e.requestId,t);if(!n)return!1;if(!(0,o.deepAccess)(e,"native.clickUrl"))return!1;if((0,o.deepAccess)(e,"native.image")&&(!(0,o.deepAccess)(e,"native.image.height")||!(0,o.deepAccess)(e,"native.image.width")))return!1;if((0,o.deepAccess)(e,"native.icon")&&(!(0,o.deepAccess)(e,"native.icon.height")||!(0,o.deepAccess)(e,"native.icon.width")))return!1;var r=n.nativeParams;if(!r)return!0;var a=Object.keys(r).filter(function(e){return r[e].required}),u=Object.keys(e.native).filter(function(t){return e.native[t]});return a.every(function(e){return(0,i.default)(u,e)})},t.fireNativeTrackers=function(e,t){var n;"click"===e.action?n=t.native&&t.native.clickTrackers:(n=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,o.insertHtmlIntoIframe)(t.native.javascriptTrackers));return(n||[]).forEach(o.triggerPixel),e.action},t.getNativeTargeting=function(e,t){var n={};return Object.keys(e.native).forEach(function(r){var i=u.NATIVE_KEYS[r],a=l(e.native[r]);(0,o.deepAccess)(t,"mediaTypes.native.".concat(r,".sendId"))&&(a="".concat(i,":").concat(e.adId));i&&a&&(n[i]=a)}),n},t.getAssetMessage=function(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return e.assets.forEach(function(e){var r=(0,o.getKeyByValue)(u.NATIVE_KEYS,e),i=l(t.native[r]);n.assets.push({key:r,value:i})}),n},t.hasNonNativeBidder=t.nativeBidder=t.nativeAdUnit=t.NATIVE_TARGETING_KEYS=t.nativeAdapters=void 0;var r,o=n(0),i=(r=n(5))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=n(8),s=[];t.nativeAdapters=s;var c=Object.keys(u.NATIVE_KEYS).map(function(e){return u.NATIVE_KEYS[e]});t.NATIVE_TARGETING_KEYS=c;var d={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};t.nativeAdUnit=function(e){var t="native"===e.mediaType,n=(0,o.deepAccess)(e,"mediaTypes.native");return t||n};var f=function(e){return(0,i.default)(s,e.bidder)};t.nativeBidder=f;function l(e){return"object"===a(e)&&e.url?e.url:e}t.hasNonNativeBidder=function(e){return e.bids.filter(function(e){return!f(e)}).length}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=n(8),a=Array.prototype.slice,u=Array.prototype.push,s=o._map(i.EVENTS,function(e){return e}),c=i.EVENT_ID_PATHS,d=[];e.exports=function(){var e={},t={};function n(t,n){o.logMessage("Emitting event for: "+t);var r=n[0]||{},i=r[c[t]],a=e[t]||{que:[]},s=o._map(a,function(e,t){return t}),f=[];d.push({eventType:t,args:r,id:i}),i&&o.contains(s,i)&&u.apply(f,a[i].que),u.apply(f,a.que),o._each(f,function(e){if(e)try{e.apply(null,n)}catch(e){o.logError("Error executing handler:","events.js",e)}})}return t.on=function(t,n,r){if(function(e){return o.contains(s,e)}(t)){var i=e[t]||{que:[]};r?(i[r]=i[r]||{que:[]},i[r].que.push(n)):i.que.push(n),e[t]=i}else o.logError("Wrong event name : "+t+" Valid event names :"+s)},t.emit=function(e){var t=a.call(arguments,1);n(e,t)},t.off=function(t,n,r){var i=e[t];o.isEmpty(i)||o.isEmpty(i.que)&&o.isEmpty(i[r])||r&&(o.isEmpty(i[r])||o.isEmpty(i[r].que))||(r?o._each(i[r].que,function(e){var t=i[r].que;e===n&&t.splice(o.indexOf.call(t,e),1)}):o._each(i.que,function(e){var t=i.que;e===n&&t.splice(o.indexOf.call(t,e),1)}),e[t]=i)},t.get=function(){return e},t.getEvents=function(){var e=[];return o._each(d,function(t){var n=r({},t);e.push(n)}),e},t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newUserSync=c,t.userSync=void 0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=n(2),a=(r=n(5))&&r.__esModule?r:{default:r};function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){var t={},n={image:[],iframe:[]},r=!1,c={},d={image:!1,iframe:!1},f=e.config;function l(){if(f.syncEnabled&&e.browserSupportsCookies&&(f.enableOverride||!r)){try{!function(){if(!f.pixelEnabled&&!d.image)return;o.shuffle(n.image).forEach(function(e){var t=u(e,2),n=t[0],r=t[1];o.logMessage("Invoking image pixel user sync for bidder: ".concat(n)),o.triggerPixel(r)})}(),function(){if(!f.iframeEnabled&&!d.iframe)return;o.shuffle(n.iframe).forEach(function(e){var t=u(e,2),n=t[0],r=t[1];o.logMessage("Invoking iframe user sync for bidder: ".concat(n)),o.insertUserSyncIframe(r)})}()}catch(e){return o.logError("Error firing user syncs",e)}n={image:[],iframe:[]},r=!0}}function p(e,t){var n=f.filterSettings;if(function(e,t){if(e.all&&e[t])return o.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;var i=n.filter,a=n.bidders;if(i&&"include"!==i&&"exclude"!==i)return o.logWarn('UserSync "filterSettings.'.concat(r,".filter\" setting '").concat(i,"' is not a valid option; use either 'include' or 'exclude'.")),!1;if("*"!==a&&!(Array.isArray(a)&&a.length>0&&a.every(function(e){return o.isStr(e)&&"*"!==e})))return o.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(r,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1;return!0}(n,e)){d[e]=!0;var r=n.all?n.all:n[e],i="*"===r.bidders?[t]:r.bidders;return{include:function(e,t){return!(0,a.default)(e,t)},exclude:function(e,t){return(0,a.default)(e,t)}}[r.filter||"include"](i,t)}return!1}return i.config.getConfig("userSync",function(e){f=s(f,e.userSync)}),t.registerSync=function(e,r,i){return f.syncEnabled&&o.isArray(n[e])?r?0!==f.syncsPerBidder&&Number(c[r])>=f.syncsPerBidder?o.logWarn('Number of user syncs exceeded for "'.concat(r,'"')):t.canBidderRegisterSync(e,r)?(n[e].push([r,i]),void(c=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(c,r))):o.logWarn('Bidder "'.concat(r,'" not permitted to register their "').concat(e,'" userSync pixels.')):o.logWarn("Bidder is required for registering sync"):o.logWarn('User sync type "'.concat(e,'" not supported'))},t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(l,Number(e));l()},t.triggerUserSyncs=function(){f.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){if(f.filterSettings){if(p(e,t))return!1}else{if(f.enabledBidders&&f.enabledBidders.length&&f.enabledBidders.indexOf(t)<0)return!1;if("iframe"===e&&!f.iframeEnabled&&!d.iframe)return!1;if("image"===e&&!f.pixelEnabled&&!d.image)return!1}return!0},t}i.config.setDefaults({userSync:{syncEnabled:!0,pixelEnabled:!0,syncsPerBidder:5,syncDelay:3e3}});var d=!o.isSafariBrowser()&&o.cookiesAreEnabled(),f=c({config:i.config.getConfig("userSync"),browserSupportsCookies:d});t.userSync=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSafe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.bbLogger.logError,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};try{e()}catch(e){t(e),n()}};var r=n(1)},function(e,t,n){var r=n(64);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.features=void 0;var r=n(33),o=n(1),i=n(104),a=d(n(46)),u=d(n(308)),s=d(n(17)),c=n(11);function d(e){return e&&e.__esModule?e:{default:e}}var f=n(3).QUERY_PARAMS,l=f.AD_SUPPRESS,p=f.BID_SUPPRESS,g=f.MOD_SUPPRESS,v=f.PERF_MEASURE,b=f.SIZE_SUPPRESS,y=(f.ANALYTICS,f.FORCE_RUN),m=(0,o.generateModuleLoggers)({namespace:"Features",color:"#eee",textColor:"#DA4167"}),h={adSuppress:l,bidSuppress:p,modSuppress:g,sizeSuppress:b,perfMeasure:v,forceRun:y},E=function(){var e={},t=(0,r.urlQueryAsObject)();function n(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;for(var o in n)if(n.hasOwnProperty(o)){var i=n[o];(0,u.default)(r,"".concat(t,".").concat(o),i)}}function o(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.constructor===Array){var r=t.map(function(e){return o(e,n)});return n?-1===r.indexOf(!1):r.indexOf(!0)>=0}var i=(0,a.default)(e,t)||!1;return"boolean"==typeof i&&i}return c.exposureApi.expose({getAllFeatures:function(){return(0,s.default)(e)},getFeature:o}),function(){for(var e in h)if(h.hasOwnProperty(e)){var r=h[e];t[r]&&n(e,(0,i.stringFlags)(t[r]).results)}}(),m.atVerbosity(2).logInfo("Features on load",e),{get:o}}();t.features=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setS2STestingModule=function(e){b=e},t.default=t.gdprDataHandler=void 0;var r=n(0),o=n(140),i=n(42),a=n(14),u=n(86),s=n(2),c=p(n(5)),d=p(n(12)),f=n(141),l=n(274);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b,y=n(0),m=n(8),h=n(43),E={},_=E.bidderRegistry={},I=E.aliasRegistry={},S={};s.config.getConfig("s2sConfig",function(e){S=e.s2sConfig});var A={};function w(e){var t=e.bidderCode,n=e.auctionId,a=e.bidderRequestId,u=e.adUnits,s=e.labels,c=e.src;return u.reduce(function(e,u){var d=(0,o.resolveStatus)((0,o.getLabels)(u,s),u.mediaTypes,u.sizes),l=d.active,p=d.mediaTypes,g=d.filterResults;return l?g&&y.logInfo('Size mapping filtered adUnit "'.concat(u.code,'" banner sizes from '),g.before,"to ",g.after):y.logInfo('Size mapping disabled adUnit "'.concat(u.code,'"')),l&&e.push(u.bids.filter(function(e){return e.bidder===t}).reduce(function(e,t){var d=u.nativeParams||y.deepAccess(u,"mediaTypes.native");d&&(t=v({},t,{nativeParams:(0,i.processNativeAdUnitParams)(d)})),t=v({},t,(0,r.getDefinedParams)(u,["mediaType","renderer"]));var l=(0,o.resolveStatus)((0,o.getLabels)(t,s),p),g=l.active,b=l.mediaTypes,m=l.filterResults;return g?m&&y.logInfo('Size mapping filtered adUnit "'.concat(u.code,'" bidder "').concat(t.bidder,'" banner sizes from '),m.before,"to ",m.after):y.logInfo('Size mapping deactivated adUnit "'.concat(u.code,'" bidder "').concat(t.bidder,'"')),y.isValidMediaTypes(b)?t=v({},t,{mediaTypes:b}):y.logError("mediaTypes is not correctly configured for adunit ".concat(u.code)),g&&e.push(v({},t,{adUnitCode:u.code,transactionId:u.transactionId,sizes:y.deepAccess(b,"banner.sizes")||y.deepAccess(b,"video.playerSize")||[],bidId:t.bid_id||y.getUniqueIdentifierStr(),bidderRequestId:a,auctionId:n,src:c,bidRequestsCount:f.adunitCounter.getCounter(u.code)})),e},[])),e},[]).reduce(r.flatten,[]).filter(function(e){return""!==e})}var O={consentData:null,setConsentData:function(e){O.consentData=e},getConsentData:function(){return O.consentData}};function T(){return S&&S.enabled&&S.testing&&b}function x(e,t,n){try{var r=_[e].getSpec();r&&r[t]&&"function"==typeof r[t]&&(y.logInfo("Invoking ".concat(e,".").concat(t)),r[t](n))}catch(n){y.logWarn("Error calling ".concat(t," of ").concat(e))}}t.gdprDataHandler=O,E.makeBidRequests=function(e,t,n,o,i){var a=[],u=(0,r.getBidderCodes)(e);s.config.getConfig("bidderSequence")===s.RANDOM&&(u=(0,r.shuffle)(u));var f=(0,l.getRefererInfo)(),p=u,g=[];if(S.enabled){T()&&(g=b.getSourceBidderMap(e)[b.CLIENT]);var v=S.bidders;p=u.filter(function(e){return!(0,c.default)(v,e)||(0,c.default)(g,e)});var h=function(e){var t=S.bidders,n=y.deepClone(e);return n.forEach(function(e){e.bids=e.bids.filter(function(e){return(0,c.default)(t,e.bidder)&&(!T()||e.finalSource!==b.CLIENT)}).map(function(e){return e.bid_id=y.getUniqueIdentifierStr(),e})}),n=n.filter(function(e){return 0!==e.bids.length})}(e),E=y.generateUUID();v.forEach(function(e){var r=y.getUniqueIdentifierStr(),o={bidderCode:e,auctionId:n,bidderRequestId:r,tid:E,bids:w({bidderCode:e,auctionId:n,bidderRequestId:r,adUnits:y.deepClone(h),labels:i,src:m.S2S.SRC}),auctionStart:t,timeout:S.timeout,src:m.S2S.SRC,refererInfo:f};0!==o.bids.length&&a.push(o)}),h.forEach(function(e){var t=e.bids.filter(function(e){return(0,d.default)(a,function(t){return(0,d.default)(t.bids,function(t){return t.bidId===e.bid_id})})});e.bids=t}),a.forEach(function(e){e.adUnitsS2SCopy=h.filter(function(e){return e.bids.length>0})})}var I=function(e){var t=y.deepClone(e);return t.forEach(function(e){e.bids=e.bids.filter(function(e){return!T()||e.finalSource!==b.SERVER})}),t=t.filter(function(e){return 0!==e.bids.length})}(e);return p.forEach(function(e){var r=y.getUniqueIdentifierStr(),u={bidderCode:e,auctionId:n,bidderRequestId:r,bids:w({bidderCode:e,auctionId:n,bidderRequestId:r,adUnits:y.deepClone(I),labels:i,src:"client"}),auctionStart:t,timeout:o,refererInfo:f},s=_[e];s||y.logError("Trying to make a request for bidder that does not exist: ".concat(e)),s&&u.bids&&0!==u.bids.length&&a.push(u)}),O.getConsentData()&&a.forEach(function(e){e.gdprConsent=O.getConsentData()}),a},E.callBids=function(e,t,n,o,i,a,s){if(t.length){var d=g(t.reduce(function(e,t){return e[Number(void 0!==t.src&&t.src===m.S2S.SRC)].push(t),e},[[],[]]),2),f=d[0],l=d[1];if(l.length){var p=(0,u.ajaxBuilder)(a,i?{request:i.request.bind(null,"s2s"),done:i.done}:void 0),v=S.bidders,b=_[S.adapter],E=l[0].tid,I=l[0].adUnitsS2SCopy;if(b){var A={tid:E,ad_units:I};if(A.ad_units.length){var w=l.map(function(e){return e.start=(0,r.timestamp)(),o.bind(e)}),O=A.ad_units.reduce(function(e,t){return e.concat((t.bids||[]).reduce(function(e,t){return e.concat(t.bidder)},[]))},[]);y.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(v.filter(function(e){return(0,c.default)(O,e)}).join(","))),l.forEach(function(e){h.emit(m.EVENTS.BID_REQUESTED,e)}),b.callBids(A,l,function(e,t){var o=(0,r.getBidderRequest)(l,t.bidderCode,e);o&&n.call(o,e,t)},function(){return w.forEach(function(e){return e()})},p)}}}f.forEach(function(e){e.start=(0,r.timestamp)();var t=_[e.bidderCode];y.logMessage("CALLING BIDDER ======= ".concat(e.bidderCode)),h.emit(m.EVENTS.BID_REQUESTED,e);var c=(0,u.ajaxBuilder)(a,i?{request:i.request.bind(null,e.bidderCode),done:i.done}:void 0);t.callBids(e,n.bind(e),o.bind(e),c,s)})}else y.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},E.videoAdapters=[],E.registerBidAdapter=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.supportedMediaTypes,o=void 0===r?[]:r;e&&t?"function"==typeof e.callBids?(_[t]=e,(0,c.default)(o,"video")&&E.videoAdapters.push(t),(0,c.default)(o,"native")&&i.nativeAdapters.push(t)):y.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):y.logError("bidAdaptor or bidderCode not specified")},E.aliasBidAdapter=function(e,t){if(void 0===_[t]){var n=_[e];if(void 0===n){var r=s.config.getConfig("s2sConfig"),o=r&&r.bidders;o&&(0,c.default)(o,t)?I[t]=e:y.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}else try{var u,d=function(e){var t=[];return(0,c.default)(E.videoAdapters,e)&&t.push("video"),(0,c.default)(i.nativeAdapters,e)&&t.push("native"),t}(e);if(n.constructor.prototype!=Object.prototype)(u=new n.constructor).setBidderCode(t);else{var f=n.getSpec();u=(0,a.newBidder)(v({},f,{code:t})),I[t]=e}E.registerBidAdapter(u,t,{supportedMediaTypes:d})}catch(t){y.logError(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else y.logMessage('alias name "'+t+'" has been already specified.')},E.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,A[n]=t):y.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):y.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},E.enableAnalytics=function(e){y.isArray(e)||(e=[e]),y._each(e,function(e){var t=A[e.provider];t?t.enableAnalytics(e):y.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))})},E.getBidAdapter=function(e){return _[e]},E.callTimedOutBidders=function(e,t,n){t=t.map(function(t){return t.params=y.getUserConfiguredParams(e,t.adUnitCode,t.bidder),t.timeout=n,t}),t=y.groupBy(t,"bidder"),Object.keys(t).forEach(function(e){x(e,"onTimeout",t[e])})},E.callBidWonBidder=function(e,t,n){t.params=y.getUserConfiguredParams(n,t.adUnitCode,t.bidder),x(e,"onBidWon",t)},E.callSetTargetingBidder=function(e,t){x(e,"onSetTargeting",t)};var R=E;t.default=R},function(e,t,n){var r=n(50),o=n(22),i=n(95),a=n(168),u=n(175),s=function(e,t,n){var c,d,f,l=e&s.F,p=e&s.G,g=e&s.S,v=e&s.P,b=e&s.B,y=e&s.W,m=p?o:o[t]||(o[t]={}),h=m.prototype,E=p?r:g?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(d=!l&&E&&void 0!==E[c])&&u(m,c)||(f=d?E[c]:n[c],m[c]=p&&"function"!=typeof E[c]?n[c]:b&&d?i(f,r):y&&E[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((m.virtual||(m.virtual={}))[c]=f,e&s.R&&h&&!h[c]&&a(h,c,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=r(t.split("="),2),o=n[0],i=n[1];return/\[\]$/.test(o)?(e[o=o.replace("[]","")]=e[o]||[],e[o].push(i)):e[o]=i||"",e},{}):{}}function i(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(e[t])}).join("&")}Object.defineProperty(t,"__esModule",{value:!0}),t.parseQS=o,t.formatQS=i,t.parse=function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:o(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},t.format=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(i(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}},function(e,t,n){var r=n(18)(Object,"create");e.exports=r},function(e,t,n){var r=n(209),o=n(210),i=n(211),a=n(212),u=n(213);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(35);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(215);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(57),o=n(114),i=n(115);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(53),o=n(231),i=n(232),a=n(233),u=n(234),s=n(235);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(116);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(241),o=n(39),i=n(80),a=i&&i.isTypedArray,u=a?o(a):r;e.exports=u},function(e,t,n){var r=n(59),o=n(35),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(128),o=n(244),i=n(15);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(26),o=n(27);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(288),o=n(295),i=n(57),a=n(4),u=n(298);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):u(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[]},function(e,t,n){e.exports=!n(96)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(70),o=n(219),i=n(220);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t,n){var r=n(198),o=n(214),i=n(216),a=n(217),u=n(218);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(25),o=n(6),i="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",s="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==u||t==i||t==s}},function(e,t,n){var r=n(18)(n(10),"Map");e.exports=r},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(58),o=n(117),i=n(118),a=n(237),u=n(6),s=n(62),c=n(127);e.exports=function e(t,n,d,f,l){t!==n&&i(n,function(i,s){if(l||(l=new r),u(i))a(t,n,s,d,e,f,l);else{var p=f?f(c(t,s),i,s+"",t,n,l):void 0;void 0===p&&(p=i),o(t,s,p)}},s)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(121);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(124)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){(function(e){var r=n(106),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=u}).call(this,n(76)(e))},function(e,t,n){var r=n(56),o=n(82);e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}},function(e,t,n){var r=n(35),o=n(15),i=n(63),a=n(6);e.exports=function(e,t,n){if(!a(n))return!1;var u=typeof t;return!!("number"==u?o(n)&&i(t,n.length):"string"==u&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(252),o=n(131),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=u},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(4),o=n(34),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxBuilder=d,t.ajax=void 0;var r=n(51),o=n(2);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=n(0),s=4,c=d();function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,c=t.done;return function(t,d,f){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var p,g=l.method||(f?"POST":"GET"),v=document.createElement("a");v.href=t;var b="object"===a(d)&&null!==d?d:{success:function(){u.logMessage("xhr success")},error:function(e){u.logError("xhr error",null,e)}};if("function"==typeof d&&(b.success=d),(p=new window.XMLHttpRequest).onreadystatechange=function(){if(p.readyState===s){"function"==typeof c&&c(v.origin);var e=p.status;e>=200&&e<300||304===e?b.success(p.responseText,p):b.error(p.statusText,p)}},o.config.getConfig("disableAjaxTimeout")||(p.ontimeout=function(){u.logError("  xhr timeout after ",p.timeout,"ms")}),"GET"===g&&f){var y=(0,r.parse)(t,l);i(y.search,f),t=(0,r.format)(y)}p.open(g,t,!0),o.config.getConfig("disableAjaxTimeout")||(p.timeout=e),l.withCredentials&&(p.withCredentials=!0),u._each(l.customHeaders,function(e,t){p.setRequestHeader(t,e)}),l.preflight&&p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.setRequestHeader("Content-Type",l.contentType||"text/plain"),"function"==typeof n&&n(v.origin),"POST"===g&&f?p.send(f):p.send()}catch(e){u.logError("xhr construction",e)}}}t.ajax=c},function(e,t,n){var r=n(290),o=n(13);e.exports=function e(t,n,i,a,u){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,u))}},function(e,t,n){var r=n(302),o=n(303)(r);e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instantiateBidBarrel=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,d.default)(window,"BidBarrel.created")?a.bbLogger.atVerbosity(1).logWarn("BidBarrel attempted to be instantiated twice. This is usually caused by BidBarrel being included more than once on the page."):(!function(){"object"===j(B.debug)?((0,a.setDefaultConfig)(B.debug),a.bbLogger.setLoggerConfig(B.debug)):B.debug&&(0,a.turnOnDebug)();a.bbLogger.atVerbosity(1).logInfo("BidBarrel ".concat(ae.version," ( ").concat(ae.variant," ) Loaded")),i.eventEmitter.emit(M,ae)}(),a.bbLogger.atVerbosity(1).logInfo("Instantiating Bid Barrel",arguments,(0,d.default)(window,"BidBarrel.queue")),e=(0,I.concatConfigArrays)(e,B),ae.create({queue:window.BidBarrel.queue,config:(0,g.default)({},e,B),adUnits:t}),window.BidBarrel=ae,i.eventEmitter.emit(N,window.BidBarrel,n),window.BidBarrel.queue.run())},t.BidBarrel=void 0;var r=n(29),o=n(90),i=n(21),a=n(1),u=n(33),s=n(155),c=n(91),d=O(n(46)),f=O(n(157)),l=O(n(7)),p=O(n(316)),g=O(n(19)),v=O(n(17)),b=O(n(30)),y=O(n(319)),m=O(n(40)),h=O(n(320)),E=O(n(158)),_=n(92),I=n(323),S=n(325),A=n(159),w=n(11);function O(e){return e&&e.__esModule?e:{default:e}}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=n(326),P=n(327),D=n(3),k=D.EVENTS,M=k.LOAD,N=k.INSTANTIATED,U=k.DFP_EVENTS,L=k.AD_LOADED,z=k.AD_RENDERED,q=k.AD_VIEWABLE,F=k.AD_RECEIVED,V=k.AD_REQUESTED,G=k.AD_VISIBILITY_CHANGED,W=k.DISPLAY_CALLED,H=k.INITIALIZE,Y=k.BIDS_REQUESTED,K=k.BIDS_RETURNED,J=k.REFRESH,Q=k.SLOT_DEFINED,$=k.BATCH_SLOTS_DEFINED,X=D.QUERY_PARAMS,Z=X.AD_SESSION,ee=X.AD_SUBSESSION,te=X.SESSION,ne=X.SUBSESSION,re=X.FTAG,oe=X.TTAG,ie=X.TARGETING_PREFIX,ae=function(){var e,t,n={},d={},O=(0,u.urlQueryAsObject)(window.location.href),k=null,M={},N=(0,s.promiseQueue)("BidBarrel Queue"),X=!1,ae=!1,ue=!1,se={},ce={},de=B,fe={},le=(0,s.runQueue)("post-init queue",[],5===(0,a.getVerbosityLevel)()),pe=(0,r.hookedFn)("sync",function(e){e.queryTargeting&&(e.targeting=(0,g.default)({},e.targeting,{query:e.queryTargeting}));var t=e;t._original=(0,v.default)(de),t._initOverrides=(0,v.default)(e),e.dfpPath&&"string"==typeof e.dfpPath&&(t.dfpPath=e.dfpPath),ge(t),i.eventEmitter.emit(H),a.bbLogger.atVerbosity(1).logMessage("Initializing BidBarrel. Config:",de),we(de.pageTargeting||de.siteTargeting),googletag.cmd.push(function(){Se(de.dfpPath),le.run()})}),ge=(0,r.hookedFn)("sync",function(e){var t=(0,p.default)(D.CONFIG_RESTRICTED_KEYS,(0,l.default)(e));return 0!==t.length&&(a.bbLogger.atVerbosity(2).logWarn("DEPRECATED: The following keys you provided are not available via implementation in BidBarrel.",t),a.bbLogger.atVerbosity(2).logWarn("Please make the appropriate changes to your site config in the BidBarrel repo(via PR). The full list of config restrictions:",D.CONFIG_RESTRICTED_KEYS)),e=(0,m.default)(e,D.CONFIG_RESTRICTED_KEYS),"object"===j((e=(0,I.concatConfigArrays)(e,de)).debug)?((0,a.setDefaultConfig)(e.debug),setLoggerConfig(e.debug)):e.debug&&(0,a.turnOnDebug)(),de=(0,g.default)({},e,de),e&&(e.pageTargeting||e.siteTargeting)&&Be(e.pageTargeting||e.siteTargeting),e&&e.dfpPath&&googletag.cmd.push(function(){Se(e.dfpPath)}),e}),ve=(0,r.hookedFn)("sync",function(e){return e}),be=(0,r.hookedFn)("sync",function(e){return e.constructor!==Array?be([e]):e.reduce(function(t,r,o){if(null==r)return a.bbLogger.logError("SKIPPING UNIT: Unit designation is null or undefined at index",o,"provided:",e),t;var i=null;return"object"===j(r)&&r.constructor!==Array?i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.orderIndex=t,e.originalCode=e.originalCode||e.code,e}(r,o):r.constructor===Array?i=null===r[1]?ye(r[0],o,r[2],r[3]):function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=e+t;de.generateIncrementalUnitCode&&(u=de.generateIncrementalUnitCode(e,t));var s=null;s=se[u]?se[u]:!(!n[e]||!n[e].incremental)&&(0,v.default)(n[e]);if(s){if(s.code=u,null!==t&&(s.index=t),s.orderIndex=r,s.originalCode=e,o&&(s.targeting=(0,g.default)({},o,s.targeting)),i){var c=(0,E.default)(i,D.UNIT_CONFIG_ALLOWED_MODIFIERS);s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},s,{},c)}}else a.bbLogger.logError("Incremental Unit",u,"is not a configured to be an incremental unit and is not an existing unit. Skipping definition.");return s}(r[0],r[1],o,r[2],r[3]):"string"==typeof r&&(i=ye(r,o)),(i=i?ve(i):i)&&!t.flags[i.code]&&(t.flags[i.code]=!0,(0,S.unitHasElement)(i)||Le(i)?(se[i.code]=i,t.units.push(i)):a.bbLogger.logError(i.code,": Unit designation does not have an element. If you are lazy loading, this unit is not configured for lazy loading.",i)),t},{flags:{},units:[]}).units});function ye(e,t,n,r){var o=se[e];if(o){if(o.orderIndex=t,o.originalCode=o.originalCode||e,n&&(o.targeting=(0,g.default)({},n,o.targeting)),r){var i=(0,E.default)(r,D.UNIT_CONFIG_ALLOWED_MODIFIERS);o=(0,g.default)(o,i)}}else a.bbLogger.atVerbosity(2).logError("Unit",e,"does not exist. Skipping definition.");return o}var me=(0,r.hookedFn)("sync",function(e){if(e&&e.length)try{!function(){var t=de.lazyLoading,n={rootMargin:t.offset.yAxis+"px "+t.offset.xAxis+"px",threshold:.01*t.percentageVisible};a.bbLogger.logInfo("Setting up lazy loading for units",e);var r=e.map(function(e){return document.getElementById(e.code)}),o=new IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>0&&(o.unobserve(e.target),i.eventEmitter.emit("".concat(e.target.id,".").concat(J),se[e.target.id]),a.bbLogger.logInfo("Refreshing lazy loaded unit",se[e.target.id]),delete se[e.target.id].cancelLazyLoad,googletag.pubads().refresh([M[e.target.id]]))})},n);r.forEach(function(e){e&&o.observe(e)});for(var u=function(t){var n=e[t];se[n.code].cancelLazyLoad=function(){o.unobserve(document.getElementById(n.code)),se[n.code].cancelLazyLoad&&delete se[n.code].cancelLazyLoad}},s=0;s<e.length;s++)u(s)}()}catch(t){a.bbLogger.logError("Error encounted while attempting to lazy load",t),googletag.pubads().refresh(e.map(function(e){return(0,A.getSlot)(e.code)}))}}),he=(0,r.hookedFn)("sync",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1};if(!e||e.constructor!==Array||0===e.length)return a.bbLogger.atVerbosity(2).logWarn("Ad server request attempted with invalid units collection",e),void t();if("string"==typeof e[0]||e[0].constructor===Array)return a.bbLogger.logError("This function is meant for internal BidBarrel use only"),void t();var n=e;googletag.cmd.push(function(){var e=n.filter(function(e){return!Le(e)}),r=e.map(function(e){return(0,A.getSlot)(e)}),o=n.filter(function(e){return Le(e)});Ee(n),i.eventEmitter.emit(J,e);for(var u=0;u<e.length;u++){var s=e[u];i.eventEmitter.emit("".concat(s.code,".").concat(J),s)}a.bbLogger.atVerbosity(1).logInfo("Refreshing units",e),googletag.pubads().refresh(r),me(o),t()}),o.requestManager.reset()}),Ee=(0,r.hookedFn)("sync",function(e){return e}),_e=(0,r.hookedFn)("sync",function(e){Array.isArray(e)&&(e=Array.prototype.slice.call(e)),void 0===e||-1===[Array,String,Object].indexOf(e.constructor)||e.constructor===Array&&0===e.length?a.bbLogger.logError("Invalid units array passed to BidBarrel.auction",e):le.push(function(){var t=be(e).sort(ze);if(0!==t.length){!function(e){(function(e){var t=function(e,t){if(e&&!t)return!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(t[n]!==r)return!1}return!0};googletag.cmd.push(function(){var n=[];if(e.length>0){a.bbLogger.atVerbosity(1).logInfo("Defining slots",e);for(var r=0;r<e.length;r++){var o=e[r];if(M[o.code])(0,h.default)(o.targeting,(0,A.getSlotTargeting)(o.code),t)||Be(o.targeting,o.code);else{var u=(0,v.default)(o);de.adjustSlotDefinition&&de.adjustSlotDefinition[u.code]&&(u=de.adjustSlotDefinition[u.code](u),a.bbLogger.atVerbosity(2).logInfo("Adjusting on slot definition",o,"to",u)),M[u.code]=u.outOfPage?window.googletag.defineOutOfPageSlot(fe.string,u.code):window.googletag.defineSlot(fe.string,u.sizes,u.code),ke(u.code),M[u.code].addService(window.googletag.pubads()),Pe(u.code,u.sizeMappings),se[u.code].servicesApplied=!0,Be(u.targeting,u.code),n.push(u),i.eventEmitter.emit([Q,"".concat(u.code,".").concat(Q)],u,M[u.code])}}i.eventEmitter.emit($,n,n.map(A.getSlot))}})})(e),Me(e),ae||(a.bbLogger.atVerbosity(3).logInfo("Enabling services"),ae=!0,googletag.cmd.push(function(){googletag.pubads().enableSingleRequest(),Ne()}))}(t);for(var n=!1,r=0;r<t.length;r++){var u=t[r];n=n||u.bids&&u.bids.length>0,u.cancelLazyLoad&&(a.bbLogger.logInfo("Cancelling Lazy Load for unit",u),u.cancelLazyLoad())}a.bbLogger.atVerbosity(2).logMessage("Adding auction to queue"),N.push(function(r){a.bbLogger.atVerbosity(1).logMessage("Running auction in queue. Collection:",t,"Provided designations:",e),googletag.cmd.push(function(){if(n){var e=!1,u=setTimeout(function(){e=!0,a.bbLogger.atVerbosity(1).logInfo("Hit failsafe condition"),he(t,r)},de.timeouts.failsafe);o.requestManager.enqueue(function(){e||(clearTimeout(u),i.eventEmitter.emit(K,t),he(t,r))});try{Ie(t)}catch(e){a.bbLogger.logError(e)}i.eventEmitter.emit(Y,t)}else a.bbLogger.atVerbosity(3).logInfo("Short-circuiting header bidding due to no bidders scenario"),he(t,r)})})}else a.bbLogger.logError("No valid unit designations provided")})}),Ie=(0,r.hookedFn)("sync",function(e){return e});function Se(e){fe=function(e){var t=e;if("string"==typeof t){var n=t.split("/"),r=n[2].split("-"),o=r[0].match(/^(app|m)/),i=o?o[0]:"";t=(0,g.default)({string:t,network:n[1],property:r[1],device:void 0!==P[i.toLowerCase()]?P[i.toLowerCase()]:i,region:r[0].substring(i.length),pagePath:n.slice(3).join("/")},fe)}else"object"===j(t)&&((t=(0,g.default)({},t,fe)).device&&void 0!==P[t.device.toLowerCase()]&&(t.device=P[t.device.toLowerCase()]),t.isMobile&&(t.device="m"),t.isApp&&(t.device="app"),t.isDesktop&&(t.device=""));return t}(e),ce.env&&D.STAGE_ENVIRONMENTS.indexOf(ce.env)>=0&&(fe.network=7336),O.adNetwork&&(fe.network=O.adNetwork),O.adRegion&&(fe.region=O.adRegion),fe.string="/".concat(fe.network,"/").concat(fe.device).concat(fe.region,"-").concat(fe.property),fe.pagePath&&(fe.string+="/".concat(fe.pagePath))}var Ae=(0,r.hookedFn)("sync",function(e){var t;X||(X=!0,e.queue&&(N=(0,s.promiseQueue)("BidBarrel Queue",e.queue)),e.config&&(de=(0,g.default)({},e.config,de)),e.adUnits&&(se=(0,f.default)(e.adUnits,"code"),n=(0,v.default)(se),d=(0,v.default)(se)),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],(0,c.renderScript)({id:"googletag-script",src:"//securepubads.g.doubleclick.net/tag/js/gpt.js",async:!0}),t=[[U.AD_VIEWABLE,q],[U.AD_RENDERED,z],[U.AD_LOADED,L],[U.AD_VISIBILITY_CHANGED,G],[U.AD_REQUESTED,V],[U.AD_RECEIVED,F]],googletag.cmd.push(function(){for(var e=function(e){var n=x(t[e],2),r=n[0],o=n[1];googletag.pubads().addEventListener(r,function(e){var t=e.slot.getSlotElementId();i.eventEmitter.emit([r,o,"".concat(t,".").concat(r),"".concat(t,".").concat(o)],se[t],e)})},n=0;n<t.length;n++)e(n)}),de.oncreate&&de.oncreate.renderScripts&&(0,c.renderScript)(de.oncreate.renderScripts),he.before(function(e){window.pbjs&&window.pbjs.adUnits&&window.pbjs.adUnits.length>0&&(se=window.pbjs.adUnits.filter(function(e){return!se[e.code]}).reduce(function(e,t){return e[t.code]=t,e},se));for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,n)}))});var we=(0,r.hookedFn)("sync",function(e){if(de.bootstrap&&de.bootstrap.renderScripts&&de.bootstrap.renderScripts.length)for(var t=0;t<de.bootstrap.renderScripts.length;t++){var n=de.bootstrap.renderScripts[t];(0,c.renderScript)(n)}googletag.cmd.push(function(){googletag.pubads().disableInitialLoad(),void 0!==de.collapseEmptyDivs&&googletag.pubads().collapseEmptyDivs(de.collapseEmptyDivs),Oe(e)})}),Oe=(0,r.hookedFn)("sync",function(e){Be(Te(e))});function Te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e||{};return n=de.targeting.auto&&!ue?function(e,t){ue=!0,t||(t=xe({}));var n=de.targeting.cookie.consolidate,r=de.targeting.cookie.keyMap,o={},i=(0,_.getCookie)(r.surround||"surround"),u=null;if(i)u=i.split("|"),n&&(0,_.deleteCookie)(r.surround||"surround");else{var s=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].slice(0,de.targeting.seats.session);u=[s[Math.floor(Math.random()*s.length)],Math.floor(Math.random()*de.targeting.seats.subsession)+1]}for(var c=[(0,_.getCookie)("_BB.bs"),(0,_.getCookie)("_BB.d")],d={session:u[0],subses:u[1]},f=["firstpg","session","subses","ftag","ttag"],l=0;l<f.length;l++){var p=f[l];if(r[p]){var v=(0,_.getCookie)(r[p]);v&&(d[p]=v,n&&(0,_.deleteCookie)(r[p]))}}a.bbLogger.atVerbosity(2).logInfo("Handling autotargeting.","Query:",t,"Publisher Provided:",e,"Cookies:",d);var b=c[0]?c[0].split("|"):[null,null],y=c[1]?c[1].split("|"):[null,null,null];if(n?o={firstpg:parseInt(t.firstpg||e.firstpg||y[0]||d.firstpg),ttag:t.ttag||e.ttag||y[1]||d.ttag,ftag:t.ftag||e.ftag||y[2]||d.ftag,session:t.session||e.session||b[0]||d.session,subses:t.subses||e.subses||b[1]||d.subses}:(o={firstpg:parseInt(t.firstpg||e.firstpg||d.firstpg||y[0]),session:t.session||e.session||d.session||b[0],subses:t.subses||e.subses||d.subses||b[1],ttag:t.ttag||e.ttag||d.ttag||y[1],ftag:t.ftag||e.ftag||d.ftag||y[2]},c.indexOf(null)<0&&((0,_.deleteCookie)("_BB.bs"),(0,_.deleteCookie)("_BB.d"))),0!==o.firstpg&&1!==o.firstpg?o.firstpg=1:1===o.firstpg&&(o.firstpg=0),n){var m=[o.session,o.subses].join("|"),h=[o.firstpg,o.ttag,o.ftag].join("|");c[0]!==m&&(0,_.setCookie)("_BB.bs",[o.session,o.subses].join("|"),!1),c[1]!=h&&(0,_.setCookie)("_BB.d",[o.firstpg,o.ttag,o.ftag].join("|"))}else if(r.surround){i!==[o.session,o.subses].join("|")&&(0,_.setCookie)(r.surround||"surround",[o.session,o.subses].join("|"),!1)}else o.session!==d.session&&(0,_.setCookie)(r.session||"session",o.session,!1),o.subses!==d.subses&&(0,_.setCookie)(r.subses||"subses",o.subses,!1);return n||(o.ftag!==d.ftag&&(0,_.setCookie)(r.ftag||"ftag",o.ftag),o.ttag!==d.ttag&&(0,_.setCookie)(r.ttag||"ttag",o.ttag),o.firstpg!==d.firstpg&&(0,_.setCookie)(r.firstpg||"firstpg",o.firstpg)),(0,g.default)({},o,t,e)}(n,t):xe(n,t)}function xe(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n||(0,u.urlQueryAsObject)(window.location.href),o=(C(t={},Z,"session"),C(t,ee,"subses"),C(t,te,"session"),C(t,ne,"subses"),C(t,re,"ftag"),C(t,oe,"ttag"),t),i=e;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];de.targeting.query.dynamicPrefix&&a.indexOf(de.targeting.query.dynamicPrefix)>=0&&(i[a.replace(de.targeting.query.dynamicPrefix,"")]=s),de.targeting.query.keyMap[a]&&(i[de.targeting.query.keyMap[a]]=s),a.indexOf(ie)>=0&&(i[a.replace(ie,"")]=s),o[a]&&(i[o[a]]=s)}return i}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&"object"===j(e)&&e.constructor===Array?a.bbLogger.logError("The first argument of BidBarrel.resetTargeting should be an object or falsy"):t&&t.constructor!==Array?a.bbLogger.logError("The second argument of BidBarrel.resetTargeting should be an array or falsy value. Exiting."):"boolean"==typeof n||null==n?(Ce([],t,r),t&&0!==t.length?Be(e,t,r):(ue=!1,Be(Te(e,!!n&&O)))):a.bbLogger.logError("The third argument of BidBarrel.resetTargeting should be a boolean or falsy value. Exiting.")}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];le.push(function(){googletag.cmd.push(function(){if(t&&t.length){a.bbLogger.atVerbosity(2).logInfo("Clearing targeting for slots",t,e);for(var o=0;o<t.length;o++){var i=t[o],u=(0,A.getSlot)(i);if(e&&e.length)for(var s=0;s<e.length;s++){var c=e[s];se[i]&&delete se[i].targeting[c],n[i]&&r&&delete n[i].targeting[c],u&&u.clearTargeting(c)}else u&&u.clearTargeting(),se[i]&&(se[i].targeting={}),n[i]&&r&&(n[i].targeting={})}}else e&&e.length?(a.bbLogger.atVerbosity(2).logInfo("Clearing specific targeting",e),ce=(0,m.default)(ce,e),googletag.pubads().clearTargeting(e)):(a.bbLogger.atVerbosity(2).logInfo("Clearing all targeting for page"),ce={},googletag.pubads().clearTargeting())})})}var je=(0,r.hookedFn)("sync",function(e,t,n){n?n.setTargeting(e,""+t):googletag.pubads().setTargeting(e,""+t)});function Be(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&le.push(function(){t&&t.length?a.bbLogger.atVerbosity(2).logInfo("Applying targeting values",e,"to units",t):a.bbLogger.atVerbosity(2).logInfo("Applying targeting values",e,"to page"),"string"==typeof t&&(t=[t]),googletag.cmd.push(function(){if(t)for(var o=be(t),i=0;i<o.length;i++){var u=o[i];if(M[u.code])for(var s in e)if(e.hasOwnProperty(s)){var c=e[s];null!=c?je(s,c,M[u.code]):a.bbLogger.atVerbosity(3).logWarn("Targeting value is null or undefined for unit",u.code,s)}se[u.code].targeting=(0,g.default)({},e,se[u.code].targeting),n[u.code]&&r&&(n[u.code].targeting=(0,g.default)({},e,n[u.code].targeting))}else for(var d in ce=(0,g.default)({},((l=e).vguid?k=l.vguid:l.vguid||k||a.bbLogger.logError("No vguid provided! Please update your implementation to provide a vguid in initConfig.pageTargeting.vguid"),l),ce),Se(fe),e)if(e.hasOwnProperty(d)){var f=e[d];null!=f?je(d,f):a.bbLogger.atVerbosity(3).logWarn("Targeting value is null or undefined",d)}var l})})}function Pe(e,t){le.push(function(){if(e.constructor!==Array)if(se[e]){if(t&&(se[e].sizeMappings=t,se[e].mappedSizes=null),se[e].sizeMappings)if(M[e]&&!se[e].servicesApplied){a.bbLogger.atVerbosity(3).logInfo("Applying Size Mapping to unit ".concat(e),se[e].sizeMappings);for(var n=googletag.sizeMapping(),r=de.adjustSlotDefinition&&de.adjustSlotDefinition[e]?de.adjustSlotDefinition[e]:function(e){return e},o=(0,v.default)(se[e]),i=0;i<se[e].sizeMappings.length;i++){var u=se[e].sizeMappings[i];o.sizes=u.sizes;var s=r(o).sizes;n.addSize(u.viewport,s)}M[e].defineSizeMapping(n.build())}else M[e]&&!se[e].servicesApplied&&a.bbLogger.atVerbosity(3).logWarn("Unable to apply size mapping, slot has already been defined",e)}else a.bbLogger.logError("Attempting to apply size mapping to unit that does not exist",e);else for(var c=0;c<e.length;c++){Pe(e[c],t)}})}function De(e){if(!se[e].sizeMappings)return se[e].sizes;if(se[e].mappedSizes)return se[e].mappedSizes;for(var t=(0,y.default)(se[e].sizeMappings,[function(e){return-1*e.viewport[0]},function(e){return-1*e.viewport[1]}]),n=0;n<t.length;n++){var r=t[n];if(window.innerWidth>=r.viewport[0]&&r.viewport[1]<=window.innerHeight)return se[e].mappedSizes=r.sizes,r.sizes}return a.bbLogger.atVerbosity(3).logWarn("No matching mappings found for viewport",e,t),se[e].sizes}function ke(e,t){le.push(function(){var r=be(e);googletag.cmd.push(function(){for(var e=0;e<r.length;e++){var o,i=r[e],a=t;if(void 0===a&&void 0!==i.collapseEmptyDiv)a=i.collapseEmptyDiv;else if(void 0===a)return;if(a=a.constructor===Array?a:[a],M[i.code])(o=M[i.code]).setCollapseEmptyDiv.apply(o,T(a));n[i.originalCode].collapseEmptyDiv=a,se[i.code].collapseEmptyDiv=a}})})}function Me(e){if(e.constructor===Array)return a.bbLogger.atVerbosity(3).logInfo("Displaying units",e),void e.forEach(Me);googletag.cmd.push(function(){if(!e.displayed){var t=document.getElementById(e.code);t?(googletag.display(t),e.displayed=!0,i.eventEmitter.emit([W,"".concat(e.code,".").concat(W)],e,M[e.code])):a.bbLogger.logError("Cannot find element for unit. Please ensure the element is on the page prior to ad request attempts.",e)}})}var Ne=(0,r.hookedFn)("sync",function(){googletag.enableServices()});function Ue(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];googletag.cmd.push(function(){a.bbLogger.atVerbosity(3).logInfo("Destroying slots",e);var n=[];n=t?e.constructor===Array?e.map(A.getSlot):(0,A.getSlot)(e):e,googletag.destroySlots(n);for(var r=0;r<e.length;r++){var o=e[r];M[o]&&delete M[o],se[o]&&(se[o].displayed=!1)}})}function Le(e){if(e.cache||e.lazyLoad){var t=document.getElementById(e.code);if(t&&t.style&&"none"===t.style.display)return a.bbLogger.logError("".concat(e.code,": Cannot lazy load ad units where the element has a style of display:none;. This unit will evaluate as 'not lazy loaded' until it does not have a style of display: none;")),!1}return e.cache||e.lazyLoad}function ze(e,t){return void 0!==e.refreshPriority&&void 0!==t.refreshPriority?e.refreshPriority-t.refreshPriority:void 0!==e.refreshPriority&&void 0===t.refreshPriority||void 0===e.refreshPriority&&void 0!==t.refreshPriority?(void 0===e.refreshPriority?99999:e.refreshPriority)-(void 0===t.refreshPriority?99999:t.refreshPriority):e.orderIndex-t.orderIndex}function qe(){return w.exposureApi.api()}return w.exposureApi.withExposedRootScope((C(e={adServerRequest:he,auction:_e,auctionAll:function(){var e=[];for(var t in se){if(se.hasOwnProperty(t))se[t].displayed&&e.push(t)}_e(e)},bootstrap:we,clearSlots:function(e){le.push(function(){googletag.cmd.push(function(){a.bbLogger.atVerbosity(3).logInfo("Clearing slots",e);var t=e.constructor===Array?e.map(function(e){return(0,A.getSlot)(e)}):(0,A.getSlot)(e);googletag.pubads().clear(t)})})},clearTargeting:Ce,create:Ae,destroyAllSlots:function(){Ue((0,b.default)(M),!1)},destroySlots:Ue,enableGoogletagServices:Ne,isStagingEnv:function(){return ce&&["stage","staging","dev"].indexOf(ce.env)>=0||de&&de.pageTargeting&&["stage","staging","dev"].indexOf(de.pageTargeting.env)>=0||fe&&7336==fe.network},get adUnits(){return(0,b.default)((0,v.default)(se))},get adUnitsObj(){return(0,v.default)(se)},get apiReady(){return!0},get config(){return(0,v.default)(de)},get created(){return X},get dfpPath(){return(0,v.default)(fe.string)},get dfpPathObj(){return(0,v.default)(fe)},get exposedApi(){return qe},get pageTargeting(){return(0,v.default)(ce)},get query(){return(0,v.default)(O)},get queue(){return N},get slots(){return M},get unitRegistry(){return se},get vguid(){return k},get UNITS(){return(0,v.default)(d)},get bidderTimeout(){return de.highFrequencyAdRequests?de.timeouts.hfar:de.timeouts.bidder},getSizes:De},"getSizes",De),C(e,"getSlot",A.getSlot),C(e,"getUnitCollection",be),C(e,"headerBidderRequest",Ie),C(e,"initialize",pe),C(e,"lazyLoad",me),C(e,"on",i.eventEmitter.on),C(e,"postProcessUnit",ve),C(e,"process",_e),C(e,"refresh",_e),C(e,"resetAllTargeting",function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],o=0;o<se.length;o++){var i=se[o];i.displayed&&r.push(i.code)}Ce([],r,n),Re(e,[],t,n)}),C(e,"resetTargeting",Re),"dfpPathObj",(t={}).dfpPathObj=t.dfpPathObj||{},t.dfpPathObj.set=function(e){Se(e)},"queue",t.queue=t.queue||{},t.queue.set=function(e){},C(e,"setInitialPageTargeting",Oe),C(e,"setBidTargeting",Ee),C(e,"setCollapse",ke),C(e,"setConfig",ge),C(e,"setOutOfPage",function(e){for(var t=be(e),n=0;n<t.length;n++){var r=t[n];if(M[r.code])return void a.bbLogger.logError("Slot already defined for unit, cannot change out of page status.",r);a.bbLogger.atVerbosity(3).logInfo("Setting unit to out of page status",r),se[r.code].outOfPage=!0}}),C(e,"setSizeMappings",Pe),C(e,"setGptTargeting",je),C(e,"setTargeting",Be),C(e,"setLazyLoad",function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&0!==t.length||(t=(0,l.default)(se));for(var o=0;o<t.length;o++){var i=t[o];se[i]&&!M[i]?(se[i].cache=e,r&&n[i]&&(n[i]=e)):M[i]&&a.bbLogger.logError("Slot already defined for unit, cannot change lazy load status.",i)}}),"version",t.version=t.version||{},t.version.get=function(){return"v2.9.12"},"variant",t.variant=t.variant||{},t.variant.get=function(){return"optanon"},function(e,t){for(var n in t){(i=t[n]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n,i)}if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),o=0;o<r.length;o++){var i,a=r[o];(i=t[a]).configurable=i.enumerable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a,i)}}(e,t),e))}();t.BidBarrel=ae},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestManager=void 0;var r=s(n(30)),o=n(1),i=n(11),a=s(n(7)),u=s(n(153));function s(e){return e&&e.__esModule?e:{default:e}}var c,d,f=n(3).LOGS.REQUEST_MANAGER,l=(0,o.generateLoggers)({namespace:f.LABEL,color:f.COLOR,textColor:"#FFF"}),p=(c={},d=[],i.exposureApi.expose({getRequesters:function(){return(0,a.default)(c)}}),{register:function(e){void 0===c[e]&&(c[e]=!1,l.atVerbosity(2).logInfo("Registering Requester",e))},reset:function(){for(var e in l.atVerbosity(2).logInfo("Reseting requests"),c)c.hasOwnProperty(e)&&(c[e]=!1)},done:function(e){l.atVerbosity(2).logInfo("Request done",e),c[e]=!0,((0,u.default)(c)||-1===(0,r.default)(c).indexOf(!1))&&function(){l.atVerbosity(2).logInfo("Running Request Manager callbacks");for(var e=0;e<d.length;e++)try{d[e]()}catch(e){l.atVerbosity(1).logError(e)}d=[]}()},enqueue:function(e){(0,u.default)(c)?(l.logInfo("No registered requesters. Running callback."),e()):d.push(e)}});t.requestManager=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderScript=void 0;var r,o=(r=n(40))&&r.__esModule?r:{default:r},i=n(29);var a=n(1).bbLogger.atVerbosity(3).logWarn,u=(0,i.hookedFn)("sync",function(e){if(e.constructor!==Array){if(!e.shouldRender||e.shouldRender()){var t={attributes:(0,o.default)(e,["content","parent","shouldRender"]),parent:e.parent,content:e.content},n="";e.src&&(n=e.src.substring(e.src.lastIndexOf("/")+1)),!e.src||document.querySelector("script[src*='"+e.src+"']")||document.querySelector("script[src*='"+n+"']")||document.getElementById(e.id)||(a("Rendering script via BidBarrel",e),function(e,t,n,r,o){var i,a=e.getElementsByTagName(t)[0],u=void 0!==o&&e.querySelector(o);if(!n.id||!e.getElementById(n.id)){for(var s in(i=e.createElement(t)).setAttribute("type","text/javascript"),n)n.hasOwnProperty(s)&&i.setAttribute(s,!0===n[s]?"":n[s]);r&&(i.innerHTML=r),u?u.append(i):null!==u&&a.parentNode.insertBefore(i,a)}}(document,"script",t.attributes,t.content,t.parent))}}else for(var r=0;r<e.length;r++){var i=e[r];u(i)}});t.renderScript=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCookie=l,t.setCookie=t.getCookie=void 0;var r=n(1),o=n(29),i=arguments;function a(e){return c(e)||s(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var d=(0,o.hookedFn)("sync",function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e||r.bbLogger.atVerbosity(2).logWarn("Attempting to get cookie with falsy key",e);try{var n=g(),o=null;if(n.getters[e]&&t)o=n.getters[e](e);else if(""!==document.cookie){var i,a,u=document.cookie;e+="=",-1!=(i=u.indexOf(e))&&(i+=e.length,-1==(a=u.indexOf(";",i))&&(a=u.length),o=unescape(u.substring(i,a)))}return null!==o&&r.bbLogger.atVerbosity(4).logInfo("Getting Cookie",e,o),o}catch(e){return r.bbLogger.atVerbosity(1).logError(e),null}});t.getCookie=d;var f=(0,o.hookedFn)("sync",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{var s=g();if(s.setters[e]){var c;(c=s.setters)[e].apply(c,a(i))}else{l(e);var d=p(e,t,n,o,u);r.bbLogger.atVerbosity(4).logInfo("Setting Cookie",d),document.cookie=d}}catch(e){r.bbLogger.atVerbosity(1).logError(e)}});function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=d(e);if(o)try{var i=g();if(i.deleters[e])i.deleters[e](e,o,"Fri, 13-Apr-1970 00:00:00 GMT",t,n);else{var a=p(e,o,"Fri, 13-Apr-1970 00:00:00 GMT",t,n);document.cookie=a}}catch(e){r.bbLogger.atVerbosity(1).logError(e)}}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i="".concat(e,"=").concat(t,";"),a=g();if(!1!==n&&(n=n||b.apply(void 0,arguments)),r=r||a.path,o=o||a.domain,!1!==n&&null!==n){var u="string"==typeof n?n:n.toGMTString();i="".concat(i,"expires=").concat(u,";")}return null!==o&&(i="".concat(i,"domain=").concat(o,";")),null!==r&&(i="".concat(i,"path=").concat(r,";")),i.replace(/(\;)$/,"")}function g(){return window.BidBarrel.config.targeting.cookie}function v(){return window.BidBarrel.config.targeting.cookie.expiration}function b(){var e=v();if("function"==typeof e)return e.apply(void 0,arguments);var t=new Date;return t.setTime(t.getTime()+y(.75)),t}function y(e,t){var n=5;m(t=t||new Date)&&(n=4);var r=60*((e+n)%24)-(60*t.getUTCHours()+t.getUTCMinutes());return r<0&&(r=1440+r),6e4*r}function m(e){var t=(e=e||new Date).getUTCMonth();if(t>2&&t<10)return!0;if(t<2||t>10)return!1;var n=e.getUTCDate(),r=e.getUTCDay();return 10==t?!(n>7)&&(0==r?e.getUTCHours()<6:!(n>r)):!(n<8)&&(n>14||(0==r?e.getUTCHours()>6:n-r>7))}t.setCookie=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newAuctionManager=s,t.auctionManager=void 0;var r,o=n(0),i=n(161),a=(r=n(12))&&r.__esModule?r:{default:r};var u=n(8);function s(){var e=[],t={};return t.addWinningBid=function(t){var n=(0,a.default)(e,function(e){return e.getAuctionId()===t.auctionId});n?n.addWinningBid(t):utils.logWarn("Auction not found when adding winning bid")},t.getAllWinningBids=function(){return e.map(function(e){return e.getWinningBids()}).reduce(o.flatten,[])},t.getBidsRequested=function(){return e.map(function(e){return e.getBidRequests()}).reduce(o.flatten,[])},t.getNoBids=function(){return e.map(function(e){return e.getNoBids()}).reduce(o.flatten,[])},t.getBidsReceived=function(){return e.map(function(e){if(e.getAuctionStatus()===i.AUCTION_COMPLETED)return e.getBidsReceived()}).reduce(o.flatten,[]).filter(function(e){return e})},t.getAdUnits=function(){return e.map(function(e){return e.getAdUnits()}).reduce(o.flatten,[])},t.getAdUnitCodes=function(){return e.map(function(e){return e.getAdUnitCodes()}).reduce(o.flatten,[]).filter(o.uniques)},t.createAuction=function(t){var n=t.adUnits,r=t.adUnitCodes,o=t.callback,a=t.cbTimeout,u=t.labels,s=t.auctionId,c=(0,i.newAuction)({adUnits:n,adUnitCodes:r,callback:o,cbTimeout:a,labels:u,auctionId:s});return function(t){e.push(t)}(c),c},t.findBidByAdId=function(t){return(0,a.default)(e.map(function(e){return e.getBidsReceived()}).reduce(o.flatten,[]),function(e){return e.adId===t})},t.getStandardBidderAdServerTargeting=function(){return(0,i.getStandardBidderSettings)()[u.JSON_MAPPING.ADSERVER_TARGETING]},t.setStatusForBids=function(n,r){var o=t.findBidByAdId(n);if(o&&(o.status=r),o&&r===u.BID_STATUS.BID_TARGETING_SET){var i=(0,a.default)(e,function(e){return e.getAuctionId()===o.auctionId});i&&i.setBidTargeting(o)}},t.getLastAuctionId=function(){return e.length&&e[e.length-1].getAuctionId()},t}var c=s();t.auctionManager=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPriceBucketString=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);isNaN(r)&&(r="");return{low:""===r?"":l(e,u,n),med:""===r?"":l(e,s,n),high:""===r?"":l(e,c,n),auto:""===r?"":l(e,f,n),dense:""===r?"":l(e,d,n),custom:""===r?"":l(e,t,n)}},t.isValidPriceConfig=p;var r,o=(r=n(12))&&r.__esModule?r:{default:r};var i=n(0),a=2,u={buckets:[{min:0,max:5,increment:.5}]},s={buckets:[{min:0,max:20,increment:.1}]},c={buckets:[{min:0,max:20,increment:.01}]},d={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},f={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};function l(e,t,n){var r="";if(!p(t))return r;var i=t.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),u=(0,o.default)(t.buckets,function(t){if(e>i.max*n){var o=t.precision;void 0===o&&(o=a),r=(t.max*n).toFixed(o)}else if(e<=t.max*n&&e>=t.min*n)return t});return u&&(r=function(e,t,n){var r=void 0!==t.precision?t.precision:a,o=t.increment*n,i=t.min*n,u=Math.pow(10,r+2),s=(e*u-i*u)/(o*u),c=Math.floor(s)*o+i;return(c=Number(c.toFixed(10))).toFixed(r)}(e,u,n)),r}function p(e){if(i.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){void 0!==e.min&&e.max&&e.increment||(t=!1)}),t}},function(e,t,n){var r=n(167);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(98);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(101),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(98);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringFlags=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.constructor===Array&&(e=(0,o.default)(e).join(","));if(a[e])return a[e];var n=(0,o.default)(e.split(",")).reduce(u,{}),i={};for(var s in n)n.hasOwnProperty(s)&&((0,r.default)(s,"!")?(s.indexOf("explicit")>=0?i.all=!0:s.indexOf("implicit")>=0&&(i.all=!1),i[s.replace("!","")]=!1):(s.indexOf("explicit")>=0?i.all=!1:s.indexOf("implicit")>=0&&(i.all=!0),i[s]=!0));return a[e]={string:e,specified:n,results:i,isEnabled:function(e){return function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return void 0!==t[e]?t[e]:void 0!==t.implicit?t.implicit:void 0!==t.explicit?!t.explicit:void 0!==t.all?t.all:n}(e,i,t)}},a[e]};var r=i(n(190)),o=i(n(197));function i(e){return e&&e.__esModule?e:{default:e}}var a={};function u(e,t){return e[t]=!0,e}},function(e,t,n){var r=n(23),o=n(24),i=n(4),a=n(34),u=1/0,s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-u?"-0":n}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(68))},function(e,t,n){var r=n(105);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(69),o=n(110),i=n(111),a=n(73),u=n(225),s=n(74),c=200;e.exports=function(e,t,n){var d=-1,f=o,l=e.length,p=!0,g=[],v=g;if(n)p=!1,f=i;else if(l>=c){var b=t?null:u(e);if(b)return s(b);p=!1,f=a,v=new r}else v=t?[]:g;e:for(;++d<l;){var y=e[d],m=t?t(y):y;if(y=n||0!==y?y:0,p&&m==m){for(var h=v.length;h--;)if(v[h]===m)continue e;t&&v.push(m),g.push(y)}else f(v,m,n)||(v!==g&&v.push(m),g.push(y))}return g}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(221);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(18)(n(10),"Set");e.exports=r},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(113),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,u=o(i.length-t,0),s=Array(u);++a<u;)s[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(s),r(e,this,c)}}},function(e,t,n){var r=n(227),o=n(229)(r);e.exports=o},function(e,t,n){var r=n(18),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(59),o=n(35);e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(236)();e.exports=r},function(e,t,n){(function(e){var r=n(10),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(76)(e))},function(e,t,n){var r=n(77);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(10).Uint8Array;e.exports=r},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(238),o=n(78),i=n(36);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(15),o=n(13);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(25),o=n(78),i=n(13),a="[object Object]",u=Function.prototype,s=Object.prototype,c=u.toString,d=s.hasOwnProperty,f=c.call(Object);e.exports=function(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(243),o=n(37),i=n(4),a=n(38),u=n(63),s=n(60),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),d=!n&&o(e),f=!n&&!d&&a(e),l=!n&&!d&&!f&&s(e),p=n||d||f||l,g=p?r(e.length,String):[],v=g.length;for(var b in e)!t&&!c.call(e,b)||p&&("length"==b||f&&("offset"==b||"parent"==b)||l&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||u(b,v))||g.push(b);return g}},function(e,t,n){var r=n(58),o=n(247),i=n(61),a=n(248),u=n(250),s=n(119),c=n(122),d=n(251),f=n(253),l=n(133),p=n(135),g=n(41),v=n(257),b=n(258),y=n(123),m=n(4),h=n(38),E=n(262),_=n(6),I=n(264),S=n(7),A=1,w=2,O=4,T="[object Arguments]",x="[object Function]",R="[object GeneratorFunction]",C="[object Object]",j={};j[T]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[C]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[x]=j["[object WeakMap]"]=!1,e.exports=function e(t,n,B,P,D,k){var M,N=n&A,U=n&w,L=n&O;if(B&&(M=D?B(t,P,D,k):B(t)),void 0!==M)return M;if(!_(t))return t;var z=m(t);if(z){if(M=v(t),!N)return c(t,M)}else{var q=g(t),F=q==x||q==R;if(h(t))return s(t,N);if(q==C||q==T||F&&!D){if(M=U||F?{}:y(t),!N)return U?f(t,u(M,t)):d(t,a(M,t))}else{if(!j[q])return D?t:{};M=b(t,q,N)}}k||(k=new r);var V=k.get(t);if(V)return V;k.set(t,M),I(t)?t.forEach(function(r){M.add(e(r,n,B,r,t,k))}):E(t)&&t.forEach(function(r,o){M.set(o,e(r,n,B,o,t,k))});var G=L?U?p:l:U?keysIn:S,W=z?void 0:G(t);return o(W||t,function(r,o){W&&(r=t[o=r]),i(M,o,e(r,n,B,o,t,k))}),M}},function(e,t,n){var r=n(36),o=n(249),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(84),o=n(78),i=n(83),a=n(131),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=u},function(e,t,n){var r=n(134),o=n(83),i=n(7);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(84),o=n(4);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t,n){var r=n(134),o=n(132),i=n(62);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(70),o="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(138),o=n(114),i=n(115);e.exports=function(e){return i(o(e,void 0,r),e+"")}},function(e,t,n){var r=n(139);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){var r=n(84),o=n(273);e.exports=function e(t,n,i,a,u){var s=-1,c=t.length;for(i||(i=o),u||(u=[]);++s<c;){var d=t[s];n>0&&i(d)?n>1?e(d,n-1,i,a,u):r(u,d):a||(u[u.length]=d)}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSizeConfig=c,t.getLabels=function(e,t){if(e.labelAll)return{labelAll:!0,labels:e.labelAll,activeLabels:t};return{labelAll:!1,labels:e.labelAny,activeLabels:t}},t.sizeSupported=function(e){var t=d(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s);if(!t.shouldFilter)return!0;return!!t.sizesSupported[e]},t.resolveStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,o=void 0!==r&&r,u=e.activeLabels,c=void 0===u?[]:u,f=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0,p=d(arguments.length>3&&void 0!==arguments[3]?arguments[3]:s);f=(0,i.isPlainObject)(f)?(0,i.deepClone)(f):l?{banner:{sizes:l}}:{};var g=(0,i.deepAccess)(f,"banner.sizes");p.shouldFilter&&g&&(f.banner.sizes=g.filter(function(e){return p.sizesSupported[e]}));var v=Object.keys(f),b={active:v.length>1||1===v.length&&"banner"!==v[0]||"banner"===v[0]&&(0,i.deepAccess)(f,"banner.sizes.length")>0&&(0===n.length||!o&&(n.some(function(e){return p.labels[e]})||n.some(function(e){return(0,a.default)(c,e)}))||o&&n.reduce(function(e,t){return e?p.labels[t]||(0,a.default)(c,t):e},!0)),mediaTypes:f};g&&g.length!==f.banner.sizes.length&&(b.filterResults={before:g,after:f.banner.sizes});return b};var r,o=n(2),i=n(0),a=(r=n(5))&&r.__esModule?r:{default:r};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=[];function c(e){s=e}function d(e){return e.reduce(function(e,t){if("object"===u(t)&&"string"==typeof t.mediaQuery){var n=!1;try{n=(0,i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){(0,i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach(function(n){return(t[n]||[]).forEach(function(t){return e[n][t]=!0})}))}else(0,i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e},{labels:{},sizesSupported:{},shouldFilter:!1})}o.config.getConfig("sizeConfig",function(e){return c(e.sizeConfig)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adunitCounter=void 0;var r=n(0),o={};var i={incrementCounter:function(e){return o[e]=o[e]||{},o[e].counter=(0,r.deepAccess)(o,"".concat(e,".counter"))+1||1,o[e].counter},getCounter:function(e){return(0,r.deepAccess)(o,"".concat(e,".counter"))||0}};t.adunitCounter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBid=function(e,t){return new o(e,t)};var r=n(0);function o(e,t){var n=t&&t.src||"client",o=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(o){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=r.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=n,this.getStatusCode=function(){return o},this.getSize=function(){return this.width+"x"+this.height}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidVideoBid=function(e,t){var n=(0,o.getBidRequest)(e.requestId,t),r=n&&(0,o.deepAccess)(n,"mediaTypes.video"),i=r&&(0,o.deepAccess)(r,"context");return d(e,n,r,i)},t.checkVideoBidSetup=t.hasNonVideoBidder=t.videoBidder=t.videoAdUnit=t.OUTSTREAM=void 0;var r=s(n(48)),o=n(0),i=n(2),a=s(n(5)),u=n(32);function s(e){return e&&e.__esModule?e:{default:e}}t.OUTSTREAM="outstream";t.videoAdUnit=function(e){var t="video"===e.mediaType,n=(0,o.deepAccess)(e,"mediaTypes.video");return t||n};var c=function(e){return(0,a.default)(r.default.videoAdapters,e.bidder)};t.videoBidder=c;t.hasNonVideoBidder=function(e){return e.bids.filter(function(e){return!c(e)}).length};var d=(0,u.hook)("sync",function(e,t,n,r){return!t||n&&"outstream"!==r?i.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,o.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):"outstream"!==r||!(!e.renderer&&!t.renderer)},"checkVideoBidSetup");t.checkVideoBidSetup=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadExternalScript=function(e,t){if(!t||!e)return void i.logError("cannot load external script without url and moduleCode");if(!(0,o.default)(u,t))return void i.logError("".concat(t," not whitelisted for loading external JavaScript"));if(a[e])return;i.logWarn("module ".concat(t," is loading external JavaScript"));var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,i.insertElement(n),a[e]=!0},t.loadScript=function(e,t,n){if(!e)return void i.logError("Error attempting to request empty URL","adloader.js:loadScript");n?a[e]?t&&"function"==typeof t&&(a[e].loaded?t():a[e].callbacks.push(t)):(a[e]={loaded:!1,callbacks:[]},t&&"function"==typeof t&&a[e].callbacks.push(t),s(e,function(){a[e].loaded=!0;try{for(var t=0;t<a[e].callbacks.length;t++)a[e].callbacks[t]()}catch(e){i.logError("Error executing callback","adloader.js:loadScript",e)}})):s(e,t)};var r,o=(r=n(5))&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0));var a={},u=["criteo"];function s(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,t&&"function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src=e;var r=document.getElementsByTagName("head");(r=r.length?r:document.getElementsByTagName("body")).length&&(r=r[0]).insertBefore(n,r.firstChild)}},function(e,t,n){var r=n(146),o=n(4);e.exports=function(e,t,n,i){return null==e?[]:(o(t)||(t=null==t?[]:[t]),o(n=i?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},function(e,t,n){var r=n(24),o=n(65),i=n(301),a=n(304),u=n(39),s=n(305),c=n(57);e.exports=function(e,t,n){var d=-1;t=r(t.length?t:[c],u(o));var f=i(e,function(e,n,o){return{criteria:r(t,function(t){return t(e)}),index:++d,value:e}});return a(f,function(e,t){return s(e,t,n)})}},function(e,t,n){var r=n(69),o=n(148),i=n(73),a=1,u=2;e.exports=function(e,t,n,s,c,d){var f=n&a,l=e.length,p=t.length;if(l!=p&&!(f&&p>l))return!1;var g=d.get(e);if(g&&d.get(t))return g==t;var v=-1,b=!0,y=n&u?new r:void 0;for(d.set(e,t),d.set(t,e);++v<l;){var m=e[v],h=t[v];if(s)var E=f?s(h,m,v,t,e,d):s(m,h,v,e,t,d);if(void 0!==E){if(E)continue;b=!1;break}if(y){if(!o(t,function(e,t){if(!i(y,t)&&(m===e||c(m,e,n,s,d)))return y.push(t)})){b=!1;break}}else if(m!==h&&!c(m,h,n,s,d)){b=!1;break}}return d.delete(e),d.delete(t),b}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(6);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(296),o=n(297);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t,n){var r=n(75),o=n(81)(function(e,t,n){r(e,t,n)});e.exports=o},function(e,t,n){var r=n(130),o=n(41),i=n(37),a=n(4),u=n(15),s=n(38),c=n(36),d=n(60),f="[object Map]",l="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(u(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||d(e)||i(e)))return!e.length;var t=o(e);if(t==f||t==l)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},function(e,t,n){var r=n(61),o=n(26),i=n(63),a=n(6),u=n(27);e.exports=function(e,t,n,s){if(!a(e))return e;for(var c=-1,d=(t=o(t,e)).length,f=d-1,l=e;null!=l&&++c<d;){var p=u(t[c]),g=n;if(c!=f){var v=l[p];void 0===(g=s?s(v,p,l):void 0)&&(g=a(v)?v:i(t[c+1])?[]:{})}r(l,p,g),l=l[p]}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runQueue=u,t.evidonCountrySetQueue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null,o=u("Evidon Checker Set Queue",e,t),i=a();function a(){return(0,r.default)(window,"evidon.notice.country.code")||(0,r.default)(window,"evidon.location.country.code")}function s(){n&&clearInterval(n)}function c(e){i=e,s(),o.hasRan||o.run()}return n=setInterval(function(){(i=a())&&c(i)},50),{cancel:s,push:function(e){return o.push(e)},run:c,getCountry:function(){return i}}},t.promiseQueue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0,r=!1,a=!1;i.default.resolve();function u(e){r=e}var s=function s(){a||(a=!0),!r&&t[n]&&new i.default(function(r,i){o.bbLogger.atVerbosity(5).logMessage("Running",e,"item",n),u(!0);var a=function(i){i?o.bbLogger.atVerbosity(5).logError("Error",e,"item",n,i,"Callback:",t[n]):o.bbLogger.atVerbosity(5).logMessage("Finished",e,"item",n),n++,u(!1),r()};try{t[n](a)}catch(e){a(e)}}).then(s)};return{get currentIndex(){return n},get isRunning(){return r},get stack(){return t},push:function(e){t.push(e),!r&&a&&s()},run:s}};var r=a(n(46)),o=n(1),i=a(n(156));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e,i=n,a=t,u=!1,s=[];function c(){var e;i&&(e=o.bbLogger.atVerbosity(5)).logInfo.apply(e,[r].concat(Array.prototype.slice.call(arguments)))}return{hasRan:u,run:function(){var e=arguments;u||(u=!0,s=arguments,a.forEach(function(t){c("Executing callback",t);try{t.apply(null,e)}catch(e){e&&o.bbLogger.logError(r,e)}}))},push:function(e){if(u){c("Executing callback",e);try{e.apply(null,s)}catch(e){e&&o.bbLogger.logError(r,e)}}else a.push(e)}}}},function(e,t,n){"use strict";n.r(t),function(e){var r=n(162),o=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}s(t.promise,r)}else(1===e._state?s:c)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void l((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){c(e,t)}var r,o}function c(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return u(this,new f(e,t,n)),n},a.prototype.finally=r.a,a.all=function(e){return new a(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(t){i(e,t)},n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.default=a}.call(this,n(310).setImmediate)},function(e,t,n){var r=n(59),o=n(313)(function(e,t,n){r(e,n,t)});e.exports=o},function(e,t,n){var r=n(321),o=n(137)(function(e,t){return null==e?{}:r(e,t)});e.exports=o},function(e,t,n){"use strict";function r(e){return"string"==typeof e?window.BidBarrel.slots[e]:window.BidBarrel.slots[e.code]}e.exports={getSlotTargeting:function e(t){if(t.constructor===Array){for(var n=[],o=0;o<t.length;o++){var i=t[o];n.push(e(i))}return n}var a="string"==typeof t?r(t):t;if(!a)return logError("Slot not defined",t),{};var u=a.getTargetingMap(),s={};for(var c in u)if(u.hasOwnProperty(c)){var d=u[c];s[c]=""+d}return s},getSlot:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidCache=void 0;var r=n(66),o=n(21),i=n(1),a=n(29),u=l(n(30)),s=l(n(138)),c=l(n(145)),d=l(n(136)),f=n(11);function l(e){return e&&e.__esModule?e:{default:e}}var p=(0,i.generateModuleLoggers)({namespace:"bidCache",color:"#F7FFF6",textColor:"#639C67"}),g=n(3),v=n(8),b=(0,r.getGlobal)(),y=v.EVENTS.BID_WON,m=g.EVENTS,h=m.AD_VIEWABLE,E=m.BAD_BID,_=m.BID_USED,I=m.BID_RECYCLED,S=function(){var e=[],t={},n={},r=[],i=[],l={};function g(e){return Boolean(n[e.adId])}var v=(0,d.default)(function(e,t){return!!window.BidBarrel.unitRegistry[t]&&(t.constructor===Array?t.map(function(t){return v(e,t)}).indexOf(!0)>=0:window.BidBarrel.getSizes(t).map(function(e){return"string"==typeof e||"number"==typeof e?e:e.join("x")}).indexOf(e)>=0)},function(e,t){return"".concat(JSON.stringify(e),"|").concat(t)});function m(t){return!!e[t]&&e[t].pending}var S=(0,d.default)(function(e,t){return!!window.BidBarrel.unitRegistry[t].cache||e.adUnitCode===t},function(e,t){return"".concat(e.adId,"|").concat(t)});function A(e){return e<Date.now()}function w(e,t,n){return(n?!m(e.adId):m(e.adId))&&S(e,t)&&v(e.size,t)&&function(e,t){try{if("kargo"===e.bidderCode&&"320x50"==="".concat(e.width,"x").concat(e.height))return e.originalCode?e.originalCode===t:e.adUnitCode===t}catch(e){return p.logError(e),!1}return!0}(e,t)}var O=(0,a.hookedFn)("sync",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!g(e)&&(t?!m(e.adId):m(e.adId))&&!A(e.expireTime)});function T(e){return e.filter(function(e){return void 0!==window.BidBarrel.unitRegistry[e]})}function x(n){for(var r=Date.now(),o=n.length,i=0;i<o;i++){var a=n[i].ttl>0?n[i].ttl:300;e.length&&t[n[i].adId]||!(n[i].cpm>0)?n<=0&&(t[n[i].adId]=!0):(n[i].expireTime=r+1e3*a,p.atVerbosity(5).logMessage("Caching Bid",n[i]),e[n[i].adId]=n[i],t[n[i].adId]=!0)}}function R(t){void 0!==t.adId&&(e[t.adId].originalCode||(e[t.adId].originalCode=e[t.adId].adUnitCode),l[t.adUnitCode]=t.adId,e[t.adId].pendingFor=t.adUnitCode,e[t.adId].pending=!0)}var C=(0,a.hookedFn)("sync",function(e){var t=window.BidBarrel.config.bidPriority;if(!t.enabled)return e;var n=window.BidBarrel.unitRegistry,r=t.defaultPriority,o=e.sort(function(e,t){return(void 0===n[e].bidPriority?r:n[e].bidPriority)-(void 0===n[t].bidPriority?r:n[t].bidPriority)});return p.atVerbosity(5).logInfo("Ad codes by Bid Priority Order",o),o});function j(e,t){void 0!==b.renderAd&&b.renderAd(e,t)}function B(t){return t?t.constructor===Array?(0,s.default)(t.map(B)):(0,u.default)(e).filter(function(e){return e.adUnitCode===t}):(0,u.default)(e)}return window.adFlow=window.adFlow||{},window.adFlow.renderAd=j,o.eventEmitter.on(E,function(e){return function(e){if(e)for(var t=0;t<r.length;t++){var o=r[t];if(o.adId===e){i.push(o),n[o.adId]=!0,p.atVerbosity(3).logInfo("Bad bid ad render attempted and intercepted",o);break}}}(e)}),o.eventEmitter.on(h,function(t){return function(t){if(void 0!==t&&l[t]&&e[l[t]]){var r=e[l[t]].adId;if(n[r])return void delete e[r];p.atVerbosity(1).logMessage("Recycling Bid",e[r]),o.eventEmitter.emit(I,e[r]),e[r].pending=!1,e[r].pendingFor=null,delete l[t]}}(t.code)}),b.que.push(function(){b.onEvent(y,function(t){return i=t.adId,void(e[i]&&(p.atVerbosity(1).logMessage("Used Bid",e[i]),o.eventEmitter.emit(_,e[i]),n[i]=!0,r.push(e[i]),delete e[i]));var i})}),f.exposureApi.expose({getCachedBids:B,getWinningBids:function e(t){return t?t.constructor===Array?(0,s.default)(t.map(e)):r.filter(function(e){return e.adUnitCode===t}):r},bidFilter:O}),f.exposureApi.rootScope({getCachedBids:B}),{bidFilter:O,filterAdUnits:T,getCachedBids:B,makePending:R,pushBids:x,evaluateWinningBids:function(e,t,n){e=T(e),e=C(e),t.length>0&&x(t);var r=B().filter(function(e){return O(e,n)});t=(0,c.default)(r,["cpm","responseTimestamp"],["desc","asc"]);for(var o=[],i=0;i<e.length;i++)for(var a=e[i],u=0;u<t.length;u++){var s=t[u];if(w(s,a,n)){s.adUnitCode=a,n&&(p.logMessage("Winning Bid Found for ".concat(a," - adId: ").concat(s.adId,", cpm: ").concat(s.cpm,", bidder: ").concat(s.bidderCode)),R(s)),o.push(s);break}}return o},applyPriorityOrder:C}}();t.bidCache=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newAuction=function(e){var t,n,r,i,a=e.adUnits,u=e.adUnitCodes,s=e.callback,c=e.cbTimeout,f=e.labels,l=e.auctionId,p=a,g=f,v=u,b=[],j=[],B=[],P=l||m.generateUUID(),D=s,k=c,M=[],N=new Set;function L(){return{auctionId:P,timestamp:t,auctionEnd:n,auctionStatus:r,adUnits:p,adUnitCodes:v,labels:g,bidderRequests:b,noBids:B,bidsReceived:j,winningBids:M,timeout:k}}function z(e,t){if(t&&clearTimeout(i),null!=D){var u=[];e&&(m.logMessage("Auction ".concat(P," timedOut")),l=N,(u=b.map(function(e){return(e.bids||[]).filter(function(e){return!l.has(e.bidder)})}).reduce(o.flatten,[]).map(function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}})).length&&E.emit(_.EVENTS.BID_TIMEOUT,u));try{r=A,n=Date.now(),E.emit(_.EVENTS.AUCTION_END,L());var s=v,c=j.filter(m.bind.call(o.adUnitsFilter,this,s)).reduce(U,{});D.apply(pbjs,[c,e])}catch(e){m.logError("Error executing bidsBackHandler",null,e)}finally{u.length&&h.callTimedOutBidders(a,u,k);var f=d.config.getConfig("userSync")||{};f.enableOverride||y(f.syncDelay)}D=null}var l}function q(){m.logInfo("Bids Received for Auction with id: ".concat(P),j),r=A,z(!1,!0)}function F(e){N.add(e)}return{addBidReceived:function(e){j=j.concat(e)},addNoBid:function(e){B=B.concat(e)},executeCallback:z,callBids:function(){var e=this;r=I,t=Date.now();var n=h.makeBidRequests(p,t,P,k,g);m.logInfo("Bids Requested for Auction with id: ".concat(P),n),n.forEach(function(e){var t;t=e,b=b.concat(t)});var o={};if(n.length<1)m.logWarn("No valid bid requests returned for auction"),q();else{var a={bidRequests:n,run:function(){var t,a;t=z.bind(null,!0),a=setTimeout(t,k),i=a,r=S,E.emit(_.EVENTS.AUCTION_INIT,L());var c=C(q,e);h.callBids(p,n,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];R.apply({dispatch:c.addBidResponse,bidderRequest:this},t)},c.adapterDone,{request:function(e,t){s(O,t),s(o,e),T[e]||(T[e]={SRA:!0,origin:t}),o[e]>1&&(T[e].SRA=!1)},done:function(e){O[e]--,x[0]&&u(x[0])&&x.shift()}},k,F)}};u(a)||(m.logWarn("queueing auction due to limited endpoint capacity"),x.push(a))}function u(e){var t=!0,n=d.config.getConfig("maxRequestsPerOrigin")||w;return e.bidRequests.some(function(e){var r=1,o=void 0!==e.src&&e.src===_.S2S.SRC?"s2s":e.bidderCode;return T[o]&&(!1===T[o].SRA&&(r=Math.min(e.bids.length,n)),O[T[o].origin]+r>n&&(t=!1)),!t}),t&&e.run(),t}function s(e,t){void 0===e[t]?e[t]=1:e[t]++}},addWinningBid:function(e){M=M.concat(e),h.callBidWonBidder(e.bidder,e,a)},setBidTargeting:function(e){h.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return M},getTimeout:function(){return k},getAuctionId:function(){return P},getAuctionStatus:function(){return r},getAdUnits:function(){return p},getAdUnitCodes:function(){return v},getBidRequests:function(){return b},getBidsReceived:function(){return j},getNoBids:function(){return B}}},t.auctionCallbacks=C,t.doCallbacksIfTimedout=j,t.addBidToAuction=B,t.getStandardBidderSettings=D,t.getKeyValueTargetingPairs=k,t.adjustBids=N,t.callPrebidCache=t.addBidResponse=t.AUCTION_COMPLETED=t.AUCTION_IN_PROGRESS=t.AUCTION_STARTED=void 0;var r,o=n(0),i=n(51),a=n(94),u=n(42),s=n(344),c=n(28),d=n(2),f=n(44),l=n(32),p=(r=n(12))&&r.__esModule?r:{default:r},g=n(143);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=f.userSync.syncUsers,m=n(0),h=n(48).default,E=n(43),_=n(8),I="started";t.AUCTION_STARTED=I;var S="inProgress";t.AUCTION_IN_PROGRESS=S;var A="completed";t.AUCTION_COMPLETED=A,E.on(_.EVENTS.BID_ADJUSTMENT,function(e){N(e)});var w=4,O={},T={},x=[];var R=(0,l.hook)("async",function(e,t){this.dispatch.call(this.bidderRequest,e,t)},"addBidResponse");function C(e,t){var n=0,r=!1,i=new Set,u={};function s(){n--,r&&0===n&&e()}return{addBidResponse:function(e,r){u[r.requestId]=!0,n++;var i=function(e){var t=e.adUnitCode,n=e.bid,r=e.bidderRequest,i=e.auctionId,u=r.start,s=b({},n,{auctionId:i,responseTimestamp:(0,o.timestamp)(),requestTimestamp:u,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});s.timeToRespond=s.responseTimestamp-s.requestTimestamp,E.emit(_.EVENTS.BID_ADJUSTMENT,s);var f=r.bids&&(0,p.default)(r.bids,function(e){return e.adUnitCode==t}),l=f&&f.renderer;l&&l.url&&(s.renderer=c.Renderer.install({url:l.url}),s.renderer.setRender(l.render));var g=d.config.getConfig("mediaTypePriceGranularity.".concat(n.mediaType)),y=(0,a.getPriceBucketString)(s.cpm,"object"===v(g)?g:d.config.getConfig("customPriceBucket"),d.config.getConfig("currency.granularityMultiplier"));return s.pbLg=y.low,s.pbMg=y.med,s.pbHg=y.high,s.pbAg=y.auto,s.pbDg=y.dense,s.pbCg=y.custom,s}({adUnitCode:e,bid:r,bidderRequest:this,auctionId:t.getAuctionId()});"video"===i.mediaType?function(e,t,n,r){var i=!0,a=(0,o.getBidRequest)(t.requestId,[n]),u=a&&(0,o.deepAccess)(a,"mediaTypes.video"),s=u&&(0,o.deepAccess)(u,"context");d.config.getConfig("cache.url")&&s!==g.OUTSTREAM&&(t.videoCacheKey?t.vastUrl||(m.logError("videoCacheKey specified but not required vastUrl for video bid"),i=!1):(i=!1,P(e,t,r,a)));i&&(B(e,t),r())}(t,i,this,s):(B(t,i),s())},adapterDone:function(){i.add(this),r=t.getBidRequests().every(function(e){return i.has(e)}),this.bids.forEach(function(e){u[e.bidId]||(t.addNoBid(e),E.emit(_.EVENTS.NO_BID,e))}),r&&0===n&&e()}}}function j(e,t){t.timeToRespond>e.getTimeout()+d.config.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function B(e,t){var n=e.getBidRequests(),r=(0,p.default)(n,function(e){return e.bidderCode===t.bidderCode});!function(e,t){var n;if(e.bidderCode&&(e.cpm>0||e.dealId)){var r=(0,p.default)(t.bids,function(t){return t.adUnitCode===e.adUnitCode});n=k(e.bidderCode,e,r)}e.adserverTargeting=b(e.adserverTargeting||{},n)}(t,r),E.emit(_.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),j(e,t)}t.addBidResponse=R;var P=(0,l.hook)("async",function(e,t,n,r){(0,s.store)([t],function(r,o){r?(m.logWarn("Failed to save to the video cache: ".concat(r,". Video bid must be discarded.")),j(e,t)):""===o[0].uuid?(m.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),j(e,t)):(t.videoCacheKey=o[0].uuid,t.vastUrl||(t.vastUrl=(0,s.getCacheUrl)(t.videoCacheKey)),B(e,t),n())})},"callPrebidCache");function D(e,t){function n(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return(0,o.getValue)(e,t)}}}var r=_.TARGETING_KEYS,a=d.config.getConfig("mediaTypePriceGranularity.".concat(e)),u="string"==typeof e&&a?"string"==typeof a?a:"custom":d.config.getConfig("priceGranularity"),s=pbjs.bidderSettings;if(s[_.JSON_MAPPING.BD_SETTING_STANDARD]||(s[_.JSON_MAPPING.BD_SETTING_STANDARD]={}),s[_.JSON_MAPPING.BD_SETTING_STANDARD][_.JSON_MAPPING.ADSERVER_TARGETING]||(s[_.JSON_MAPPING.BD_SETTING_STANDARD][_.JSON_MAPPING.ADSERVER_TARGETING]=[n(r.BIDDER,"bidderCode"),n(r.AD_ID,"adId"),n(r.PRICE_BUCKET,function(e){return u===_.GRANULARITY_OPTIONS.AUTO?e.pbAg:u===_.GRANULARITY_OPTIONS.DENSE?e.pbDg:u===_.GRANULARITY_OPTIONS.LOW?e.pbLg:u===_.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:u===_.GRANULARITY_OPTIONS.HIGH?e.pbHg:u===_.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}),n(r.SIZE,"size"),n(r.DEAL,"dealId"),n(r.SOURCE,"source"),n(r.FORMAT,"mediaType")]),"video"===e){var c=s[_.JSON_MAPPING.BD_SETTING_STANDARD][_.JSON_MAPPING.ADSERVER_TARGETING];if([r.UUID,r.CACHE_ID].forEach(function(e){void 0===(0,p.default)(c,function(t){return t.key===e})&&c.push(n(e,"videoCacheKey"))}),d.config.getConfig("cache.url")&&(!t||!1!==m.deepAccess(s,"".concat(t,".sendStandardTargeting")))){var f=(0,i.parse)(d.config.getConfig("cache.url"));void 0===(0,p.default)(c,function(e){return e.key===r.CACHE_HOST})&&c.push(n(r.CACHE_HOST,function(e){return m.deepAccess(e,"adserverTargeting.".concat(r.CACHE_HOST))?e.adserverTargeting[r.CACHE_HOST]:f.hostname}))}}return s[_.JSON_MAPPING.BD_SETTING_STANDARD]}function k(e,t,n){if(!t)return{};var r={},o=pbjs.bidderSettings;o&&(M(r,D(t.mediaType,e),t),e&&o[e]&&o[e][_.JSON_MAPPING.ADSERVER_TARGETING]&&(M(r,o[e],t),t.sendStandardTargeting=o[e].sendStandardTargeting));return t.native&&(r=b({},r,(0,u.getNativeTargeting)(t,n))),r}function M(e,t,n){var r=t[_.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),m._each(r,function(r){var o=r.key,i=r.val;if(e[o]&&m.logWarn("The key: "+o+" is getting ovewritten"),m.isFn(i))try{i=i(n)}catch(e){m.logError("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==_.TARGETING_KEYS.DEAL||!m.isEmptyStr(i)&&null!=i?e[o]=i:m.logInfo("suppressing empty key '"+o+"' from adserver targeting")}),e}function N(e){var t,n=e.bidderCode,r=e.cpm;if(pbjs.bidderSettings&&(n&&pbjs.bidderSettings[n]&&"function"==typeof pbjs.bidderSettings[n].bidCpmAdjustment?t=pbjs.bidderSettings[n].bidCpmAdjustment:pbjs.bidderSettings[_.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[_.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs.bidderSettings[_.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{r=t(e.cpm,b({},e))}catch(e){m.logError("Error during bid adjustment","bidmanager.js",e)}r>=0&&(e.cpm=r)}function U(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}t.callPrebidCache=P},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},function(e,t,n){n(164),n(275),n(276),n(277),n(283),n(284),n(285),n(9),n(309),n(328),n(329),n(331),n(332),n(335),n(336),n(337),n(341),n(347),e.exports=n(350)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getPlatform=E,t._isInbounds=t.spec=void 0;var r=n(14),o=n(0),i=n(16),a=n(2),u=n(28),s=n(44);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l="sonobi",p=(0,o.generateUUID)(),g="https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",v={code:l,supportedMediaTypes:[i.BANNER,i.VIDEO],isBidRequestValid:function(e){return!(!e.params||!e.params.ad_unit&&!e.params.placement_id||!e.params.sizes&&!e.sizes)},buildRequests:function(e,t){var n=e.map(function(e){var t=function(e){if(e.params.ad_unit)return e.params.ad_unit;return e.params.placement_id}(e);return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(t)?(t="/"===t.charAt(0)?t:"/"+t,f({},"".concat(t,"|").concat(e.bidId),"".concat(b(e)).concat(y(e)))):/^[0-9a-fA-F]{20}$/.test(t)&&20===t.length?f({},e.bidId,"".concat(t,"|").concat(b(e)).concat(y(e))):void(0,o.logError)("The ad unit code or Sonobi Placement id for slot ".concat(e.bidId," is invalid"))}),r={};n.forEach(function(e){d(r,e)});var i={key_maker:JSON.stringify(r),ref:t.refererInfo.referer,s:(0,o.generateUUID)(),pv:p,vp:E(),lib_name:"prebid",lib_v:"2.13.0",us:0};a.config.getConfig("userSync")&&a.config.getConfig("userSync").syncsPerBidder&&(i.us=a.config.getConfig("userSync").syncsPerBidder),s.userSync.canBidderRegisterSync("iframe",l)?i.ius=1:i.ius=0,(0,o.deepAccess)(e[0],"params.hfa")?i.hfa=(0,o.deepAccess)(e[0],"params.hfa"):(0,o.deepAccess)(e[0],"userId.pubcid")?i.hfa="PRE-".concat(e[0].userId.pubcid):(0,o.deepAccess)(e[0],"crumbs.pubcid")&&(i.hfa="PRE-".concat(e[0].crumbs.pubcid)),(0,o.deepAccess)(e[0],"userId.tdid")&&(i.tdid=e[0].userId.tdid),e[0].params.referrer&&(i.ref=e[0].params.referrer),t&&t.gdprConsent&&(i.gdpr=t.gdprConsent.gdprApplies?"true":"false",t.gdprConsent.consentString&&(i.consent_string=t.gdprConsent.consentString));var u=function(e){var t=(n=window.DigiTrust&&(a.config.getConfig("digiTrustId")||window.DigiTrust.getUser({member:e})),n&&n.success&&n.identity||null);var n;if(!t||t.privacy&&t.privacy.optout)return null;return t}("fhnS5drwmH");return u&&(i.digid=u.id,i.digkeyv=u.keyv),(0,o.isEmpty)(r)?null:{method:"GET",url:"https://apex.go.sonobi.com/trinity.json",withCredentials:!0,data:i,bidderRequests:e}},interpretResponse:function(e,t){var n=e.body,r=[],i=t.data.ref;return 0===Object.keys(n.slots).length?r:(Object.keys(n.slots).forEach(function(e){var a=n.slots[e],s=e.split("|").slice(-1)[0],d=function(e,t){for(var n=0;n<e.length;n++)if(e[n].bidId===t)return e[n]}(t.bidderRequests,s),f=null;"video"===a.sbi_ct&&(f="video","outstream"===(0,o.deepAccess)(d,"mediaTypes.video.context")&&(f="outstream"));var l=m(f,i);if(a.sbi_aid&&a.sbi_mouse&&a.sbi_size){var p=c(a.sbi_size.split("x"),2),v=p[0],b=void 0===v?1:v,y=p[1],h=void 0===y?1:y,E={requestId:s,cpm:Number(a.sbi_mouse),width:Number(b),height:Number(h),ad:l(n.sbi_dc,a.sbi_aid),ttl:500,creativeId:a.sbi_crid||a.sbi_aid,aid:a.sbi_aid,netRevenue:!0,currency:"USD"};if(a.sbi_dozer&&(E.dealId=a.sbi_dozer),"video"===f)E.mediaType="video",E.vastUrl=l(n.sbi_dc,a.sbi_aid),delete E.ad,delete E.width,delete E.height;else if("outstream"===f&&d){E.mediaType="video",E.vastUrl=l(n.sbi_dc,a.sbi_aid),E.renderer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.Renderer.install({id:t.aid,url:g,config:n,loaded:!1,adUnitCode:e});try{r.setRender(_)}catch(e){(0,o.logWarn)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return(0,o.logMessage)("Sonobi outstream video impression event")},loaded:function(){return(0,o.logMessage)("Sonobi outstream video loaded event")},ended:function(){(0,o.logMessage)("Sonobi outstream renderer video event")}}),r}(d.adUnitCode,E,(0,o.deepAccess)(d,"renderer.options"));var I=(0,o.deepAccess)(d,"params.sizes");Array.isArray(I)&&Array.isArray(I[0])&&(I=I[0]),I&&(E.width=I[0],E.height=I[1])}r.push(E)}}),r)},getUserSyncs:function(e,t){var n=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach(function(e){n.push({type:e.type,url:e.url})})}catch(e){}return n}};function b(e){return e.params.sizes?(0,o.parseSizesInput)(e.params.sizes).join(","):(0,o.parseSizesInput)(e.sizes).join(",")}function y(e){return e.params.floor?"|f=".concat(e.params.floor):""}t.spec=v;var m=function(e,t){return function(n,r){return"video"===e||"outstream"===e?function(e,t,n){return"https://".concat(e,"apex.go.sonobi.com/vast.xml?vid=").concat(t,"&ref=").concat(encodeURIComponent(n))}(n,r,t):'<script type="text/javascript" src="'+"https://".concat(n,"apex.go.sonobi.com/sbi.js?aid=").concat(r,"&as=null&ref=").concat(encodeURIComponent(t))+'"><\/script>'}};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return e.innerWidth>=t&&e.innerWidth<n}};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=h(e),n=992,r=768;return t(0,768)?"mobile":t(r,n)?"tablet":"desktop"}function _(e){e.renderer.push(function(){var t=c(e.getSize().split("x"),2),n=t[0],r=t[1],o=new window.SbiOutstreamRenderer;o.init({vastUrl:e.vastUrl,height:r,width:n}),o.setRootElement(e.adUnitCode)})}t._isInbounds=h,(0,r.registerBidder)(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},function(e,t,n){"use strict";var r=n(49),o=n(176)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(103)("find")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(169),o=n(174);e.exports=n(67)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(170),o=n(171),i=n(173),a=Object.defineProperty;t.f=n(67)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(31);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(67)&&!n(96)(function(){return 7!=Object.defineProperty(n(172)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(31),o=n(50).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(31);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(95),o=n(97),i=n(177),a=n(100),u=n(178);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,d=4==e,f=6==e,l=5==e||f,p=t||u;return function(t,u,g){for(var v,b,y=i(t),m=o(y),h=r(u,g,3),E=a(m.length),_=0,I=n?p(t,E):s?p(t,0):void 0;E>_;_++)if((l||_ in m)&&(b=h(v=m[_],_,y),e))if(n)I[_]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:I.push(v)}else if(d)return!1;return f?-1:c||d?d:I}}},function(e,t,n){var r=n(99);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(179);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(31),o=n(102),i=n(180)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(181)("wks"),o=n(183),i=n(50).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(22),o=n(50),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(182)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";var r=n(49),o=n(185)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(103)("includes")},function(e,t,n){var r=n(186),o=n(100),i=n(187);e.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),d=i(a,c);if(e&&n!=n){for(;c>d;)if((u=s[d++])!=u)return!0}else for(;c>d;d++)if((e||d in s)&&s[d]===n)return e||d||0;return!e&&-1}}},function(e,t,n){var r=n(97),o=n(99);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(101),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t){d.SYNC=1,d.ASYNC=2,d.QUEUE=4;var n="fun-hooks",r="function"==typeof Proxy,o=Object.freeze({useProxy:r,ready:0}),i=Object.getPrototypeOf({}),a="2,1,0"===[1].reduce(function(e,t,n){return[e,t,n]},2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),o=r.length>>>0,i=0;if(t)n=t;else{for(;i<o&&!(i in r);)i++;n=r[i++]}for(;i<o;)i in r&&(n=e(n,r[i],i,r)),i++;return n},u=4===function(e,t){return t}.bind(null,1,4)()?Function.prototype.bind:function(e){var t=this,n=c(arguments,1);return function(){return t.apply(e,n.concat(c(arguments)))}};function s(e){return a.call(c(arguments,1),function(e,t){return t&&Object.keys(t).forEach(function(n){e[n]=t[n]}),e},e)}function c(e,t){return Array.prototype.slice.call(e,t)}function d(e){var t,r={},f=[];function l(e,t){return"function"==typeof e?b.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?b.apply(null,arguments):"object"==typeof e?p.apply(null,arguments):void 0}function p(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var o={},a=["constructor"];do{(t=t.filter(function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))})).forEach(function(t){var r=t.split(":"),i=r[0],a=r[1]||"sync";if(!o[i]){var u=e[i];o[i]=e[i]=b(a,u,n?[n,i]:void 0)}}),e=Object.getPrototypeOf(e)}while(r&&e!==i);return o}function g(e){var o=Array.isArray(e)?e:e.split(".");return a.call(o,function(r,i,a){var u=r[i],s=!1;return u||(a===o.length-1?(t||f.push(function(){s||console.warn(n+": referenced '"+e+"' but it was never created")}),r[i]=v(function(e){r[i]=e,s=!0})):r[i]={})},r)}function v(e){var t=[],n=[],r=function(){};return{__funHook:{install:function(o,i,a){this.type=o,this.fn=i,r=a,a(t,n),e&&e(i)}},before:function(e,n){return o.call(this,t,"before",e,n)},after:function(e,t){return o.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);return"object"==typeof e&&(r=r.filter(function(t){return Object.keys(e).every(function(n){return t[n]===e[n]})})),s(r,{remove:function(){return r.forEach(function(e){e.remove()}),this}})},removeAll:function(){return this.getHooks().remove()}};function o(e,o,i,a){var u={hook:i,type:o,priority:a||10,remove:function(){var o=e.indexOf(u);-1!==o&&(e.splice(o,1),r(t,n))}};return e.push(u),e.sort(function(e,t){return t.priority-e.priority}),r(t,n),this}}function b(r,o,i){if(o.__funHook){if(o.__funHook.type!==r)throw n+": recreated hookable with different type";return o.__funHook.fn}var a,l,p=i?g(i):v(),b={get:function(e,t){return p[t]||Reflect.get.apply(Reflect,arguments)}};return t||f.push(y),e.useProxy?l=new Proxy(o,b):s(l=function(){return b.apply?b.apply(o,this,c(arguments)):o.apply(this,arguments)},p),p.__funHook.install(r,l,function(e,t){if(e.length||t.length){var n;if("sync"===r){var o,i="r=t.apply(h,"+(e.length?"arguments":"g")+")";t.length&&(o=c(t,"a","n(function extract(s){r=s},e)")),e.length&&(i=c(e,"b","n(function extract(){"+i+";"+o+"},e)"),o=""),n=["var r,e={bail:function(a){r=a}}",i,o,"return r"].join(";")}else"async"===r&&(n="t.apply(h,"+(e.length?"Array.prototype.slice.call(arguments)":"g")+".concat("+c(t,"a","z?n(z,e):[]")+"))",e.length&&(n="n(function partial(){"+n+"},e)"),n=["var z",'typeof g[g.length-1]==="function"&&(z=i.call(g.pop(),null))',"var e={bail:z}",c(e,"b",n)].join(";"));a=u.call(new Function("i,b,a,n,t,h,g",n),null,u,e,t,Object.assign||s)}else a=void 0;function c(e,t,n){for(var o=e.length;o-- >0;)0!==o||"async"===r&&"a"===t?(n="i.call("+t+"["+o+"].hook, h,"+n+")","async"===r&&"a"===t&&0===o||(n="n("+n+",e)")):n=t+"["+o+"].hook.apply(h,["+n+("b"===t?"].concat(g))":",r])");return n}y()}),l;function y(){!t&&("sync"!==r||e.ready&d.SYNC)&&("async"!==r||e.ready&d.ASYNC)?"sync"!==r&&e.ready&d.QUEUE?b.apply=function(){var e=arguments;f.push(function(){l.apply(e[1],e[2])})}:b.apply=function(){throw n+": hooked function not ready"}:b.apply=a}}return(e=s({},o,e)).ready?l.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(f)}:t=!0,l.get=g,l}e.exports=d},function(e,t){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var o=t[r];n[r]=o&&"object"==typeof o?e(o):o}return n}},function(e,t,n){var r=n(191),o=n(105),i=n(194),a=n(107);e.exports=function(e,t,n){return e=a(e),n=null==n?0:r(i(n),0,e.length),t=o(t),e.slice(n,n+t.length)==t}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(23),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[u]=n:delete e[u]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(195);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(196),o=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(6),o=n(34),i=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||c.test(e)?d(e.slice(2),n?2:8):u.test(e)?i:+e}},function(e,t,n){var r=n(108);e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){var r=n(199),o=n(53),i=n(72);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(200),o=n(205),i=n(206),a=n(207),u=n(208);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(52);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(71),o=n(202),i=n(6),a=n(109),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,f=c.hasOwnProperty,l=RegExp("^"+d.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?l:u).test(a(e))}},function(e,t,n){var r,o=n(203),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(10)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(52),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(52),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(52),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(54),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(54);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(54);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(54);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(55);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(55);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(55);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(55);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(222),o=n(223),i=n(224);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(112),o=n(226),i=n(74),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(228),o=n(116),i=n(57),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=o(),u=r-(a-i);if(i=a,u>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(75),o=n(6);e.exports=function e(t,n,i,a,u,s){return o(t)&&o(n)&&(s.set(n,t),r(t,n,void 0,e,s),s.delete(n)),t}},function(e,t,n){var r=n(53);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(53),o=n(72),i=n(70),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var u=n.__data__;if(!o||u.length<a-1)return u.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(u)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}},function(e,t,n){var r=n(117),o=n(119),i=n(120),a=n(122),u=n(123),s=n(37),c=n(4),d=n(125),f=n(38),l=n(71),p=n(6),g=n(126),v=n(60),b=n(127),y=n(242);e.exports=function(e,t,n,m,h,E,_){var I=b(e,n),S=b(t,n),A=_.get(S);if(A)r(e,n,A);else{var w=E?E(I,S,n+"",e,t,_):void 0,O=void 0===w;if(O){var T=c(S),x=!T&&f(S),R=!T&&!x&&v(S);w=S,T||x||R?c(I)?w=I:d(I)?w=a(I):x?(O=!1,w=o(S,!0)):R?(O=!1,w=i(S,!0)):w=[]:g(S)||s(S)?(w=I,s(I)?w=y(I):p(I)&&!l(I)||(w=u(S))):O=!1}O&&(_.set(S,w),h(w,S,m,E,_),_.delete(S)),r(e,n,w)}}},function(e,t,n){var r=n(6),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(25),o=n(13),i="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(25),o=n(79),i=n(13),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(20),o=n(62);e.exports=function(e){return r(e,o(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(6),o=n(36),i=n(245),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var u in e)("constructor"!=u||!t&&a.call(e,u))&&n.push(u);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(75),o=n(81)(function(e,t,n,o){r(e,t,n,o)});e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(20),o=n(7);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(124)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(20),o=n(62);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(20),o=n(83);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(20),o=n(132);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(18)(n(10),"DataView");e.exports=r},function(e,t,n){var r=n(18)(n(10),"Promise");e.exports=r},function(e,t,n){var r=n(18)(n(10),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(77),o=n(259),i=n(260),a=n(261),u=n(120),s="[object Boolean]",c="[object Date]",d="[object Map]",f="[object Number]",l="[object RegExp]",p="[object Set]",g="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",y="[object DataView]",m="[object Float32Array]",h="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",I="[object Int32Array]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",w="[object Uint16Array]",O="[object Uint32Array]";e.exports=function(e,t,n){var T=e.constructor;switch(t){case b:return r(e);case s:case c:return new T(+e);case y:return o(e,n);case m:case h:case E:case _:case I:case S:case A:case w:case O:return u(e,n);case d:return new T;case f:case g:return new T(e);case l:return i(e);case p:return new T;case v:return a(e)}}},function(e,t,n){var r=n(77);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(23),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(263),o=n(39),i=n(80),a=i&&i.isMap,u=a?o(a):r;e.exports=u},function(e,t,n){var r=n(41),o=n(13),i="[object Map]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(265),o=n(39),i=n(80),a=i&&i.isSet,u=a?o(a):r;e.exports=u},function(e,t,n){var r=n(41),o=n(13),i="[object Set]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(26),o=n(269),i=n(270),a=n(27);e.exports=function(e,t){return t=r(t,e),null==(e=i(e,t))||delete e[a(o(t))]}},function(e,t,n){var r=n(268),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=a},function(e,t,n){var r=n(136),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(64),o=n(271);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(126);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(23),o=n(37),i=n(4),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectReferer=i,t.getRefererInfo=void 0;var r=n(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){function t(){var t=function(){var t,i=[];do{try{t=t?t.parent:e;try{var a=t==e.top,u={referrer:t.document.referrer||null,location:t.location.href||null,isTop:a};a&&(u=o(u,{canonicalUrl:n(t.document)})),i.push(u)}catch(n){i.push({referrer:null,location:null,isTop:t==e.top}),(0,r.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(e){return i.push({referrer:null,location:null,isTop:!1}),i}}while(t!=e.top);return i}(),i=function(){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}();if(i)for(var a=0,u=i.length;a<u;a++)t[a].ancestor=i[a];return t}function n(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}return function(){try{var e,n=t(),r=n.length-1,o=null!==n[r].location||r>0&&null!==n[r-1].referrer,i=function(e){var t,n=[],r=null,o=null,i=null,a=null,u=null;for(t=e.length-1;t>=0;t--){try{r=e[t].location}catch(e){}if(r)n.push(r),u||(u=r);else if(0!==t){o=e[t-1];try{i=o.referrer,a=o.ancestor}catch(e){}i?(n.push(i),u||(u=i)):a?(n.push(a),u||(u=a)):n.push(null)}else n.push(null)}return{stack:n,detectedRefererUrl:u}}(n);return n[n.length-1].canonicalUrl&&(e=n[n.length-1].canonicalUrl),{referer:i.detectedRefererUrl,reachedTop:o,numIframes:r,stack:i.stack,canonicalUrl:e}}catch(e){}}}var a=i(window);t.getRefererInfo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(14),i=n(16);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(){var e=d(["dcn=","&pos=","&cmd=bid",""]);return u=function(){return e},e}function s(){var e=d(["//","/bidRequest?"]);return s=function(){return e},e}function c(){var e=d(["//","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]);return c=function(){return e},e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f={AOL:"aol",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},l={DISPLAY:{GET:"display-get"},MOBILE:{GET:"mobile-get",POST:"mobile-post"}},p={TAG:"iframe",TYPE:"iframe"},g={TAG:"img",TYPE:"image"},v=E(c(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),b=E(s(),"host"),y=E(u(),"dcn","pos","dynamicParams"),m={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},h=1;function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];var a=o[o.length-1]||{},u=[e[0]];return n.forEach(function(t,n){var i=r.isInteger(t)?o[t]:a[t];u.push(i,e[n+1])}),u.join("")}}function _(e){return e===f.AOL||e===f.ONEMOBILE}function I(e){if(_(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var t=e.params.imp[0];return t.id&&t.tagid&&(t.banner&&t.banner.w&&t.banner.h||t.video&&t.video.mimes&&t.video.minduration&&t.video.maxduration)}}function S(e){return _(e.bidder)&&e.params.dcn&&e.params.pos}function A(e){return((t=e.bidder)===f.AOL||t===f.ONEDISPLAY)&&e.params.placement&&e.params.network;var t}var w={code:f.AOL,aliases:[f.ONEMOBILE,f.ONEDISPLAY],supportedMediaTypes:[i.BANNER],isBidRequestValid:function(e){return A(e)||function(e){return S(e)||I(e)}(e)},buildRequests:function(e,t){var n=this,r=t?t.gdprConsent:null;return e.map(function(e){var t=function(e){return S(e)?l.MOBILE.GET:I(e)?l.MOBILE.POST:A(e)?l.DISPLAY.GET:void 0}(e);if(t)return n.formatBidRequest(t,e,r)})},interpretResponse:function(e,t){var n=e.body;if(n){var o=this._parseBidResponse(n,t);if(o)return o}else r.logError("Empty bid response",t.bidderCode,n)},getUserSyncs:function(e,t){var n=!r.isEmpty(t)&&t[0].body;return n&&n.ext&&n.ext.pixels?this.parsePixelItems(n.ext.pixels):[]},formatBidRequest:function(e,t,n){var r;switch(e){case l.DISPLAY.GET:r={url:this.buildMarketplaceUrl(t,n),method:"GET",ttl:60};break;case l.MOBILE.GET:r={url:this.buildOneMobileGetUrl(t,n),method:"GET",ttl:3600};break;case l.MOBILE.POST:r={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,n),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return r.bidderCode=t.bidder,r.bidId=t.bidId,r.userSyncOn=t.params.userSyncOn,r},buildMarketplaceUrl:function(e,t){var n,o=e.params,i=o.server,a=o.region||"us";return m.hasOwnProperty(a)||(r.logWarn("Unknown region '".concat(a,"' for AOL bidder.")),a="us"),n=i||m[a],o.region=a,v({host:n,network:o.network,placement:parseInt(o.placement),pageid:o.pageId||0,sizeid:o.sizeId||0,alias:o.alias||r.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(o,t)})},buildOneMobileGetUrl:function(e,t){var n=e.params,r=n.dcn,o=n.pos,i=n.ext,a=this.buildOneMobileBaseUrl(e);if(r&&o){var u=this.formatOneMobileDynamicParams(i,t);a+=y({dcn:r,pos:o,dynamicParams:u})}return a},buildOneMobileBaseUrl:function(e){return b({host:e.params.host||"hb.nexage.com"})},formatMarketplaceDynamicParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={};e.bidFloor&&(n.bidfloor=e.bidFloor),a(n,this.formatKeyValues(e.keyValues)),a(n,this.formatConsentData(t));var o="";return r._each(n,function(e,t){o+="".concat(t,"=").concat(encodeURIComponent(e),";")}),o},formatOneMobileDynamicParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.isSecureProtocol()&&(e.secure=h),a(e,this.formatConsentData(t));var n="";return r._each(e,function(e,t){n+="&".concat(t,"=").concat(encodeURIComponent(e))}),n},buildOpenRtbRequestData:function(e,t){var n={id:e.params.id,imp:e.params.imp};return this.isConsentRequired(t)&&(n.regs={ext:{gdpr:h}},t.consentString&&(n.user={ext:{consent:t.consentString}})),n},isConsentRequired:function(e){return!(!e||!e.gdprApplies)},formatKeyValues:function(e){var t={};return r._each(e,function(e,n){t["kv".concat(n)]=e}),t},formatConsentData:function(e){var t={};return this.isConsentRequired(e)&&(t.gdpr=h,e.consentString&&(t.euconsent=e.consentString)),t},parsePixelItems:function(e){var t=/\w*(?=\s)/,n=/src=("|')(.*?)\1/,r=[];if(e){var o=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);o&&o.forEach(function(e){var o=e.match(t)[0],i=e.match(n)[2];o&&o&&r.push({type:o===g.TAG?g.TYPE:p.TYPE,url:i})})}return r},_parseBidResponse:function(e,t){var n,o;try{n=e.seatbid[0].bid[0]}catch(e){return}if(n.ext&&n.ext.encp)o=n.ext.encp;else if(null===(o=n.price)||isNaN(o))return void r.logError("Invalid price in bid response",f.AOL,bid);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:n.adm,cpm:o,width:n.w,height:n.h,creativeId:n.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:n.dealid,netRevenue:!0,ttl:t.ttl}},isOneMobileBidder:_,isSecureProtocol:function(){return"https:"===document.location.protocol}};t.spec=w,(0,o.registerBidder)(w)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var r=n(28),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),i=n(2),a=n(14),u=n(16),s=d(n(12)),c=d(n(5));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g="//ib.adnxs.com/ut/v3/prebid",v=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],b=["age","externalUid","segments","gender","dnt","language"],y=["geo","device_id"],m=["enabled","dongle","member_id","debug_timeout"],h={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},E=15,_={code:"appnexus",aliases:["appnexusAst","brealtime","emxdigital","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia","districtm"],supportedMediaTypes:[u.BANNER,u.VIDEO,u.NATIVE],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var n,r=e.map(w),a=(0,s.default)(e,T);a&&(n={},Object.keys(a.params.user).filter(function(e){return(0,c.default)(b,e)}).forEach(function(e){return n[e]=a.params.user[e]}));var u,d=(0,s.default)(e,R);d&&d.params&&d.params.app&&(u={},Object.keys(d.params.app).filter(function(e){return(0,c.default)(y,e)}).forEach(function(e){return u[e]=d.params.app[e]}));var f,l=(0,s.default)(e,C);l&&l.params&&d.params.app&&d.params.app.id&&(f={appid:l.params.app.id});var v={},h={},_=o.getCookie("apn_prebid_debug")||null;if(_)try{v=JSON.parse(_)}catch(e){o.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var I=(0,s.default)(e,j);I&&I.debug&&(v=I.debug)}v&&v.enabled&&Object.keys(v).filter(function(e){return(0,c.default)(m,e)}).forEach(function(e){h[e]=v[e]});var S=(0,s.default)(e,x),A=S?parseInt(S.params.member,10):0,O={tags:p(r),user:n,sdk:{source:"pbjs",version:"2.13.0"}};if(A>0&&(O.member_id=A),d&&(O.device=u),l&&(O.app=f),i.config.getConfig("adpod.brandCategoryExclusion")&&(O.brand_category_uniqueness=!0),h.enabled&&(O.debug=h,o.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(h,null,4))),t&&t.gdprConsent&&(O.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.refererInfo){var D={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")};O.referrer_detection=D}return(0,s.default)(e,B)&&e.filter(B).forEach(function(e){var t=function(e,t){var n=t.mediaTypes.video,r=n.durationRangeSec,i=n.requireExactDuration,a=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,i=o.getMinValueFromArray(n),a=Math.floor(t/i);return r?Math.max(a,n.length):a}(t.mediaTypes.video),u=o.getMaxValueFromArray(r),s=e.filter(function(e){return e.uuid===t.bidId}),c=o.fill.apply(o,p(s).concat([a]));if(i){var d=Math.ceil(a/r.length),f=o.chunk(c,d);r.forEach(function(e,t){f[t].map(function(t){P(t,"minduration",e),P(t,"maxduration",e)})})}else c.map(function(e){return P(e,"maxduration",u)});return c}(r,e),n=O.tags.filter(function(t){return t.uuid!==e.bidId});O.tags=[].concat(p(n),p(t))}),function(e,t){var n=[];if(e.tags.length>E){var r=o.deepClone(e);o.chunk(e.tags,E).forEach(function(e){r.tags=e;var o=JSON.stringify(r);n.push({method:"POST",url:g,data:o,bidderRequest:t})})}else{var i=JSON.stringify(e);n={method:"POST",url:g,data:i,bidderRequest:t}}return n}(O,t)},interpretResponse:function(e,t){var n=this,r=t.bidderRequest;e=e.body;var i=[];if(!e||e.error){var d="in response for ".concat(r.bidderCode," adapter");return e&&e.error&&(d+=": ".concat(e.error)),o.logError(d),i}if(e.tags&&e.tags.forEach(function(e){var t,d=(t=e)&&t.ads&&t.ads.length&&(0,s.default)(t.ads,function(e){return e.rtb});if(d&&0!==d.cpm&&(0,c.default)(n.supportedMediaTypes,d.ad_type)){var f=function(e,t,n){var r=o.getBidRequest(e.uuid,[n]),i={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:r.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.rtb.video){if(l(i,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastUrl:t.rtb.video.asset_url,vastImpUrl:t.notify_url,ttl:3600}),o.deepAccess(r,"mediaTypes.video.context")===u.ADPOD){var s=(0,a.getIabSubCategory)(r.bidder,t.brand_category_id);i.meta={iabSubCatId:s},i.video={context:u.ADPOD,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3)}}if(t.renderer_url){var c=o.deepAccess(n.bids[0],"renderer.options");l(i,{adResponse:e,renderer:A(i.adUnitCode,t,c)}),i.adResponse.ad=i.adResponse.ads[0],i.adResponse.ad.video=i.adResponse.ad.rtb.video}}else if(t.rtb[u.NATIVE]){var d=t.rtb[u.NATIVE];i[u.NATIVE]={title:d.title,body:d.desc,body2:d.desc2,cta:d.ctatext,rating:d.rating,sponsoredBy:d.sponsored,privacyLink:d.privacy_link,address:d.address,downloads:d.downloads,likes:d.likes,phone:d.phone,price:d.price,salePrice:d.saleprice,clickUrl:d.link.url,displayUrl:d.displayurl,clickTrackers:d.link.click_trackers,impressionTrackers:d.impression_trackers,javascriptTrackers:d.javascript_trackers},d.main_img&&(i.native.image={url:d.main_img.url,height:d.main_img.height,width:d.main_img.width}),d.icon&&(i.native.icon={url:d.icon.url,height:d.icon.height,width:d.icon.width})}else{l(i,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{var f=t.rtb.trackers[0].impression_urls[0],p=o.createTrackPixelHtml(f);i.ad+=p}catch(e){o.logError("Error appending tracking pixel",e)}}return i}(e,d,r);f.mediaType=function(e){var t=e.ad_type;return t===u.VIDEO?u.VIDEO:t===u.NATIVE?u.NATIVE:u.BANNER}(d),i.push(f)}}),e.debug&&e.debug.debug_info){var f="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;f=f.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),o.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),o.logMessage(f)}return i},getMappingFileInfo:function(){return{url:"//acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:7}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]},transformBidParams:function(e,t){return e=o.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:o.transformBidderParamKeywords},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,I(e.keywords)&&e.keywords.forEach(S),Object.keys(e).forEach(function(t){var n=o.convertCamelToUnderscore(t);n!==t&&(e[n]=e[t],delete e[t])})),e}};function I(e){return!!(o.isArray(e)&&e.length>0)}function S(e){I(e.value)&&""===e.value[0]&&delete e.value}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.Renderer.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{i.setRender(D)}catch(e){o.logWarn("Prebid Error calling setRender on renderer",e)}return i.setEventHandlers({impression:function(){return o.logMessage("AppNexus outstream video impression event")},loaded:function(){return o.logMessage("AppNexus outstream video loaded event")},ended:function(){o.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),i}function w(e){var t,n,r={};if(r.sizes=O(e.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=e.bidId,e.params.placementId?r.id=parseInt(e.params.placementId,10):r.code=e.params.invCode,r.allow_smaller_sizes=e.params.allowSmallerSizes||!1,r.use_pmt_rule=e.params.usePaymentRule||!1,r.prebid=!0,r.disable_psa=!0,e.params.reserve&&(r.reserve=e.params.reserve),e.params.position&&(r.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(r.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(r.private_sizes=O(e.params.privateSizes)),e.params.supplyType&&(r.supply_type=e.params.supplyType),e.params.pubClick&&(r.pubclick=e.params.pubClick),e.params.extInvCode&&(r.ext_inv_code=e.params.extInvCode),e.params.externalImpId&&(r.external_imp_id=e.params.externalImpId),!o.isEmpty(e.params.keywords)){var i=o.transformBidderParamKeywords(e.params.keywords);i.length>0&&i.forEach(S),r.keywords=i}if((e.mediaType===u.NATIVE||o.deepAccess(e,"mediaTypes.".concat(u.NATIVE)))&&(r.ad_types.push(u.NATIVE),0===r.sizes.length&&(r.sizes=O([1,1])),e.nativeParams)){var a=(t=e.nativeParams,n={},Object.keys(t).forEach(function(e){var r=h[e]&&h[e].serverName||h[e]||e,o=h[e]&&h[e].requiredParams;n[r]=l({},o,t[e]);var i=h[e]&&h[e].minimumParams;if(o&&i){var a=Object.keys(t[e]),u=Object.keys(o);0===a.filter(function(e){return!(0,c.default)(u,e)}).length&&(n[r]=l({},n[r],i))}}),n);r[u.NATIVE]={layouts:[a]}}var s=o.deepAccess(e,"mediaTypes.".concat(u.VIDEO)),d=o.deepAccess(e,"mediaTypes.video.context");return(e.mediaType===u.VIDEO||s)&&r.ad_types.push(u.VIDEO),(e.mediaType===u.VIDEO||s&&"outstream"!==d)&&(r.require_asset_url=!0),e.params.video&&(r.video={},Object.keys(e.params.video).filter(function(e){return(0,c.default)(v,e)}).forEach(function(t){return r.video[t]=e.params.video[t]})),(o.isEmpty(e.mediaType)&&o.isEmpty(e.mediaTypes)||e.mediaType===u.BANNER||e.mediaTypes&&e.mediaTypes[u.BANNER])&&r.ad_types.push(u.BANNER),r}function O(e){var t=[],n={};if(o.isArray(e)&&2===e.length&&!o.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===f(e))for(var r=0;r<e.length;r++){var i=e[r];(n={}).width=parseInt(i[0],10),n.height=parseInt(i[1],10),t.push(n)}return t}function T(e){return!!e.params.user}function x(e){return!!parseInt(e.params.member,10)}function R(e){if(e.params)return!!e.params.app}function C(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function j(e){return!!e.debug}function B(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===u.ADPOD}function P(e,t,n){o.isEmpty(e.video)&&(e.video={}),e.video[t]=n}function D(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},k.bind(null,e))})}function k(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}t.spec=_,(0,a.registerBidder)(_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(16),i=n(2),a=c(n(278)),u=c(n(280)),s=n(14);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=[o.BANNER],l=100,p=35,g=!0,v={JPY:1};function b(e){var t={};return t.id=e.bidId,t.banner={},t.banner.w=e.params.size[0],t.banner.h=e.params.size[1],t.banner.topframe=r.inIframe()?0:1,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid="".concat(e.params.size[0],"x").concat(e.params.size[1]):t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function y(e,t){var n={};return v.hasOwnProperty(t)?n.cpm=e.price/v[t]:n.cpm=e.price/l,n.requestId=e.impid,n.width=e.w,n.height=e.h,n.ad=e.adm,n.dealId=r.deepAccess(e,"ext.dealid"),n.ttl=p,n.netRevenue=g,n.currency=t,n.creativeId=e.hasOwnProperty("crid")?e.crid:"-",n.meta={},n.meta.networkId=r.deepAccess(e,"ext.dspid"),n.meta.brandId=r.deepAccess(e,"ext.advbrandid"),n.meta.brandName=r.deepAccess(e,"ext.advbrand"),n}function m(e){return(0,a.default)(e)&&2===e.length&&(0,u.default)(e[0])&&(0,u.default)(e[1])}var h={code:"ix",supportedMediaTypes:f,isBidRequestValid:function(e){if(!m(e.params.size))return!1;if(!function(e,t){if(m(e))return e[0]===t[0]&&e[1]===t[1];for(var n=0;n<e.length;n++)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}(e.sizes,e.params.size))return!1;if(e.hasOwnProperty("mediaType")&&"banner"!==e.mediaType)return!1;if(e.hasOwnProperty("mediaTypes")&&!r.deepAccess(e,"mediaTypes.banner.sizes"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return!1;var t,n,o=e.params.hasOwnProperty("bidFloor"),i=e.params.hasOwnProperty("bidFloorCur");return!o&&!i||o&&i&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/)))},buildRequests:function(e,t){for(var n=[],r=[],o=null,a="https://as-sec.casalemedia.com/cygnus",u=0;u<e.length;u++)o=b(e[u]),n.push(o);if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var s=window.headertag.getIdentityInfo();if(s&&"object"===d(s))for(var c in s)if(s.hasOwnProperty(c)){var f=s[c];!f.responsePending&&f.data&&"object"===d(f.data)&&Object.keys(f.data).length&&r.push(f.data)}}var l={};if(l.id=e[0].bidderRequestId,l.imp=n,l.site={},l.ext={},l.ext.source="prebid",r.length>0&&(l.user={},l.user.eids=r),document.referrer&&""!==document.referrer&&(l.site.ref=document.referrer),t){if(t.gdprConsent){var p=t.gdprConsent;p.hasOwnProperty("gdprApplies")&&(l.regs={ext:{gdpr:p.gdprApplies?1:0}}),p.hasOwnProperty("consentString")&&(l.user=l.user||{},l.user.ext={consent:p.consentString||""})}t.refererInfo&&(l.site.page=t.refererInfo.referer,t.refererInfo.referer&&0!==t.refererInfo.referer.indexOf("https")&&(a="http://as.casalemedia.com/cygnus"))}var g={},v=i.config.getConfig("ix");if(v){if("object"===d(v.firstPartyData)){var y=v.firstPartyData,m="?";for(var h in y)y.hasOwnProperty(h)&&(m+="".concat(encodeURIComponent(h),"=").concat(encodeURIComponent(y[h]),"&"));m=m.slice(0,-1),l.site.page+=m}"number"==typeof v.timeout&&(g.t=v.timeout)}return g.s=e[0].params.siteId,g.v=7.2,g.r=JSON.stringify(l),g.ac="j",g.sd=1,{method:"GET",url:a,data:g}},interpretResponse:function(e){var t=[],n=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return t;for(var r=e.body,o=r.seatbid,i=0;i<o.length;i++)if(o[i].hasOwnProperty("bid"))for(var a=o[i].bid,u=0;u<a.length;u++)n=y(a[u],r.cur),t.push(n);return t},transformBidParams:function(e,t){return r.convertTypes({siteID:"number"},e)}};t.spec=h,(0,s.registerBidder)(h)},function(e,t,n){n(279),e.exports=n(22).Array.isArray},function(e,t,n){var r=n(49);r(r.S,"Array",{isArray:n(102)})},function(e,t,n){n(281),e.exports=n(22).Number.isInteger},function(e,t,n){var r=n(49);r(r.S,"Number",{isInteger:n(282)})},function(e,t,n){var r=n(31),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetBoPixel=function(){g=!0},t.spec=void 0;var r=n(2),o=n(14),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(44),u=n(16),s=n(51);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=[u.BANNER,u.VIDEO],f="openx",l="hb_pb",p="2.1.6",g=!0;var v={code:f,supportedMediaTypes:d,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return i.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||i.deepAccess(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var n=[],r=c(function(e){return e.reduce(function(e,t){var n;return n=t,i.deepAccess(n,"mediaTypes.video")||n.mediaType===u.VIDEO?e[0].push(t):e[1].push(t),e},[[],[]])}(e),2),o=r[0],a=r[1];return a.length>0&&n.push(function(e,t){var n=[],r=!1,o=m(e,t),a=i._map(e,function(e){return e.params.unit});o.aus=i._map(e,function(e){return i.parseSizesInput(e.sizes).join(",")}).join("|"),o.divIds=i._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),a.some(function(e){return e})&&(o.auid=a.join(","));e.some(function(e){return e.params.doNotTrack})&&(o.ns=1);e.some(function(e){return e.params.coppa})&&(o.tfcd=1);e.forEach(function(e){if(e.params.customParams){var t=i._map(Object.keys(e.params.customParams),function(t){return function(e,t){var n=t[e];i.isArray(n)&&(n=n.join(","));return(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")}(t,e.params.customParams)}),o=window.btoa(t.join("&"));r=!0,n.push(o)}else n.push("")}),r&&(o.tps=n.join(","));var u=[],s=!1;e.forEach(function(e){e.params.customFloor?(u.push(Math.round(100*e.params.customFloor)/100*1e3),s=!0):u.push(0)}),s&&(o.aumfs=u.join(","));return{method:"GET",url:o.ph?"//u.openx.net/w/1.0/arj":"//".concat(e[0].params.delDomain,"/w/1.0/arj"),data:o,payload:{bids:e,startTime:new Date}}}(a,t)),o.length>0&&o.forEach(function(e){n.push(function(e,t){var n=function(e,t){var n,r,o=m([e],t),a=i.deepAccess(e,"params.video")||{},u=i.deepAccess(e,"mediaTypes.video.context"),s=i.deepAccess(e,"mediaTypes.video.playerSize");i.isArray(e.sizes)&&2===e.sizes.length&&!i.isArray(e.sizes[0])?(n=parseInt(e.sizes[0],10),r=parseInt(e.sizes[1],10)):i.isArray(e.sizes)&&i.isArray(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),r=parseInt(e.sizes[0][1],10)):i.isArray(s)&&2===s.length&&(n=parseInt(s[0],10),r=parseInt(s[1],10));Object.keys(a).forEach(function(e){"openrtb"===e?(a[e].w=n||a[e].w,a[e].v=r||a[e].v,o[e]=JSON.stringify(a[e])):e in o||"url"===e||(o[e]=a[e])}),o.auid=e.params.unit,o.vwd=n||a.vwd,o.vht=r||a.vht,"outstream"===u&&(o.vos="101");a.mimes&&(o.vmimes=a.mimes);return o}(e,t);return{method:"GET",url:n.ph?"//u.openx.net/v/1.0/avjp":"//".concat(e.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:e,startTime:new Date}}}(e,t))}),n},interpretResponse:function(e,t){var n=e.body;return function(e){return/avjp$/.test(e.url)?u.VIDEO:u.BANNER}(t)===u.VIDEO?function(e,t){var n=t.bid,r=t.startTime,o=[];if(void 0!==e&&""!==e.vastUrl&&""!==e.pub_rev){var i=(0,s.parse)(e.vastUrl).search||{},a={};a.requestId=n.bidId,a.ttl=300,a.netRevenue=!0,a.currency=e.currency,a.cpm=Number(e.pub_rev)/1e3,a.width=e.width,a.height=e.height,a.creativeId=e.adid,a.vastUrl=e.vastUrl,a.mediaType=u.VIDEO,e.ph=i.ph,e.colo=i.colo,e.ts=i.ts,o.push(a),h(u.VIDEO,e,r)}return o}(n,t.payload):function(e,t){for(var n=t.bids,r=t.startTime,o=e.ads.ad,i=[],a=0;a<o.length;a++){var s=o[a],c=parseInt(s.idx,10),d={};if(d.requestId=n[c].bidId,s.pub_rev){d.cpm=Number(s.pub_rev)/1e3;var f=s.creative[0];f&&(d.width=f.width,d.height=f.height),d.creativeId=f.id,d.ad=s.html,s.deal_id&&(d.dealId=s.deal_id),d.ttl=300,d.netRevenue=!0,d.currency=s.currency,s.tbd&&(d.tbd=s.tbd),d.ts=s.ts,d.meta={},s.brand_id&&(d.meta.brandId=s.brand_id),i.push(d),h(u.BANNER,s,r)}}return i}(n,t.payload)},getUserSyncs:function(e,t){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:i.deepAccess(t,"0.body.ads.pixels")||i.deepAccess(t,"0.body.pixels")||"//u.openx.net/w/1.0/pd"}]},transformBidParams:function(e,t){return i.convertTypes({unit:"string",customFloor:"number"},e)}};function b(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]||delete e[t]);return i._map(Object.keys(e),function(t){return"".concat(t,"=").concat(e[t])}).join("&")}function y(e){var t,n,r,o=window,i=document,a=i.documentElement;if(e){try{o=window.top,i=window.top.document}catch(e){return}a=i.documentElement,r=i.body,t=o.innerWidth||a.clientWidth||r.clientWidth,n=o.innerHeight||a.clientHeight||r.clientHeight}else a=i.documentElement,t=o.innerWidth||a.clientWidth,n=o.innerHeight||a.clientHeight;return"".concat(t,"x").concat(n)}function m(e,t){var n,o=i.inIframe();if(n={ju:r.config.getConfig("pageUrl")||i.getTopWindowUrl(),jr:i.getTopWindowReferrer(),ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:o,tz:(new Date).getTimezoneOffset(),tws:y(o),be:1,bc:e[0].params.bc||"".concat(l,"_").concat(p),dddid:i._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()},e[0].params.platform&&(n.ph=e[0].params.platform),i.deepAccess(t,"gdprConsent")){var a=t.gdprConsent;void 0!==a.consentString&&(n.gdpr_consent=a.consentString),void 0!==a.gdprApplies&&(n.gdpr=a.gdprApplies?1:0),"iab"===r.config.getConfig("consentManagement.cmpApi")&&(n.x_gdpr_f=1)}return e[0].userId&&e[0].userId.pubcid?n.pubcid=e[0].userId.pubcid:e[0].crumbs&&e[0].crumbs.pubcid&&(n.pubcid=e[0].crumbs.pubcid),n}function h(e,t,n){if(g){g=!1;var o,c=r.config.getConfig("bidderTimeout");window.PREBID_TIMEOUT&&(c=Math.min(window.PREBID_TIMEOUT,c));var d={bd:+new Date-n,bp:t.pub_rev,br:"0",bs:i.getTopWindowLocation().hostname,bt:c,ts:t.ts};if(d.br=d.bt<d.bd?"t":"p",e===u.VIDEO){var l=(0,s.parse)(t.colo);d.ph=t.ph,o="//".concat(l.hostname,"/w/1.0/bo?").concat(b(d))}else{var p=i.deepAccess(t,"creative.0.tracking.impression").match(/([^?]+\/)ri\?/);p&&p.length>1&&(o="".concat(p[1],"bo?").concat(b(d)))}o&&a.userSync.registerSync("image",f,o)}}t.spec=v,(0,o.registerBidder)(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(14),i=n(28),a=n(16);var u=360,s="//cdn.adnxs.com/renderer/video/ANOutstreamVideo.js",c={noAuid:"Bid from response has no auid parameter - ",noAdm:"Bid from response has no adm parameter - ",noBid:"Array of bid objects is empty",noPlacementCode:"Can't find in requested bids the bid with auid - ",emptyUids:"Uids should be not empty",emptySeatbid:"Seatbid array from response has empty item",emptyResponse:"Response is empty",hasEmptySeatbidArray:"Response has empty seatbid array",hasNoArrayOfBids:"Seatbid from response has no array of bid objects - "},d={code:"trustx",supportedMediaTypes:[a.BANNER,a.VIDEO],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,t){var n,o=[],i={},a={},u={},s="net";(e||[]).forEach(function(e){"gross"===e.params.priceType&&(s="gross"),n=e.bidderRequestId;var t=e.params.uid,c=e.adUnitCode;o.push(t);var d=r.parseSizesInput(e.sizes);a[t]||(a[t]={});var f=a[t];f[c]?f[c].bids.push(e):f[c]={adUnitCode:c,bids:[e],parents:[]};var l=f[c];d.forEach(function(e){u[e]=!0,i[t]||(i[t]={}),i[t][e]?i[t][e].push(l):i[t][e]=[l],l.parents.push({parent:i[t],key:e,uid:t})})});var c={u:r.getTopWindowUrl(),pt:s,auids:o.join(","),sizes:r.getKeys(u).join(","),r:n,wrapperType:"Prebid_js",wrapperVersion:"2.13.0"};return t&&(t.timeout&&(c.wtimeout=t.timeout),t.gdprConsent&&(t.gdprConsent.consentString&&(c.gdpr_consent=t.gdprConsent.consentString),c.gdpr_applies="boolean"==typeof t.gdprConsent.gdprApplies?Number(t.gdprConsent.gdprApplies):1)),{method:"GET",url:"//sofia.trustx.org/hb",data:r.parseQueryStringParameters(c).replace(/\&$/,""),bidsMap:i}},interpretResponse:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Renderer;e=e&&e.body;var o,a=[],u=t.bidsMap,s=t.data.pt;return e?e.seatbid&&!e.seatbid.length&&(o=c.hasEmptySeatbidArray):o=c.emptyResponse,!o&&e.seatbid&&e.seatbid.forEach(function(e){l(f(e),u,s,a,n)}),o&&r.logError(o),a},getUserSyncs:function(e){if(e.pixelEnabled)return[{type:"image",url:"//sofia.trustx.org/push_sync"}]}};function f(e){return e?e.bid?e.bid[0]||r.logError(c.noBid):r.logError(c.hasNoArrayOfBids+JSON.stringify(e)):r.logError(c.emptySeatbid),e&&e.bid&&e.bid[0]}function l(e,t,n,o,i){if(e){var f;if(e.auid||(f=c.noAuid+JSON.stringify(e)),e.adm){var l=t[e.auid];if(l){var g="".concat(e.w,"x").concat(e.h);if(l[g]){var v=l[g][0],b=v.bids.shift(),y={requestId:b.bidId,bidderCode:d.code,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:"gross"!==n,ttl:u,dealId:e.dealid};"video"===e.content_type?(y.vastXml=e.adm,y.mediaType=a.VIDEO,y.adResponse={content:y.vastXml},b.renderer||b.mediaTypes&&b.mediaTypes.video&&"outstream"!==b.mediaTypes.video.context||(y.renderer=function(e,t,n){var o=n.install({id:t.id,url:t.url,loaded:!1});try{o.setRender(p)}catch(e){r.logWarn("Prebid Error calling setRender on renderer",e)}return o}(0,{id:b.bidId,url:s},i))):(y.ad=e.adm,y.mediaType=a.BANNER),o.push(y),v.bids.length||v.parents.forEach(function(e){var n=e.parent,o=e.key,i=e.uid,a=n[o].indexOf(v);a>-1&&n[o].splice(a,1),n[o].length||(delete n[o],r.getKeys(n).length||delete t[i])})}}else f=c.noPlacementCode+e.auid}else f=c.noAdm+JSON.stringify(e);f&&r.logError(f)}}function p(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})})}t.spec=d,(0,o.registerBidder)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=n(2),i=n(14);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={code:"kargo",isBidRequestValid:function(e){return!(!e||!e.params)&&!!e.params.placementId},buildRequests:function(e,t){var n=o.config.getConfig("currency"),i=n&&n.adServerCurrency||"USD",s={},c={};r._each(e,function(e){s[e.bidId]=e.params.placementId,c[e.bidId]=e.sizes});var d=a({},{timeout:t.timeout,currency:i,cpmGranularity:1,timestamp:(new Date).getTime(),cpmRange:{floor:0,ceil:20},bidIDs:s,bidSizes:c,prebidRawBidRequests:e},u._getAllMetadata()),f=encodeURIComponent(JSON.stringify(d));return a({},t,{method:"GET",url:"".concat("https://krk.kargo.com","/api/v2/bid"),data:"json=".concat(f),currency:i})},interpretResponse:function(e,t){var n=e.body,r=[];for(var o in n){var i=n[o];r.push({requestId:o,cpm:Number(i.cpm),width:i.width,height:i.height,ad:i.adm,ttl:300,creativeId:i.id,dealId:i.targetingCustom,netRevenue:!0,currency:t.currency})}return r},getUserSyncs:function(e){var t=[],n=u._generateRandomUuid(),r=u._getClientId();if(e.iframeEnabled&&n&&r)for(var o=0;o<5;o++)t.push({type:"iframe",url:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}".replace("{UUID}",r).replace("{SEED}",n).replace("{INDEX}",o)});return t},_readCookie:function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},_getCrbFromCookie:function(){try{var e=JSON.parse(decodeURIComponent(u._readCookie("krg_crb")));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}},_getCrbFromLocalStorage:function(){try{return JSON.parse(atob(u._getLocalStorageSafely("krg_crb")))}catch(e){return{}}},_getCrb:function(){var e=u._getCrbFromLocalStorage();return Object.keys(e).length?e:u._getCrbFromCookie()},_getKruxUserId:function(){return u._getLocalStorageSafely("kxkar_user")},_getKruxSegments:function(){return u._getLocalStorageSafely("kxkar_segs")},_getKrux:function(){var e=u._getKruxSegments(),t=[];return e&&(t=e.split(",")),{userID:u._getKruxUserId(),segments:t}},_getLocalStorageSafely:function(e){try{return localStorage.getItem(e)}catch(e){return null}},_getUserIds:function(){var e=u._getCrb();return{kargoID:e.userId,clientID:e.clientId,crbIDs:e.syncIds||{},optOut:e.optOut}},_getClientId:function(){return u._getCrb().clientId},_getAllMetadata:function(){return{userIDs:u._getUserIds(),krux:u._getKrux(),pageURL:window.location.href,rawCRB:u._readCookie("krg_crb"),rawCRBLocalStorage:u._getLocalStorageSafely("krg_crb")}},_generateRandomUuid:function(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),function(e){return("00"+e.toString(16)).slice(-2)}).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}};t.spec=u,(0,i.registerBidder)(u)},function(e,t){d.SYNC=1,d.ASYNC=2,d.QUEUE=4;var n="fun-hooks",r="function"==typeof Proxy,o=Object.freeze({useProxy:r,ready:0}),i=Object.getPrototypeOf({}),a="2,1,0"===[1].reduce(function(e,t,n){return[e,t,n]},2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),o=r.length>>>0,i=0;if(t)n=t;else{for(;i<o&&!(i in r);)i++;n=r[i++]}for(;i<o;)i in r&&(n=e(n,r[i],i,r)),i++;return n},u=4===function(e,t){return t}.bind(null,1,4)()?Function.prototype.bind:function(e){var t=this,n=c(arguments,1);return function(){return t.apply(e,n.concat(c(arguments)))}};function s(e){return a.call(c(arguments,1),function(e,t){return t&&Object.keys(t).forEach(function(n){e[n]=t[n]}),e},e)}function c(e,t){return Array.prototype.slice.call(e,t)}function d(e){var t,r={},f=[];function l(e,t){return"function"==typeof e?b.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?b.apply(null,arguments):"object"==typeof e?p.apply(null,arguments):void 0}function p(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var o={},a=["constructor"];do{(t=t.filter(function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))})).forEach(function(t){var r=t.split(":"),i=r[0],a=r[1]||"sync";if(!o[i]){var u=e[i];o[i]=e[i]=b(a,u,n?[n,i]:void 0)}}),e=Object.getPrototypeOf(e)}while(r&&e!==i);return o}function g(e){var o=Array.isArray(e)?e:e.split(".");return a.call(o,function(r,i,a){var u=r[i],s=!1;return u||(a===o.length-1?(t||f.push(function(){s||console.warn(n+": referenced '"+e+"' but it was never created")}),r[i]=v(function(e){r[i]=e,s=!0})):r[i]={})},r)}function v(e){var t=[],n=[],r=function(){};return{__funHook:{install:function(o,i,a){this.type=o,this.fn=i,r=a,a(t,n),e&&e(i)}},before:function(e,n){return o.call(this,t,"before",e,n)},after:function(e,t){return o.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);return"object"==typeof e&&(r=r.filter(function(t){return Object.keys(e).every(function(n){return t[n]===e[n]})})),s(r,{remove:function(){return r.forEach(function(e){e.remove()}),this}})},removeAll:function(){return this.getHooks().remove()}};function o(e,o,i,a){var u={hook:i,type:o,priority:a||10,remove:function(){var o=e.indexOf(u);-1!==o&&(e.splice(o,1),r(t,n))}};return e.push(u),e.sort(function(e,t){return t.priority-e.priority}),r(t,n),this}}function b(r,o,i){if(o.__funHook){if(o.__funHook.type!==r)throw n+": recreated hookable with different type";return o.__funHook.fn}var a,l,p=i?g(i):v(),b={get:function(e,t){return p[t]||Reflect.get.apply(Reflect,arguments)}};return t||f.push(y),e.useProxy?l=new Proxy(o,b):s(l=function(){return b.apply?b.apply(o,this,c(arguments)):o.apply(this,arguments)},p),p.__funHook.install(r,l,function(e,t){if(e.length||t.length){var n;if("sync"===r){var o,i="r=t.apply(h,"+(e.length?"arguments":"g")+")";t.length&&(o=c(t,"a","n(function extract(s){r=s},e)")),e.length&&(i=c(e,"b","n(function extract(){"+i+";"+o+"},e)"),o=""),n=["var r,e={bail:function(a){r=a}}",i,o,"return r"].join(";")}else"async"===r&&(n="t.apply(h,"+(e.length?"Array.prototype.slice.call(arguments)":"g")+".concat("+c(t,"a","z?n(z,e):[]")+"))",e.length&&(n="n(function partial(){"+n+"},e)"),n=["var z",'typeof g[g.length-1]==="function"&&(z=i.call(g.pop(),null))',"var e={bail:z}",c(e,"b",n)].join(";"));a=u.call(new Function("i,b,a,n,t,h,g",n),null,u,e,t,Object.assign||s)}else a=void 0;function c(e,t,n){for(var o=e.length;o-- >0;)0!==o||"async"===r&&"a"===t?(n="i.call("+t+"["+o+"].hook, h,"+n+")","async"===r&&"a"===t&&0===o||(n="n("+n+",e)")):n=t+"["+o+"].hook.apply(h,["+n+("b"===t?"].concat(g))":",r])");return n}y()}),l;function y(){!t&&("sync"!==r||e.ready&d.SYNC)&&("async"!==r||e.ready&d.ASYNC)?"sync"!==r&&e.ready&d.QUEUE?b.apply=function(){var e=arguments;f.push(function(){l.apply(e[1],e[2])})}:b.apply=function(){throw n+": hooked function not ready"}:b.apply=a}}return(e=s({},o,e)).ready?l.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(f)}:t=!0,l.get=g,l}e.exports=d},function(e,t,n){var r=n(24);e.exports=function(e,t){return r(t,function(t){return e[t]})}},function(e,t,n){var r=n(289),o=n(294),i=n(150);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(58),o=n(87),i=1,a=2;e.exports=function(e,t,n,u){var s=n.length,c=s,d=!u;if(null==e)return!c;for(e=Object(e);s--;){var f=n[s];if(d&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++s<c;){var l=(f=n[s])[0],p=e[l],g=f[1];if(d&&f[2]){if(void 0===p&&!(l in e))return!1}else{var v=new r;if(u)var b=u(p,g,l,e,t,v);if(!(void 0===b?o(g,p,i|a,u,v):b))return!1}}return!0}},function(e,t,n){var r=n(58),o=n(147),i=n(291),a=n(293),u=n(41),s=n(4),c=n(38),d=n(60),f=1,l="[object Arguments]",p="[object Array]",g="[object Object]",v=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,b,y,m){var h=s(e),E=s(t),_=h?p:u(e),I=E?p:u(t),S=(_=_==l?g:_)==g,A=(I=I==l?g:I)==g,w=_==I;if(w&&c(e)){if(!c(t))return!1;h=!0,S=!1}if(w&&!S)return m||(m=new r),h||d(e)?o(e,t,n,b,y,m):i(e,t,_,n,b,y,m);if(!(n&f)){var O=S&&v.call(e,"__wrapped__"),T=A&&v.call(t,"__wrapped__");if(O||T){var x=O?e.value():e,R=T?t.value():t;return m||(m=new r),y(x,R,n,b,m)}}return!!w&&(m||(m=new r),a(e,t,n,b,y,m))}},function(e,t,n){var r=n(23),o=n(121),i=n(35),a=n(147),u=n(292),s=n(74),c=1,d=2,f="[object Boolean]",l="[object Date]",p="[object Error]",g="[object Map]",v="[object Number]",b="[object RegExp]",y="[object Set]",m="[object String]",h="[object Symbol]",E="[object ArrayBuffer]",_="[object DataView]",I=r?r.prototype:void 0,S=I?I.valueOf:void 0;e.exports=function(e,t,n,r,I,A,w){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!A(new o(e),new o(t)));case f:case l:case v:return i(+e,+t);case p:return e.name==t.name&&e.message==t.message;case b:case m:return e==t+"";case g:var O=u;case y:var T=r&c;if(O||(O=s),e.size!=t.size&&!T)return!1;var x=w.get(e);if(x)return x==t;r|=d,w.set(e,t);var R=a(O(e),O(t),r,I,A,w);return w.delete(e),R;case h:if(S)return S.call(e)==S.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t,n){var r=n(133),o=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,u,s){var c=n&o,d=r(e),f=d.length;if(f!=r(t).length&&!c)return!1;for(var l=f;l--;){var p=d[l];if(!(c?p in t:i.call(t,p)))return!1}var g=s.get(e);if(g&&s.get(t))return g==t;var v=!0;s.set(e,t),s.set(t,e);for(var b=c;++l<f;){var y=e[p=d[l]],m=t[p];if(a)var h=c?a(m,y,p,t,e,s):a(y,m,p,e,t,s);if(!(void 0===h?y===m||u(y,m,n,a,s):h)){v=!1;break}b||(b="constructor"==p)}if(v&&!b){var E=e.constructor,_=t.constructor;E!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof _&&_ instanceof _)&&(v=!1)}return s.delete(e),s.delete(t),v}},function(e,t,n){var r=n(149),o=n(7);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(87),o=n(46),i=n(151),a=n(85),u=n(149),s=n(150),c=n(27),d=1,f=2;e.exports=function(e,t){return a(e)&&u(t)?s(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,d|f)}}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(26),o=n(37),i=n(4),a=n(63),u=n(79),s=n(27);e.exports=function(e,t,n){for(var c=-1,d=(t=r(t,e)).length,f=!1;++c<d;){var l=s(t[c]);if(!(f=null!=e&&n(e,l)))break;e=e[l]}return f||++c!=d?f:!!(d=null==e?0:e.length)&&u(d)&&a(l,d)&&(i(e)||o(e))}},function(e,t,n){var r=n(299),o=n(300),i=n(85),a=n(27);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(64);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(88),o=n(15);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},function(e,t,n){var r=n(118),o=n(7);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t,n){var r=n(15);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,u=Object(n);(t?a--:++a<i)&&!1!==o(u[a],a,u););return n}}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var r=n(306);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,u=i.length,s=n.length;++o<u;){var c=r(i[o],a[o]);if(c)return o>=s?c:c*("desc"==n[o]?-1:1)}return e.index-t.index}},function(e,t,n){var r=n(34);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e==e,a=r(e),u=void 0!==t,s=null===t,c=t==t,d=r(t);if(!s&&!d&&!a&&e>t||a&&u&&c&&!s&&!d||o&&u&&c||!n&&c||!i)return 1;if(!o&&!a&&!d&&e<t||d&&n&&i&&!o&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gateway=void 0;var r=n(45),o=u(n(30)),i=u(n(153)),a=n(1);function u(e){return e&&e.__esModule?e:{default:e}}t.gateway=function(e){var t=e,n={},u={};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(u[e]){for(var t=function(t){var n=u[e][t];(0,r.makeSafe)(function(){return n()})},n=0;n<u[e].length;n++)t(n);u[e]=[]}}return{onOpen:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";"all"!==t&&void 0===n[t]||"all"===t&&(0,i.default)(n)||void 0===u[t]?(0,r.makeSafe)(function(){return e()}):u[t].push(e)},register:function(e){n[e]=!1,u[e]=[]},open:function(e){void 0!==n[e]&&(n[e]=!0,a.bbLogger.logInfo("Opening gate ".concat(t,".").concat(e)),s(e),-1===(0,o.default)(n).indexOf(!1)&&s())},getGates:function(){return n},reset:function(){for(var e in n)n.hasOwnProperty(e)&&(n[e]=!1)},name:t}}},function(e,t,n){var r=n(154);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optanon=t.optanonBase=void 0;var r,o=n(89),i=n(155),a=n(1),u=n(9),s=(r=n(40))&&r.__esModule?r:{default:r},c=n(91),d=n(92);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l,p,g,v,b,y=n(3).MODULES.OPTANON,m=(l=!1,p=["ix-identity","bb-sharethrough"],g=(0,i.runQueue)("consentGiven"),v=(0,i.runQueue)("npaFlagSet"),b={},{onConsentGiven:g.push,onNpaFlagSet:v.push,setConfig:function(e,t){var n;b=e.optanon,(n=(0,s.default)(b,["scriptUrls"]))&&"object"===f(n)&&!Array.isArray(n)&&window.cbsoptanon.config.push(n)},name:y,register:function(){var e,t,n,r;e=window,n="cmd",r="config",e[t="cbsoptanon"]=e[t]?e[t]:{},e[t][n]=e[t][n]?e[t][n]:[],e[t][r]=e[t][r]?e[t][r]:[],["onIframesReady","onFormsReady","onScriptsReady","onAdsReady"].forEach(function(r){e[t][r]=e[t][r]||function(){var o=arguments;e[t][n].push(function(){e[t][r].apply(e[t],o)})}}),u.moduleManager.gateways.register("consentGiven"),u.moduleManager.gateways.register("npaFlagSet"),c.renderScript.before(function(e,t){p.indexOf(t.id)>=0?g.push(function(){return e(t)}):e(t)}),d.setCookie.before(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g.push(function(){return e.apply(void 0,n)})}),d.getCookie.after(function(e){if(l){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,n)}else e(null)}),o.BidBarrel.enableGoogletagServices.before(function(e){v.push(function(){return e()})}),o.BidBarrel.auction.before(function(e,t){v.push(function(){return e(t)})}),window.cbsoptanon.onAdsReady(function(e,t){a.bbLogger.logInfo("NPA Flag Set NPA Flag: ".concat(t.npaFlag)),t.npaFlag?e.ot.addOnConsentChangedHandler(function(){e.ads.getNpaFlag(function(e){a.bbLogger.logInfo("Consent Changed NPA Flag: ".concat(e)),e||(u.moduleManager.gateways.open("consentGiven"),l=!0,g.run())},!0)}):(u.moduleManager.gateways.open("consentGiven"),l=!0,g.run()),u.moduleManager.gateways.open("npaFlagSet"),v.run(t.npaFlag)})},initialize:function(e){(0,c.renderScript)({async:!0,id:"bb-cbsoptanon",src:e.isStagingEnv()?b.scriptUrls.dev:b.scriptUrls.prod})}});t.optanonBase=m;var h=u.moduleManager.register(m);t.optanon=h},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(311),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(68))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,u,s=1,c={},d=!1,f=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){g(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){g(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){g(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(g,0,e)}:(a="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&g(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(a+t,"*")}),l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[s]=o,r(s),s++},l.clearImmediate=p}function p(e){delete c[e]}function g(e){if(d)setTimeout(g,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),d=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(68),n(312))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],d=!1,f=-1;function l(){d&&s&&(d=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!d){var e=u(l);d=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||d||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(314),o=n(315),i=n(65),a=n(4);e.exports=function(e,t){return function(n,u){var s=a(n)?r:o,c=t?t():{};return s(n,e,i(u,2),c)}}},function(e,t){e.exports=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}},function(e,t,n){var r=n(88);e.exports=function(e,t,n,o){return r(e,function(e,r,i){t(o,e,n(e),i)}),o}},function(e,t,n){var r=n(24),o=n(317),i=n(56),a=n(318),u=i(function(e){var t=r(e,a);return t.length&&t[0]===e[0]?o(t):[]});e.exports=u},function(e,t,n){var r=n(69),o=n(110),i=n(111),a=n(24),u=n(39),s=n(73),c=Math.min;e.exports=function(e,t,n){for(var d=n?i:o,f=e[0].length,l=e.length,p=l,g=Array(l),v=1/0,b=[];p--;){var y=e[p];p&&t&&(y=a(y,u(t))),v=c(y.length,v),g[p]=!n&&(t||f>=120&&y.length>=120)?new r(p&&y):void 0}y=e[0];var m=-1,h=g[0];e:for(;++m<f&&b.length<v;){var E=y[m],_=t?t(E):E;if(E=n||0!==E?E:0,!(h?s(h,_):d(b,_,n))){for(p=l;--p;){var I=g[p];if(!(I?s(I,_):d(e[p],_,n)))continue e}h&&h.push(_),b.push(E)}}return b}},function(e,t,n){var r=n(125);e.exports=function(e){return r(e)?e:[]}},function(e,t,n){var r=n(139),o=n(146),i=n(56),a=n(82),u=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])});e.exports=u},function(e,t,n){var r=n(87);e.exports=function(e,t,n){var o=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===o?r(e,t,void 0,n):!!o}},function(e,t,n){var r=n(322),o=n(151);e.exports=function(e,t){return r(e,t,function(t,n){return o(e,n)})}},function(e,t,n){var r=n(64),o=n(154),i=n(26);e.exports=function(e,t,n){for(var a=-1,u=t.length,s={};++a<u;){var c=t[a],d=r(e,c);n(d,c)&&o(s,i(c,e),d)}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatConfigArrays=function(e,t){(0,o.default)(e,"bootstrap.renderScripts")&&(0,o.default)(t,"bootstrap.renderScripts")&&(e.bootstrap.renderScripts=(0,r.default)(e.bootstrap.renderScripts.concat(t.bootstrap.renderScripts),"id"));(0,o.default)(e,"analytics.bidbarrel")&&(0,o.default)(t,"analytics.bidbarrel")&&(e.analytics.bidbarrel=(0,r.default)(e.analytics.bidbarrel.concat(t.analytics.bidbarrel),"id"));(0,o.default)(e,"analytics.prebid")&&(0,o.default)(t,"analytics.prebid")&&Array.isArray((0,o.default)(e,"analytics.prebid"))&&Array.isArray((0,o.default)(t,"analytics.prebid"))?e.analytics.prebid=(0,r.default)(e.analytics.prebid.concat(t.analytics.prebid),"provider"):(0,o.default)(e,"analytics.prebid")&&(0,o.default)(t,"analytics.prebid")&&Array.isArray((0,o.default)(t,"analytics.prebid"))?e.analytics.prebid=(0,r.default)([].concat(a((0,o.default)(t,"analytics.prebid")),[(0,o.default)(e,"analytics.prebid")]),"provider"):(0,o.default)(e,"analytics.prebid")&&(0,o.default)(t,"analytics.prebid")&&Array.isArray((0,o.default)(e,"analytics.prebid"))&&(e.analytics.prebid=(0,r.default)([].concat(a((0,o.default)(e,"analytics.prebid")),[(0,o.default)(t,"analytics.prebid")]),"provider"));(0,o.default)(e,"dynamicTargeting.rules")&&(0,o.default)(t,"dynamicTargeting.rules")&&(e.dynamicTargeting.rules=(0,r.default)(e.dynamicTargeting.rules.concat(t.dynamicTargeting.rules),"name"));if(e&&e.dynamicBidders)for(var n in e.dynamicBidders)if(e.dynamicBidders.hasOwnProperty(n)&&t.dynamicBidders[n]){var i=e.dynamicBidders[n],u=t.dynamicBidders[n],s=u.constructor===Array?u:[u];if(i.constructor===Array)for(var c=0;c<i.length;c++){var d=i[c];s.push(d)}else s.push(i);e.dynamicBidders[n]=s}return e};var r=i(n(324)),o=i(n(46));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}},function(e,t,n){var r=n(65),o=n(108);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unitHasElement=function(e){var t="string"==typeof e?e:e.code;return!!window.document.getElementById(t)}},function(e,t,n){"use strict";e.exports={bootstrap:{renderScripts:[]},debug:{levels:["error","warn"]},analytics:{bidbarrel:[{id:"bidbarrel-core",protected:!0,frequency:15e3,session:{reportingPercentage:5},failThreshold:3,url:"https://adlibrary-event-ingress-dot-i-adtech-dev.appspot.com/event",fetchOptions:{headers:{cat:"hOTmE9ctC","Content-Type":"application/json",Accept:"application/json"}}}]},targeting:{auto:!1,query:{keyMap:{}},seats:{session:6,subsession:4},cookie:{expiration:null,path:"/",domain:null,consolidate:!1,keyMap:{ftag:"ftag",ttag:"ttag",firstpg:"first_page_today"},getters:{},setters:{},deleters:{}}},dfpPath:{region:"aw",network:"8264",device:""},highFrequencyAdRequests:!1,timeouts:{failsafe:3e3,bidder:1e3,hfar:700},amazon:{pubID:3037,enabled:!0,adServer:"googletag",pubIdByRegion:{emea:3264,fallback:3037}},digitrust:{member:"YNTVWJhEkI",site:"Vhap28BoIG",redirects:!0},lazyLoading:{offset:{yAxis:400,xAxis:0},percentageVisible:1},contentAnnotation:{requestPercentage:10,endpoints:{dev:"https://devadmiral.amlg.io/api/v1/content_suitability?key=AIzaSyD2B_LtIuUOihGFXf6jT5K4pITBmBieRJQ",prod:"https://admiral.amlg.io/api/v1/content_suitability?key=AIzaSyAXYK-PEnGqNr4nvI3vJXhYlj0gWMPoYKY"}},optanon:{setNpaOnConsentChange:!0,enableServices:!1,scriptUrls:{dev:"https://development-cmp.isgprivacy.cbsi.com/dist/optanon-dev.js",prod:"https://production-cmp.isgprivacy.cbsi.com/dist/optanon.js"}},autoPriority:{enabled:!0,refresh:!0,bids:!0},dynamicTargeting:{rules:[{name:"global slotname",matcher:function(e){return!0},modify:function(e){var t={LL:!0===e.cache||!0===e.lazyLoad},n=[];for(var r in t){if(t.hasOwnProperty(r))t[r]&&n.push(r)}return window.BidBarrel&&window.BidBarrel.bidderTimeout&&n.push("T-".concat(window.BidBarrel.bidderTimeout)),e.targeting.sl=e.originalCode+(n.length>0?"?"+n.join("|"):""),e.targeting}}],units:{}},dynamicBidders:{autoApplyBidders:{sonobi:function(e){if(e.bids.filter(function(e){return"sonobi"===e.bidder}).length>0)return null;var t=BidBarrel.dfpPathObj,n=t.network,r=t.device,o=t.region,i=t.property;return{dom_id:e.code,ad_unit:"/".concat(n,"/").concat(r).concat(o,"-").concat(i,"/").concat(e.originalCode)+(e.incremental?e.index:"")}}},aol:function(e,t){return{network:"9928.1"}},medianet:function(e,t){return{cid:"8CU158L2Y"}},openx:function(e,t){return t.delDomain?t:{delDomain:"cbsi-d.openx.net"}},trustx:function(e,t){return e.incremental&&1!==e.index?null:t}},geo:{enabled:!1,failsafeRegionCode:"us",failsafeCountryCode:"us",failsafeTimeout:2e3},bidPriority:{enabled:!1,default:99999},moat:{yieldIntelligence:{scriptUrl:"https://z.moatads.com/cbsprebidheader506831276743/moatheader.js"}},prebid:{enabledRegions:["us"],priceBuckets:[{precision:2,min:0,max:22.5,increment:.01}],pbjsConfig:{userSync:{syncEnabled:!1},enableSendAllBids:!1}}}},function(e){e.exports=JSON.parse('{"desktop":"","web":"","mweb":"m","mobile":"m","app":"app","m":"m","application":"app"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringSizesFilter=void 0;var r=n(9),o=n(3).MODULES.STRING_SIZES_FILTER,i=function(){var e=null;return{bidRequest:function(t){return t.map(function(t){return t.sizes&&(t.sizes=e.getSizes(t.code).filter(function(e){return"string"!=typeof e})),t.mediaTypes&&t.mediaTypes.banner&&t.mediaTypes.banner.sizes&&(t.mediaTypes.banner.sizes=e.getSizes(t.code).filter(function(e){return"string"!=typeof e})),t})},initialize:function(t){e=t},name:o,protected:!0}}(),a=r.moduleManager.register(i);t.stringSizesFilter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.amazon=void 0;var r=n(1),o=n(90),i=n(91),a=n(29),u=b(n(17)),s=b(n(330)),c=b(n(7)),d=b(n(156)),f=n(11),l=n(9),p=n(21),g=n(159),v=n(47);function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=(0,r.generateLoggers)({namespace:"amazon",textColor:"#FFF",color:"#f08804"}),h=n(3),E=h.MODULES,_=E.AMAZON_HEADER_BIDDING,I=E.GEOLOCATION,S=h.EVENTS.HEADER_BIDDING_REQUEST,A=h.QUERY_PARAMS.BID_SUPPRESS,w=6e5,O=function(){var e=!1,t=!1,n={},r=[],b=(0,a.hookedFn)("sync",function(e){var t;m.atVerbosity(3).logInfo("Initialized",n),t=function(e,t){return window.apstag._Q.push([e,t])},window.apstag=window.apstag||{_Q:[],init:function(){t("i",arguments)},fetchBids:function(){t("f",arguments)},setDisplayBids:function(){}},(0,i.renderScript)({id:"bb-amazon",async:!0,src:"//c.amazon-adsystem.com/aax2/apstag.js"}),o.requestManager.register("amazon")});function h(e){var t=e.elementId||e.code;return{slotID:t,slotName:window.BidBarrel.dfpPath+"/"+t,sizes:window.BidBarrel.getSizes(e.code)}}function E(){return r}return f.exposureApi.expose({getAmazonBids:E}),{initialize:b,getAmazonBids:E,name:_,setConfig:function(e){(n=e.amazon).timeout=e.highFrequencyAdRequests?e.timeouts.hfar:e.timeouts.bidder,t||l.moduleManager.viaModule(I,function(e){var r=e.onRegionSet,o=e.getRegionCode;t=!0,m.atVerbosity(3).logInfo("Listening for region code"),r(function(){n.pubIdByRegion[o()]?n.pubID=n.pubIdByRegion[o()]:n.pubID=n.pubIdByRegion.fallback,m.atVerbosity(3).logInfo("Setting region based publisher ID",n.pubID)})})},bidRequest:function(t){if(v.features.get(["".concat(A,".amazon"),"".concat(A,".all")]))return o.requestManager.done("amazon"),t;var i=y(function(e){for(var t=[],n=[],r=0;r<e.length;r++){var o=e[r],i=(0,u.default)(o);i.bids=[];for(var a=!1,c=0;c<o.bids.length;c++){var d=o.bids[c];"amazon"!==d.bidder||v.features.get(["".concat(A,".").concat(o.code,".amazon"),"".concat(A,".").concat(o.code,".all")])?i.bids.push(d):(a=!0,"1"===d.params.included||!0===d.params.included?t.push(h(o)):t.push((0,s.default)({},h(o),d.params)))}!a&&o.bids.length>0&&!v.features.get(["".concat(A,".").concat(o.code,".amazon"),"".concat(A,".").concat(o.code,".all")])&&t.push(h(o)),n.push(i)}return[t,n]}(t),2),a=i[0],f=i[1];return a.length>0?function(t){var i=this;new d.default(function(a,u){e||(window.apstag.init({pubID:n.pubID,timeout:n.timeout,adServer:"googletag"}),e=!0);try{m.atVerbosity(1).logMessage("Amazon - Fetching bids",t),window.apstag.fetchBids({slots:t,timeout:n.timeout},function(e){!function(e){r.push(e),m.atVerbosity(1).logInfo("Amazon - Bids Returned",e),window.googletag.cmd.push(function(){window.apstag.setDisplayBids(),setTimeout(function(){for(var t=0;t<e.length;t++){var n=e[t];if("2"!==n.amznbid){var r=(0,g.getSlotTargeting)(n.slotID);if(r.amzniid&&n.slotID&&r.amzniid===n.amzniid){var o=(0,g.getSlot)(n.slotID);o&&(m.logInfo("Clearing Amazon Targeting on unit",n.slotID,n),o.clearTargeting((0,c.default)(n)))}}}},w),o.requestManager.done("amazon")})}(e),a(i)}),p.eventEmitter.emit([S,"".concat(_,".").concat(S)],_,t)}catch(e){m.atVerbosity(1).logError("Amazon -",e),o.requestManager.done("amazon"),u(e)}})}(a):o.requestManager.done("amazon"),f}}}(),T=l.moduleManager.register(O,null,{gate:"consentGiven"});t.amazon=T},function(e,t,n){var r=n(61),o=n(20),i=n(81),a=n(15),u=n(36),s=n(7),c=Object.prototype.hasOwnProperty,d=i(function(e,t){if(u(t)||a(t))o(t,s(t),e);else for(var n in t)c.call(t,n)&&r(e,n,t[n])});e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicBidders=void 0;var r=n(1),o=u(n(17)),i=u(n(19)),a=n(9);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=n(3).MODULES.DYNAMIC_BIDDERS,d=function(){var e={},t={};function n(e,t,o){return e.constructor===Array?e.reduce(function(e,r){return e?n(r,t,e):e},o):"object"===s(e)?(0,i.default)({},e,o):"function"==typeof e?e(t,o):(r.bbLogger.atVerbosity(3).logWarn("Unhandled dynamic bidder type",e,"on unit",t.code),o)}return{bidRequest:function(a){return a=function(e){if(!t.autoApplyBidders)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];for(var i in t.autoApplyBidders)if(t.autoApplyBidders.hasOwnProperty(i)){var a=(0,t.autoApplyBidders[i])(o);a&&o.bids.push({bidder:i,params:a})}n.push(o)}return n}(a.map(function(a){return a.bids=function(a,u){if(!e[u]){for(var s=[],c=0;c<a.length;c++){var d=(0,o.default)(a[c]);if(t[d.bidder])try{var f=n(t[d.bidder],window.BidBarrel.unitRegistry[u],d.params);f?(d.params=(0,i.default)({},f,d.params),s.push(d)):r.bbLogger.atVerbosity(3).logInfo("Excluding bidder",d.bidder,"from",u,"dynamic bidder evaluated to falsy")}catch(e){r.bbLogger.atVerbosity(1).logError("Issue evaluating dynamic bidder for ad unit",u,e)}else s.push(d)}e[u]=s}return e[u]}(a.bids,a.code),a})),r.bbLogger.atVerbosity(1).logInfo("Applied Dynamic Bidders",a),a},setConfig:function(e){t=e.dynamicBidders},protected:!0,name:c}}(),f=a.moduleManager.register(d,null,{gate:"consentGiven"});t.dynamicBidders=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoPriorityModule=void 0;var r,o=n(9),i=n(160),a=n(1),u=(r=n(333))&&r.__esModule?r:{default:r};var s=n(3).MODULES.AUTO_PRIORITY,c=function(){var e={enabled:!0,refresh:!0,bids:!0},t=0;function n(e,t,n){e(function(e){return(0,u.default)(e,function(e){var t=document.getElementById(e.code);return!t||"none"===t.style.display})?(a.bbLogger.logError("Ad unit div has a style of display:none;. Autoprioritization for Refresh Priority has been turned off for this request. Please ensure your div does not have a style of display:none;.",e),e):e.sort(function(e,t){return o(e.code,t.code)})}(t),n)}function r(e,t){(0,u.default)(t,function(e){var t=document.getElementById(e);return!t||"none"===t.style.display})?(a.bbLogger.logError("Ad unit div has a style of display:none;. Autoprioritization for Bid Priority has been turned off for this evaluation. Please ensure your div does not have a style of display: none;.",t),e(t)):e(t.sort(o))}function o(e,n){var r=document.getElementById(e),o=document.getElementById(n),i=r.getBoundingClientRect().top,a=o.getBoundingClientRect().top;return i-t-(a-t)>0?1:-1}return{name:s,register:function(){window.document.addEventListener("scroll",function(){t=window.pageYOffset||document.documentElement.scrollTop})},initialize:function(t){e.enabled&&(e.refresh&&t.adServerRequest.before(n),e.bids&&i.bidCache.applyPriorityOrder.after(r))},setConfig:function(t,n){e=t.autoPriority},deregister:function(e){e.adServerRequest.getHook({hook:n}).remove(),i.bidCache.applyPriorityOrder.getHook({hook:r}).remove()}}}(),d=o.moduleManager.register(c);t.autoPriorityModule=d},function(e,t,n){var r=n(148),o=n(65),i=n(334),a=n(4),u=n(82);e.exports=function(e,t,n){var s=a(e)?r:i;return n&&u(e,t,n)&&(t=void 0),s(e,o(t,3))}},function(e,t,n){var r=n(88);e.exports=function(e,t){var n;return r(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enforceFeatures=void 0;var r,o=n(9),i=(r=n(17))&&r.__esModule?r:{default:r},a=n(47),u=n(1);var s=n(3),c=s.MODULES.BIDBARREL_FEATURES,d=s.QUERY_PARAMS.BID_SUPPRESS,f=(0,u.generateModuleLoggers)({namespace:"Feature Enforcement",color:"#FFF",textColor:"#DA4167"}),l=function(){function e(e,t){t||e(t);var n=t;n.sizes=n.sizes.filter(function(e){var t="string"==typeof e?e:e.join("x");return!a.features.get(["sizeSuppress.".concat(t),"sizeSuppress.".concat(n.code,".").concat(t)])}),a.features.get(["adSuppress.".concat(n.code),"adSuppress.all"])?(f.atVerbosity(2).logInfo("Suppressing Ad",n),e(null)):e(n)}return{bidRequest:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=(0,i.default)(r);o.bids=[];for(var u=0;u<r.bids.length;u++){var s=r.bids[u];a.features.get(["".concat(d,".").concat(s.bidder),"".concat(d,".").concat(o.code,".").concat(s.bidder),"".concat(d,".").concat(o.code,".all"),"".concat(d,".all")])?f.atVerbosity(2).logInfo("Suppressing Bidder",s,r):o.bids.push(s)}t.push(o)}return t},initialize:function(t){t.postProcessUnit.before(e)},deregister:function(t){t.postProcessUnit.getHooks({hook:e}).remove()},name:c}}(),p=o.moduleManager.register(l);t.enforceFeatures=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicTargeting=void 0;var r,o=(r=n(19))&&r.__esModule?r:{default:r},i=n(9),a=n(45),u=n(11);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=n(3).MODULES.DYNAMIC_TARGETING,d=function(){var e={};function t(t){if(!t||!e.rules||!e.rules.length)return t;for(var n=t,o=function(t){var r=e.rules[t];(0,a.makeSafe)(function(){r.matcher(n)&&(n.targeting=r.modify(n))})},i=0;i<e.rules.length;i++)o(i);return e.units[n.code]&&(n=r(e.units[n.code],n)),e.units[n.originalCode]&&(n=r(e.units[n.originalCode],n)),n}function n(e,n){e(t(n))}function r(e,t){var n=t;if(e.constructor===Array){for(var i=0;i<e.length;i++){var u=e[i];n=r(u,n)}return n}return"function"==typeof e?(0,a.makeSafe)(function(){n.targeting=e(t)}):"object"===s(e)&&(n.targeting=(0,o.default)({},e,n.targeting)),n}return u.exposureApi.expose({applyDynamicTargeting:t}),{name:c,protected:!0,setConfig:function(t){e=t.dynamicTargeting},initialize:function(e){e.postProcessUnit.before(n)},deregister:function(e){e.postProcessUnit.getHooks({hook:n}).remove()}}}(),f=i.moduleManager.register(d);t.dynamicTargeting=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsModule=void 0;var r=n(66),o=n(21),i=n(11),a=n(47),u=n(9),s=n(338),c=n(1),d=n(340),f=n(92),l=b(n(19)),p=b(n(157)),g=b(n(158)),v=b(n(17));function b(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=(0,c.generateModuleLoggers)({namespace:"BidBarrelAnalytics",color:"#8F8389"}),_=(0,r.getGlobal)(),I="1",S=n(3),A=S.EVENTS,w=A.ANALYTICS_RECORD_CREATED,O=A.ANALYTICS_REPORTED,T=A.ANALYTICS_CANCELLED,x=S.MODULES,R=x.BIDBARREL_ANALYTICS,C=x.PREBID_HEADER_BIDDING,j=S.ANALYTICS_RECORD_TYPES,B=j.NO_BID,P=j.BID,D=j.BID_USED,k=["adUnitCode","bidder","bidderCode","adId","pbCg","requestTimestamp","responseTimestamp","statusMessage","height","width","timeToRespond"],M=function(){var e=[],t={},n=[],r={pageTargeting:{}},u={},c={},b={},y=!1;function h(t){e.push({type:B,adUnitCode:t.adUnitCode,bidder:t.bidder,createTimestamp:(new Date).getTime()})}function S(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"boolean"!=typeof n&&(n=!0),n?M(m({type:D},(0,g.default)(t,k),{cpm:t.cpm.toFixed(5).toString(),createTimestamp:(new Date).getTime()},C(),{},x(),{},j())):e.push(m({type:P},(0,g.default)(t,k),{cpm:t.cpm.toFixed(5).toString(),createTimestamp:t.responseTimestamp}))}function A(t){for(var n=t.bidsReceived,r=0;r<n.length;r++){S(n[r],!1)}!function(){for(var t=0;t<e.length;t++){M(m({},e[t],{},C(),{},x(),{},j()))}e=[]}()}function x(){return{dfpPath:r.dfpPath||null,vguid:r.vguid||null,bidbarrelVersion:"v2.9.12"}}function C(){var e={page:window.location.href,hostname:window.location.hostname};try{e.gaClientId=(0,f.getCookie)("_ga",!1)||null}catch(t){e.gaClientId=null}return e}function j(){return{env:r.pageTargeting.env||null,firstpg:void 0!==r.pageTargeting.firstpg?""+r.pageTargeting.firstpg:null,ftag:r.pageTargeting.ftag||null,ttag:r.pageTargeting.ttag||null,session:r.pageTargeting.session||null,subses:void 0!==r.pageTargeting.subses?""+r.pageTargeting.subses:null,ptype:r.pageTargeting.ptype||null}}function M(e){for(var r in e.version=I,n.push(e),c)c.hasOwnProperty(r)&&(t[r]||(t[r]=[]),t[r].push(e));o.eventEmitter.emit(w,e)}function N(e,t){e&&E.logError(e),b[t.id]||(b[t.id]=0),b[t.id]++,void 0!==t.failThreshold&&b[t.id]>=t.failThreshold&&(E.logInfo("Fail threshold reached for",t.id,"cancelling.."),clearInterval(u[t.id]))}return i.exposureApi.expose({getAllAnalyticsRecords:function(){return(0,v.default)(n)},getAnalyticsRecords:function(){return(0,v.default)(t)},cancelReporting:function(e){u[e]&&!configs[e].protected&&(o.eventEmitter.emit(["".concat(e,".").concat(T),T],configs[e]),clearInterval(u[e]))}}),{initialize:function(e){r=e,y||_.que.push(function(){_.onEvent("noBid",h),_.onEvent("auctionEnd",A),_.onEvent("bidWon",S),y=!0}),function(){var e=function(e){if(c.hasOwnProperty(e)){var n=c[e],r=n.session;(a.features.get(["forceRun.".concat(R),"forceRun.all"])||void 0===r||(0,d.percentageShouldRun)(r.shouldReport||r.reportingPercentage,!0))&&(u[e]=setInterval(function(){(0,d.percentageRunner)(a.features.get(["forceRun.".concat(R),"forceRun.all"])||n.shouldReport||n.reportingPercentage,function(){o.eventEmitter.emit(["".concat(e,".").concat(O),O],t[n.id],n),function(e){var n=e.id,r=e.report,o=e.url,i=e.fetchOptions;if(t[n]&&t[n].length>0)if(E.logInfo("Reporting Events for config",n,"events:",t[n]),r)try{r(t[n]),t[n]=[]}catch(t){N(t,e)}else o?(0,s.fetch)(o,(a=i,u=t[n],(0,l.default)({},a||{},{method:"POST",mode:"cors",body:JSON.stringify(u)}))).then(function(r){r.status>=200&&r.status<300?t[n]=[]:N(null,e)}).catch(function(t){return N(t,e)}):E.logError("Must provide a 'report' or 'url' property for BidBarrel Analytics");var a,u}(n)},!0)},n.frequency))}};for(var n in c)e(n)}()},setConfig:function(e){c=(0,p.default)(e.analytics.bidbarrel,"id")},deregister:function(){y&&_.que.push(function(){_.offEvent("noBid",h),_.offEvent("auctionEnd",A),_.offEvent("bidWon",S),y=!1})},name:R}}(),N=u.moduleManager.register(M,[C],{gate:"consentGiven"});t.analyticsModule=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetch=void 0;var r=window.fetch||n(339);t.fetch=r},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise(function(n,r){var o=new XMLHttpRequest,i=[],a=[],u={},s=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:s,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return u[e.toLowerCase()]},has:function(e){return e.toLowerCase()in u}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){i.push(t=t.toLowerCase()),a.push([t,n]),u[t]=u[t]?u[t]+","+n:n}),n(s())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)})}},function(e,t,n){"use strict";var r=n(45);e.exports={percentageRunner:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"boolean"==typeof e&&e?t():"number"==typeof e?100*Math.random()<=e&&t():"function"==typeof e?(0,r.makeSafe)(function(){return e()},null,function(){return n})&&t():n&&t()},percentageShouldRun:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"boolean"==typeof e&&e?e:"number"==typeof e?100*Math.random()<=e:"function"==typeof e?(0,r.makeSafe)(function(){return e()},null,function(){return t}):t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runPrebidQueue=E,t.prebidModule=void 0,n(342);var r,o=n(66),i=n(90),a=n(9),u=(r=n(19))&&r.__esModule?r:{default:r},s=n(33),c=n(11),d=n(21),f=n(1);var l=(0,o.getGlobal)(),p=n(3),g=p.MODULES,v=g.GEOLOCATION,b=g.PREBID_HEADER_BIDDING,y=p.EVENTS.HEADER_BIDDING_REQUEST,m=function(){var e=null,t={},n=(0,s.urlQueryAsObject)(),r=!1;function o(e,t){l.que.push(function(){t&&t.length&&l.setTargetingForGPTAsync(t.filter(function(e){return e.bids&&e.bids.length>0}).map(function(e){return e.code})),e(t)})}return c.exposureApi.rootScope({get pbjsUnits(){return l.adUnits&&l.adUnits.length?l.adUnits[0].constructor===Array?l.adUnits[0]:l.adUnits:[]}}),{name:b,register:function(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]},initialize:function(t){e=t,i.requestManager.register(b),e.setBidTargeting.before(o),r=!0,e.queue.push(function(e){E(),e()})},setConfig:function(e){(t=e.prebid).timeout=e.highFrequencyAdRequests?e.timeouts.hfar:e.timeouts.bidder,l.que.push(function(){l.setConfig((0,u.default)({},{priceGranularity:{buckets:t.priceBuckets},debug:"true"===n.pbjs_debug},t.pbjsConfig)),t.bidderSettings&&(l.bidderSettings=t.bidderSettings)}),a.moduleManager.viaModule(v,function(n){var r=n.isEnabled,o=n.onRegionSet,i=n.getRegionCode;r&&e.prebid&&e.prebid.enabledRegions&&o(function(){-1===t.enabledRegions.indexOf(i())&&(f.bbLogger.logInfo("Prebid not enabled for this region, deregistering module."),a.moduleManager.deregister(b))})})},deregister:function(){r&&(e.setBidTargeting.getHook({hook:o}).remove(),i.requestManager.deregister(b))},bidRequest:function(e){return l.que.push(function(){l.adUnits=[];for(var n=e.filter(function(e){return e.bids&&e.bids.length>0}),r=0;r<n.length;r++){var o=n[r];l.addAdUnits(o)}var a=l.requestBids({bidsBackHandler:function(){return i.requestManager.done(b)},timeout:t.timeout});d.eventEmitter.emit([y,"".concat(b,".").concat(y)],b,e,a)}),e}}}(),h=a.moduleManager.register(m,null,{gate:"consentGiven"});function E(){l&&l.processQueue&&l.processQueue()}t.prebidModule=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.checkAdUnitSetup=void 0;var r,o=n(66),i=n(0),a=n(343),u=n(44),s=n(144),c=n(2),d=n(93),f=n(345),l=n(32),p=n(346),g=(r=n(5))&&r.__esModule?r:{default:r},v=n(141),b=n(28),y=n(142);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=(0,o.getGlobal)(),_=n(8),I=n(0),S=n(48).default,A=n(43),w=u.userSync.triggerUserSyncs,O=_.EVENTS,T=O.ADD_AD_UNITS,x=O.BID_WON,R=O.REQUEST_BIDS,C=O.SET_TARGETING,j=O.AD_RENDER_FAILED,B=_.AD_RENDER_FAILED_REASON,P=B.PREVENT_WRITING_ON_MAIN_DOCUMENT,D=B.NO_AD,k=B.EXCEPTION,M=B.CANNOT_FIND_AD,N=B.MISSING_DOC_OR_ADID,U={bidWon:function(e){var t=d.auctionManager.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode})}).reduce(i.flatten).filter(i.uniques);if(!I.contains(t,e))return void I.logError('The "'+e+'" placement is not defined.');return!0}};function L(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}(0,p.sessionLoader)(),E.bidderSettings=E.bidderSettings||{},E.libLoaded=!0,E.version="v2.13.0",I.logInfo("Prebid.js v2.13.0 loaded"),E.adUnits=E.adUnits||[],E.triggerUserSyncs=w;var z=(0,l.hook)("sync",function(e){return e.forEach(function(e){var t=e.mediaTypes,n=I.getAdUnitSizes(e);if(t&&t.banner){var r=t.banner;r.sizes?(r.sizes=n,e.sizes=n):(I.logError("Detected a mediaTypes.banner object did not include sizes.  This is a required field for the mediaTypes.banner object.  Removing invalid mediaTypes.banner object from request."),delete e.mediaTypes.banner)}else e.sizes&&(I.logWarn("Usage of adUnits.sizes will eventually be deprecated.  Please define size dimensions within the corresponding area of the mediaTypes.<object> (eg mediaTypes.banner.sizes)."),e.sizes=n);if(t&&t.video){var o=t.video;if(o.playerSize)if(Array.isArray(o.playerSize)&&1===o.playerSize.length&&o.playerSize.every(function(e){return(0,i.isArrayOfNums)(e,2)}))e.sizes=o.playerSize;else if((0,i.isArrayOfNums)(o.playerSize,2)){var a=[];a.push(o.playerSize),I.logInfo("Transforming video.playerSize from [".concat(o.playerSize,"] to [[").concat(a,"]] so it's in the proper format.")),e.sizes=o.playerSize=a}else I.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete e.mediaTypes.video.playerSize}if(t&&t.native){var u=t.native;u.image&&u.image.sizes&&!Array.isArray(u.image.sizes)&&(I.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete e.mediaTypes.native.image.sizes),u.image&&u.image.aspect_ratios&&!Array.isArray(u.image.aspect_ratios)&&(I.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete e.mediaTypes.native.image.aspect_ratios),u.icon&&u.icon.sizes&&!Array.isArray(u.icon.sizes)&&(I.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete e.mediaTypes.native.icon.sizes)}}),e},"checkAdUnitSetup");function q(e){var t=d.auctionManager[e]().filter(I.bind.call(i.adUnitsFilter,this,d.auctionManager.getAdUnitCodes())),n=d.auctionManager.getLastAuctionId();return t.map(function(e){return e.adUnitCode}).filter(i.uniques).map(function(e){return t.filter(function(t){return t.auctionId===n&&t.adUnitCode===e})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e[0].adUnitCode,{bids:e})}).reduce(function(e,t){return h(e,t)},{})}function F(e,t,n){var r={};r.reason=e,r.message=t,n&&(r.bid=n),I.logError(t),A.emit(j,r)}function V(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){I.logError("Error processing command :","prebid.js",e)}})}t.checkAdUnitSetup=z,E.getAdserverTargetingForAdUnitCodeStr=function(e){if(I.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=E.getAdserverTargetingForAdUnitCode(e);return I.transformAdServerTargetingObj(t)}I.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},E.getAdserverTargetingForAdUnitCode=function(e){return E.getAdserverTargeting(e)[e]},E.getAdserverTargeting=function(e){return I.logInfo("Invoking pbjs.getAdserverTargeting",arguments),f.targeting.getAllTargeting(e)},E.getNoBids=function(){return I.logInfo("Invoking pbjs.getNoBids",arguments),q("getNoBids")},E.getBidResponses=function(){return I.logInfo("Invoking pbjs.getBidResponses",arguments),q("getBidsReceived")},E.getBidResponsesForAdUnitCode=function(e){return{bids:d.auctionManager.getBidsReceived().filter(function(t){return t.adUnitCode===e})}},E.setTargetingForGPTAsync=function(e,t){if(I.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,i.isGptPubadsDefined)()){var n=f.targeting.getAllTargeting(e);f.targeting.resetPresetTargeting(e),f.targeting.setTargetingForGPT(n,t),Object.keys(n).forEach(function(e){Object.keys(n[e]).forEach(function(t){"hb_adid"===t&&d.auctionManager.setStatusForBids(n[e][t],_.BID_STATUS.BID_TARGETING_SET)})}),A.emit(C,n)}else I.logError("window.googletag is not defined on the page")},E.setTargetingForAst=function(){I.logInfo("Invoking pbjs.setTargetingForAn",arguments),f.targeting.isApntagDefined()?(f.targeting.setTargetingForAst(),A.emit(C,f.targeting.getAllTargeting())):I.logError("window.apntag is not defined on the page")},E.renderAd=function(e,t){if(I.logInfo("Invoking pbjs.renderAd",arguments),I.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n=d.auctionManager.findBidByAdId(t);if(n){n.status=_.BID_STATUS.RENDERED,n.ad=I.replaceAuctionPrice(n.ad,n.cpm),n.adUrl=I.replaceAuctionPrice(n.adUrl,n.cpm),d.auctionManager.addWinningBid(n),A.emit(x,n);var r=n.height,o=n.width,i=n.ad,a=n.mediaType,u=n.adUrl,s=n.renderer,c=document.createComment("Creative ".concat(n.creativeId," served by ").concat(n.bidder," Prebid.js Header Bidding"));if(I.insertElement(c,e,"body"),(0,b.isRendererRequired)(s))(0,b.executeRenderer)(s,n);else if(e===document&&!I.inIframe()||"video"===a){var f="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");F(P,f,n)}else if(i)L(e,o,r),e.open("text/html","replace"),e.write(i),e.close(),I.callBurl(n);else if(u){var l=I.createInvisibleIframe();l.height=r,l.width=o,l.style.display="inline",l.style.overflow="hidden",l.src=u,I.insertElement(l,e,"body"),L(e,o,r),I.callBurl(n)}else{var p="Error trying to write ad. No ad for bid response id: ".concat(t);F(D,p,n)}}else{var g="Error trying to write ad. Cannot find ad by given id : ".concat(t);F(M,g)}}catch(e){var v="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);F(k,v)}else{var y="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");F(N,y)}},E.removeAdUnit=function(e){(I.logInfo("Invoking pbjs.removeAdUnit",arguments),e)?(I.isArray(e)?e:[e]).forEach(function(e){for(var t=0;t<E.adUnits.length;t++)E.adUnits[t].code===e&&E.adUnits.splice(t,1)}):E.adUnits=[]},E.requestBids=(0,l.hook)("async",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,o=e.adUnitCodes,i=e.labels,a=e.auctionId;A.emit(R);var u=n||c.config.getConfig("bidderTimeout");if(r=r||E.adUnits,I.logInfo("Invoking pbjs.requestBids",arguments),o&&o.length?r=r.filter(function(e){return(0,g.default)(o,e.code)}):o=r&&r.map(function(e){return e.code}),(r=z(r)).forEach(function(e){var t=Object.keys(e.mediaTypes||{banner:"banner"}),n=e.bids.map(function(e){return e.bidder}),r=S.bidderRegistry,o=c.config.getConfig("s2sConfig"),i=o&&o.bidders,a=i?n.filter(function(e){return!(0,g.default)(i,e)}):n;e.transactionId=I.generateUUID(),a.forEach(function(n){var o=r[n],i=o&&o.getSpec&&o.getSpec(),a=i&&i.supportedMediaTypes||["banner"];t.some(function(e){return(0,g.default)(a,e)})||(I.logWarn(I.unsupportedBidderMessage(e,n)),e.bids=e.bids.filter(function(e){return e.bidder!==n}))}),v.adunitCounter.incrementCounter(e.code)}),r&&0!==r.length){var s=d.auctionManager.createAuction({adUnits:r,adUnitCodes:o,callback:t,cbTimeout:u,labels:i,auctionId:a}),l=r.length;return l>15&&I.logInfo("Current auction ".concat(s.getAuctionId()," contains ").concat(l," adUnits."),r),o.forEach(function(e){return f.targeting.setLatestAuctionForAdUnit(e,s.getAuctionId())}),s.callBids(),s}if(I.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){I.logError("Error executing bidsBackHandler",null,e)}}),E.addAdUnits=function(e){I.logInfo("Invoking pbjs.addAdUnits",arguments),I.isArray(e)?E.adUnits.push.apply(E.adUnits,e):"object"===m(e)&&E.adUnits.push(e),A.emit(T)},E.onEvent=function(e,t,n){I.logInfo("Invoking pbjs.onEvent",arguments),I.isFn(t)?!n||U[e].call(null,n)?A.on(e,t,n):I.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):I.logError('The event handler provided is not a function and was not set on event "'+e+'".')},E.offEvent=function(e,t,n){I.logInfo("Invoking pbjs.offEvent",arguments),n&&!U[e].call(null,n)||A.off(e,t,n)},E.registerBidAdapter=function(e,t){I.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{S.registerBidAdapter(e(),t)}catch(e){I.logError("Error registering bidder adapter : "+e.message)}},E.registerAnalyticsAdapter=function(e){I.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{S.registerAnalyticsAdapter(e)}catch(e){I.logError("Error registering analytics adapter : "+e.message)}},E.createBid=function(e){return I.logInfo("Invoking pbjs.createBid",arguments),(0,y.createBid)(e)},E.loadScript=function(e,t,n){I.logInfo("Invoking pbjs.loadScript",arguments),(0,s.loadScript)(e,t,n)},E.enableAnalytics=function(e){e&&!I.isEmpty(e)?(I.logInfo("Invoking pbjs.enableAnalytics for: ",e),S.enableAnalytics(e)):I.logError("pbjs.enableAnalytics should be called with option {}")},E.aliasBidder=function(e,t){I.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?S.aliasBidAdapter(e,t):I.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},E.getAllWinningBids=function(){return d.auctionManager.getAllWinningBids()},E.getAllPrebidWinningBids=function(){return d.auctionManager.getBidsReceived().filter(function(e){return e.status===_.BID_STATUS.BID_TARGETING_SET})},E.getHighestCpmBids=function(e){var t=(0,f.getHighestCpmBidsFromBidPool)(d.auctionManager.getBidsReceived(),i.getLatestHighestCpmBid);return f.targeting.getWinningBids(e,t)},E.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=d.auctionManager.getBidsReceived().filter(function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode}):e.adUnitCode?t=f.targeting.getWinningBids(e.adUnitCode):e.adId?t=d.auctionManager.getBidsReceived().filter(function(t){return t.adId===e.adId}):I.logWarn("Inproper usage of markWinningBidAsUsed. It'll need an adUnitCode and/or adId to function."),t.length>0&&(t[0].status=_.BID_STATUS.RENDERED)},E.getConfig=c.config.getConfig,E.setConfig=c.config.setConfig,E.que.push(function(){return(0,a.listenMessagesFromCreative)()}),E.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){I.logError("Error processing command :",e.message,e.stack)}else I.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},E.que.push=E.cmd.push,E.processQueue=function(){l.hook.ready(),V(E.que),V(E.cmd)};var G=E;t.default=G},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenMessagesFromCreative=function(){addEventListener("message",l,!1)},t._sendAdToCreative=p;var r=d(n(43)),o=n(42),i=n(8),a=n(0),u=n(93),s=d(n(12)),c=n(28);function d(e){return e&&e.__esModule?e:{default:e}}var f=i.EVENTS.BID_WON;function l(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId){var i=(0,s.default)(u.auctionManager.getBidsReceived(),function(e){return e.adId===n.adId});if("Prebid Request"===n.message&&(p(i,n.adServerDomain,e.source),u.auctionManager.addWinningBid(i),r.default.emit(f,i)),"Prebid Native"===n.message){if("assetRequest"===n.action){var a=(0,o.getAssetMessage)(n,i);return void e.source.postMessage(JSON.stringify(a),e.origin)}if("click"===(0,o.fireNativeTrackers)(n,i))return;u.auctionManager.addWinningBid(i),r.default.emit(f,i)}}}function p(e,t,n){var r=e.adId,o=e.ad,i=e.adUrl,u=e.width,d=e.height,f=e.renderer,l=e.cpm;(0,c.isRendererRequired)(f)?(0,c.executeRenderer)(f,e):r&&(!function(e){var t=e.adUnitCode,n=e.width,r=e.height;function o(e){var n=function(e){return window.googletag?function(e){return(0,s.default)(window.googletag.pubads().getSlots().filter((0,a.isSlotMatchingAdUnitCode)(e)),function(e){return e}).getSlotElementId()}(e):window.apntag?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(e):e}(t),r=document.getElementById(n);return r&&r.querySelector(e)}["div","iframe"].forEach(function(e){var i=o(e);if(i){var u=i.style;u.width=n+"px",u.height=r+"px"}else(0,a.logWarn)("Unable to locate matching page element for adUnitCode ".concat(t,".  Can't resize it to ad's dimensions.  Please review setup."))})}(e),n.postMessage(JSON.stringify({message:"Prebid Response",ad:(0,a.replaceAuctionPrice)(o,l),adUrl:(0,a.replaceAuctionPrice)(i,l),adId:r,width:u,height:d}),t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=function(e,t){var n={puts:e.map(i)};(0,r.ajax)(o.config.getConfig("cache.url"),function(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}(t),JSON.stringify(n),{contentType:"text/plain",withCredentials:!0})},t.getCacheUrl=function(e){return"".concat(o.config.getConfig("cache.url"),"?uuid=").concat(e)};var r=n(86),o=n(2);function i(e){var t,n,r,o={type:"xml",value:e.vastXml?e.vastXml:(t=e.vastUrl,n=e.vastImpUrl,r=n?"<![CDATA[".concat(n,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(o.key=e.customCacheKey),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHighestCpmBidsFromBidPool=_,t.newTargeting=I,t.targeting=t.filters=t.TARGETING_KEYS=void 0;var r,o=n(0),i=n(2),a=n(42),u=n(93),s=n(140),c=n(16),d=(r=n(5))&&r.__esModule?r:{default:r},f=n(160);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n(0),b=n(8),y=[],m=20,h=Object.keys(b.TARGETING_KEYS).map(function(e){return b.TARGETING_KEYS[e]});t.TARGETING_KEYS=h;var E={isBidNotExpired:function(e){return e.responseTimestamp+1e3*e.ttl+1e3>(0,o.timestamp)()},isUnusedBid:function(e){return e&&(e.status&&!(0,d.default)([b.BID_STATUS.BID_TARGETING_SET,b.BID_STATUS.RENDERED],e.status)||!e.status)}};function _(e,t){var n=[],r=(0,o.groupBy)(e,"adUnitCode");return Object.keys(r).forEach(function(e){var i=(0,o.groupBy)(r[e],"bidderCode");Object.keys(i).forEach(function(e){return n.push(i[e].reduce(t))})}),n}function I(e){var t={},n={};function r(e){return e.map(function(e){return g({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return g({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))}).reduce(function(e,t){return p(t,e)},{}))}).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=p({},e[n],t[n]),e},{})}function u(t){return"string"==typeof t?[t]:v.isArray(t)?t:e.getAdUnitCodes()||[]}function I(){var t=e.getBidsReceived();return i.config.getConfig("useBidCache")||(t=t.filter(function(e){return n[e.adUnitCode]===e.auctionId})),t=t.filter(function(e){return(0,o.deepAccess)(e,"video.context")!==c.ADPOD}).filter(function(e){return"banner"!==e.mediaType||(0,s.sizeSupported)([e.width,e.height])}).filter(E.isUnusedBid).filter(E.isBidNotExpired)}function S(e,n){var r=t.getWinningBids(e,n,!0),o=A();return r=r.map(function(e){return g({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===o.indexOf(t)}).reduce(function(t,n){var r=[e.adserverTargeting[n]],o=g({},n.substring(0,m),r);if(n===b.TARGETING_KEYS.DEAL){var i=g({},"".concat(n,"_").concat(e.bidderCode).substring(0,m),r);return[].concat(l(t),[o,i])}return[].concat(l(t),[o])},[]))})}function A(){return e.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(h).filter(o.uniques)}function w(e,t,n,r){return Object.keys(t.adserverTargeting).filter(O()).forEach(function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){v.isArray(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(o.uniques),delete t.adserverTargeting[e]}}(n))}),e.push(t),e}function O(){var e=A();return function(t){return-1===e.indexOf(t)}}function T(e){return g({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(O()).map(function(t){return g({},t.substring(0,m),[e.adserverTargeting[t]])}))}function x(e,t){return t.filter(function(t){return(0,d.default)(e,t.adUnitCode)}).map(function(e){return p({},e)}).reduce(w,[]).map(T).filter(function(e){return e})}function R(e,t){var n=h.concat(a.NATIVE_TARGETING_KEYS);return _(t,o.getHighestCpm).map(function(t){if(t.adserverTargeting&&e&&(v.isArray(e)&&(0,d.default)(e,t.adUnitCode)||"string"==typeof e&&t.adUnitCode===e))return g({},t.adUnitCode,function(e,t){return t.map(function(t){return g({},"".concat(t,"_").concat(e.bidderCode).substring(0,m),[e.adserverTargeting[t]])})}(t,n.filter(function(e){return void 0!==t.adserverTargeting[e]})))}).filter(function(e){return e})}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t){if((0,o.isGptPubadsDefined)()){var n=u(t),r=e.getAdUnits().filter(function(e){return(0,d.default)(n,e.code)});window.googletag.pubads().getSlots().forEach(function(e){y.forEach(function(t){r.forEach(function(n){n.code!==e.getAdUnitPath()&&n.code!==e.getSlotElementId()||e.setTargeting(t,null)})})})}},t.resetPresetTargetingAST=function(e){u(e).forEach(function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach(function(e){(0,d.default)(y,e.toLowerCase())||(r[e]=t.keywords[e])}),window.apntag.modifyTag(e,{keywords:r})}})},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I(),n=u(e),o=S(n,t).concat(x(n,t)).concat(i.config.getConfig("enableSendAllBids")?R(n,t):[]);return o.map(function(e){Object.keys(e).map(function(t){e[t].map(function(e){-1===y.indexOf(Object.keys(e)[0])&&(y=Object.keys(e).concat(y))})})}),o=r(o),n.forEach(function(e){o[e]||(o[e]={})}),o},t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach(function(n){Object.keys(e).filter(t?t(n):(0,o.isAdUnitCodeMatchingSlot)(n)).forEach(function(t){return Object.keys(e[t]).forEach(function(r){var o=e[t][r].split(",");(o=o.length>1?[o]:o).map(function(e){return v.logMessage("Attempting to set key value for slot: ".concat(n.getSlotElementId()," key: ").concat(r," value: ").concat(e)),e}).forEach(function(e){n.setTargeting(r,e)})})})})},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I(),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u(e);return f.bidCache.evaluateWinningBids(r,t,n)},t.setTargetingForAst=function(){var e=t.getAllTargeting();try{t.resetPresetTargetingAST()}catch(e){v.logError("unable to reset targeting for AST"+e)}Object.keys(e).forEach(function(t){return Object.keys(e[t]).forEach(function(n){if(v.logMessage("Attempting to set targeting for targetId: ".concat(t," key: ").concat(n," value: ").concat(e[t][n])),v.isStr(e[t][n])||v.isArray(e[t][n])){var r={};n.search(/pt[0-9]/)<0?r[n.toUpperCase()]=e[t][n]:r[n]=e[t][n],window.apntag.setKeywords(t,r,{overrideKeyValue:!0})}})})},t.isApntagDefined=function(){if(window.apntag&&v.isFn(window.apntag.setKeywords))return!0},t}t.filters=E;var S=I(u.auctionManager);t.targeting=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disableOverrides=l,t.addBidResponseHook=p,t.getConfig=g,t.sessionLoader=function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(s))}catch(e){}t&&f(t,!0)},t.boundHook=void 0;var r=n(2),o=n(0),i=n(161);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u,s="pbjs:debugging";function c(e){(0,o.logMessage)("DEBUG: "+e)}function d(){i.addBidResponse.getHooks({hook:u}).remove()}function f(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.config.setConfig({debug:!0}),c("bidder overrides enabled".concat(n?" from session":"")),d(),t.boundHook=u=p.bind(e),i.addBidResponse.before(u,5)}function l(){d(),c("bidder overrides disabled")}function p(e,t,n){var r;if(Array.isArray(this.bidders)&&-1===this.bidders.indexOf(n.bidderCode))return r="bidder '".concat(n.bidderCode,"' excluded from auction by bidder overrides"),void(0,o.logWarn)("DEBUG: "+r);Array.isArray(this.bids)&&this.bids.forEach(function(e){e.bidder&&e.bidder!==n.bidderCode||e.adUnitCode&&e.adUnitCode!==t||(n=a({},n),Object.keys(e).filter(function(e){return-1===["bidder","adUnitCode"].indexOf(e)}).forEach(function(r){var o=e[r];c("bidder overrides changed '".concat(t,"/").concat(n.bidderCode,"' bid.").concat(r," from '").concat(n[r],"' to '").concat(o,"'")),n[r]=o}))}),e(t,n)}function g(e){if(e.enabled){try{window.sessionStorage.setItem(s,JSON.stringify(e))}catch(e){}f(e)}else{l();try{window.sessionStorage.removeItem(s)}catch(e){}}}t.boundHook=u,r.config.getConfig("debugging",function(e){return g(e.debugging)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stacksModule=void 0;var r=n(348),o=n(1),i=n(21),a=n(11),u=n(9),s=n(47),c=n(89),d=n(3).MODULES.STACKS,f={create:["before","after"],initialize:["before","after"],auction:["before","after"],adServerRequest:["before","after"],getUnitCollection:["before","after"],setConfig:["before","after"],lazyLoad:["before","after"],bootstrap:["before","after"],setBidTargeting:["before","after"],headerBidderRequest:["before","after"]},l={"BidBarrel.adServerRequest:after":!0,"BidBarrel.bootstrap:after":!0},p=function(){var e=(0,r.measuredStack)("function call stack"),t=(0,r.measuredStack)("event call stack");function n(){return e.getMeasures()}function u(){return e.getRecords()}function p(){return e.getMarks()}function g(){return t.getMeasures()}function v(){return t.getRecords()}function b(){return t.getMarks()}return a.exposureApi.expose({getFunctionExecutionMeasures:n,getEventMeasures:g,getFunctionExecutionRecords:u,getEventRecords:v,getFunctionExecutionMarks:p,getEventMarks:b}),{name:d,getFunctionExecutionMeasures:n,getEventMeasures:g,getFunctionExecutionRecords:u,getEventRecords:v,getFunctionExecutionMarks:p,getEventMarks:b,register:function(){s.features.get(["perfMeasure.all","perfMeasure.functions"])&&(e.enforceSameSequence(),function(){var t=function(t){if(f.hasOwnProperty(t)&&s.features.get(["perfMeasure.all","perfMeasure.functions.".concat(t)])){o.bbLogger.logInfo("Registering hooks on",t);for(var n=f[t].constructor===Array?f[t]:f[t].hooks,r=function(r){var o=n[r];c.BidBarrel[t][o](function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];e.add("BidBarrel.".concat(t,":").concat(o),{arguments:i}),l["BidBarrel.".concat(t,":").concat(o)]&&e.nextSequence(),n.apply(void 0,i)},"before"===o?1:999)},i=0;i<n.length;i++)r(i)}};for(var n in f)t(n)}()),s.features.get(["perfMeasure.all","perfMeasure.events"])&&i.eventEmitter.emit.before(function(e,n){n.constructor===Array&&(n=n.join("|"));for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];s.features.get(["perfMeasure.all","perfMeasure.events.".concat(n)])&&(t.add("bbEvent.".concat(n),{arguments:o}),l["bbEvent.".concat(n)]&&t.nextSequence()),e.apply(void 0,[n].concat(o))})}}}(),g=u.moduleManager.register(p);t.stacksModule=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.measuredStack=t.stack=void 0;var r=n(349),o=a(n(30)),i=a(n(17));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n(1).bbLogger,l={ACTIVE:"active",STOPPED:"stopped"},p=function(e){var t={},n={},a=[],u=0,s={recordAdd:[]},d=0,p=l.ACTIVE;return{add:function(e,o){if(p===l.ACTIVE){var g=(0,r.generateUuid)(),v=function(e,t){void 0===n[e]&&(n[e]=0);var r="".concat(e,"-").concat(n[e]);return n[e]++,r}(e);f.atVerbosity(5).logInfo("Stack record created. ".concat(v," +").concat((m=window.performance.now(),h=m-d,d=m,parseInt(h))));var b=c({id:e,guid:g,sequence:u,index:t.length,name:v},(0,i.default)(o));(b=function(e){return a.reduce(function(e,t,n){if(!e)return e;try{e=t(e,n)}catch(e){f.logError(e)}return e},e)}(b))&&(t[g]=b);for(var y=0;y<s.recordAdd.length;y++){(0,s.recordAdd[y])(t[g])}return b}var m,h},addReducer:function(e){return e.id=a.length,a.push(e),e.id},removeReducer:function(e){a=a.filter(function(t){return t.id!==e})},getRecords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return(0,o.default)(t).filter(e)},nextSequence:function(){return++u},stop:function(){f.logInfo("Stopping stack",e),p=l.STOPPED},getRecordsObj:function(){return t},onRecordAdd:function(e){s.recordAdd.push(e)}}};t.stack=p;t.measuredStack=function(e){var t=p(e),n=[],r=[],o={},i=!1;return t.addReducer(function(e){return window.performance.mark(e.guid),n.push(e.guid),e}),c({},t,{getMeasures:function(){for(var e=t.getRecordsObj(),a=[],s=0;s<n.length;s++)for(var c=n[s],d=s;d<n.length;d++){var f=n[d];-1!==r.indexOf("".concat(c,"|").concat(f))||i&&e[c].sequence!==e[f].sequence||(a.push("".concat(c,"|").concat(f)),r.push("".concat(c,"|").concat(f)),window.performance.measure("".concat(c,"|").concat(f),c,f))}return o=a.reduce(function(t,n){var r=u(n.split("|"),2),o=r[0],i=r[1],a=e[o],s=e[i];if(!t["".concat(a.name," to ").concat(s.name)]){var c=window.performance.getEntriesByName(n)[0];t["".concat(a.name," to ").concat(s.name)]={range:[a.name,s.name],description:"".concat(a.name," to ").concat(s.name),startTime:c.startTime,duration:c.duration,startRecord:a,endRecord:s}}return t},o)},enforceSameSequence:function(){i=!0},getMarks:function(){return t.getRecords().map(function(e){var t=window.performance.getEntriesByName(e.guid)[0];return{recordName:e.name,duration:t.duration,name:t.name,startTime:t.startTime,entryType:t.entryType}})}})}},function(e,t,n){"use strict";var r;if(Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=function(e,t,n){var r=t&&n||0,o=t||[],i=null!=(e=e||{}).clockseq?e.clockseq:f,u=null!=e.msecs?e.msecs:(new Date).getTime(),s=null!=e.nsecs?e.nsecs:p+1,c=u-l+(s-p)/1e4;c<0&&null==e.clockseq&&(i=i+1&16383);(c<0||u>l)&&null==e.nsecs&&(s=0);if(s>=1e4)throw new Error("uuid.(): Can't create more than 10M uuids/sec");l=u,p=s,f=i;var g=(1e4*(268435455&(u+=122192928e5))+s)%4294967296;o[r++]=g>>>24&255,o[r++]=g>>>16&255,o[r++]=g>>>8&255,o[r++]=255&g;var v=u/4294967296*1e4&268435455;o[r++]=v>>>8&255,o[r++]=255&v,o[r++]=v>>>24&15|16,o[r++]=v>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var b=e.node||d,y=0;y<6;y++)o[r+y]=b[y];return t||function(e,t){var n=t||0,r=a;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}(o)},window.crypto&&crypto.getRandomValues){var o=new Uint8Array(16);r=function(){return crypto.getRandomValues(o),o}}if(!r){var i=new Array(16);r=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}for(var a=[],u={},s=0;s<256;s++)a[s]=(s+256).toString(16).substr(1),u[a[s]]=s;var c=r(),d=[1|c[0],c[1],c[2],c[3],c[4],c[5]],f=16383&(c[6]<<8|c[7]),l=0,p=0},function(e,t,n){"use strict";var r=n(89);n(351);var o=n(352),i=n(353);(0,r.instantiateBidBarrel)(o,i)},function(e,t,n){"use strict";!function(e,t){if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(e,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(e,"resize",this._checkForIntersections,!0),a(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var i=o.element,a=u(i),s=this._rootContainsTarget(i),c=o.entry,d=t&&s&&this._computeTargetAndRootIntersection(i,n),f=o.entry=new r({time:e.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:n,intersectionRect:d});c?t&&s?this._hasCrossedThreshold(c,f)&&this._queuedEntries.push(f):c&&c.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=e.getComputedStyle(n).display){for(var o,i,a,s,d,f,l,p,g=u(n),v=c(n),b=!1;!b;){var y=null,m=1==v.nodeType?e.getComputedStyle(v):{};if("none"==m.display)return;if(v==this.root||v==t?(b=!0,y=r):v!=t.body&&v!=t.documentElement&&"visible"!=m.overflow&&(y=u(v)),y&&(o=y,i=g,a=void 0,s=void 0,d=void 0,f=void 0,l=void 0,p=void 0,a=Math.max(o.top,i.top),s=Math.min(o.bottom,i.bottom),d=Math.max(o.left,i.left),f=Math.min(o.right,i.right),p=s-a,!(g=(l=f-d)>=0&&p>=0&&{top:a,bottom:s,left:d,right:f,width:l,height:p})))break;v=c(v)}return g}},o.prototype._getRootRect=function(){var e;if(this.root)e=u(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},o.prototype._rootIsInDom=function(){return!this.root||s(t,this.root)},o.prototype._rootContainsTarget=function(e){return s(this.root||t,e)},o.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},o.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=o,e.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function o(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout(function(){n(),o=null},r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function i(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(e,t){for(var n=t;n;){if(n==e)return!0;n=c(n)}return!1}function c(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}(window,document)},function(e,t,n){"use strict";e.exports={dfpPath:{property:"comicvine"},adjustSlotDefinition:{"mobile-skybox-nav":function(e){return e.sizes=e.sizes.filter(function(e){return JSON.stringify(e)!==JSON.stringify([320,50])}),e}},targeting:{seats:{session:16}},oncreate:{renderScripts:[{id:"ix-identity",async:!0,src:"//js-sec.indexww.com/ht/p/183728-263247582662073.js"}]}}},function(e){e.exports=JSON.parse('[{"code":"interstitial","cache":false,"sizes":[[1,1]],"targeting":{},"bids":[]},{"code":"skybox-nav","cache":false,"sizes":[[5,5]],"targeting":{"pos":"nav"},"bids":[{"bidder":"amazon","params":{"included":true}}]},{"code":"leader_plus_top","cache":false,"sizes":[[728,90],[970,250],[970,90],[970,66]],"targeting":{"pos":"top"},"bids":[{"bidder":"aol","params":{"placement":"5122167"}},{"bidder":"appnexus","params":{"placementId":"16557423"}},{"bidder":"ix","params":{"size":[728,90],"siteId":"393288"}},{"bidder":"openx","params":{"unit":"540811438"}},{"bidder":"trustx","params":{"uid":"8505"}},{"bidder":"aol","params":{"placement":"5122162"}},{"bidder":"appnexus","params":{"placementId":"16557424"}},{"bidder":"ix","params":{"size":[970,250],"siteId":"393289"}}]},{"code":"pbr_leader_plus_top","cache":false,"sizes":[[728,90],[970,250],[970,66],[321,31]],"targeting":{"pos":"top"},"bids":[{"bidder":"aol","params":{"placement":"5122158"}},{"bidder":"appnexus","params":{"placementId":"16557432"}},{"bidder":"ix","params":{"size":[728,90],"siteId":"393299"}},{"bidder":"openx","params":{"unit":"540811445"}},{"bidder":"trustx","params":{"uid":"8512"}},{"bidder":"aol","params":{"placement":"5122160"}},{"bidder":"appnexus","params":{"placementId":"16557433"}},{"bidder":"ix","params":{"size":[970,250],"siteId":"393300"}}]},{"code":"leader_top","cache":false,"sizes":[[728,90],[970,66]],"targeting":{"pos":"top"},"bids":[{"bidder":"aol","params":{"placement":"5122165"}},{"bidder":"appnexus","params":{"placementId":"16557425"}},{"bidder":"ix","params":{"size":[728,90],"siteId":"393290"}},{"bidder":"openx","params":{"unit":"540811439"}},{"bidder":"trustx","params":{"uid":"8506"}}]},{"code":"mpu_top","cache":false,"sizes":[[300,250]],"targeting":{"pos":"top"},"bids":[{"bidder":"aol","params":{"placement":"5122166"}},{"bidder":"appnexus","params":{"placementId":"16557426"}},{"bidder":"ix","params":{"size":[300,250],"siteId":"393292"}},{"bidder":"openx","params":{"unit":"540811440"}},{"bidder":"trustx","params":{"uid":"8507"}}]},{"code":"mpu_bottom","cache":false,"sizes":[[300,250]],"targeting":{"pos":"bottom"},"bids":[{"bidder":"aol","params":{"placement":"5122164"}},{"bidder":"appnexus","params":{"placementId":"16557427"}},{"bidder":"ix","params":{"size":[300,250],"siteId":"393293"}},{"bidder":"openx","params":{"unit":"540811441"}},{"bidder":"trustx","params":{"uid":"8508"}}]},{"code":"leader_bottom","cache":false,"sizes":[[728,90],[970,66]],"targeting":{"pos":"bottom"},"bids":[{"bidder":"aol","params":{"placement":"5122163"}},{"bidder":"appnexus","params":{"placementId":"16557428"}},{"bidder":"ix","params":{"size":[728,90],"siteId":"393294"}},{"bidder":"openx","params":{"unit":"540811442"}},{"bidder":"trustx","params":{"uid":"8509"}}]},{"code":"overlay_leader_top","cache":false,"sizes":[[728,90],[970,66]],"targeting":{"pos":"top"},"bids":[{"bidder":"aol","params":{"placement":"5122161"}},{"bidder":"appnexus","params":{"placementId":"16557429"}},{"bidder":"ix","params":{"size":[728,90],"siteId":"393296"}},{"bidder":"openx","params":{"unit":"540811443"}},{"bidder":"trustx","params":{"uid":"8510"}}]},{"code":"overlay_mpu_top","cache":false,"sizes":[[300,250]],"targeting":{"pos":"top"},"bids":[{"bidder":"aol","params":{"placement":"5122159"}},{"bidder":"appnexus","params":{"placementId":"16557430"}},{"bidder":"ix","params":{"size":[300,250],"siteId":"393298"}},{"bidder":"openx","params":{"unit":"540811444"}},{"bidder":"trustx","params":{"uid":"8511"}}]},{"code":"native-top","cache":false,"sizes":[[11,11],"fluid"],"targeting":{"pos":"top"},"bids":[]},{"code":"mobile-skybox-nav","cache":false,"sizes":[[5,5],[6,6],[7,7],[320,50]],"targeting":{"pos":"nav"},"bids":[{"bidder":"amazon","params":{"sizes":[[5,5],[7,7]]}},{"bidder":"kargo","params":{"placementId":"_jK5-rqeXwsnU"}}]},{"code":"mobile-native","cache":false,"sizes":[[300,250],[11,11],"fluid"],"targeting":{"pos":"top"},"bids":[{"bidder":"aol","params":{"placement":"5122175"}},{"bidder":"appnexus","params":{"placementId":"5122174"}},{"bidder":"ix","params":{"size":[300,250],"siteId":"393301"}},{"bidder":"kargo","params":{"placementId":"_jK5-oqaXwtA"}},{"bidder":"openx","params":{"unit":"540811446"}},{"bidder":"trustx","params":{"uid":"8513"}}]},{"code":"mobile-mpu-bottom","cache":false,"sizes":[[300,250]],"targeting":{"pos":"bottom"},"bids":[{"bidder":"aol","params":{"placement":"5122174"}},{"bidder":"appnexus","params":{"placementId":"16557435"}},{"bidder":"ix","params":{"size":[300,250],"siteId":"393302"}},{"bidder":"kargo","params":{"placementId":"_jK5-oqaXwtA"}},{"bidder":"openx","params":{"unit":"540811447"}},{"bidder":"trustx","params":{"uid":"8514"}}]},{"code":"mobile-native-plus-top","cache":false,"sizes":[[300,250],[11,11],"fluid"],"targeting":{"pos":"top"},"bids":[{"bidder":"aol","params":{"placement":"5122172"}},{"bidder":"appnexus","params":{"placementId":"16557436"}},{"bidder":"ix","params":{"size":[300,250],"siteId":"393303"}},{"bidder":"kargo","params":{"placementId":"_jK5-oqaXwtA"}},{"bidder":"openx","params":{"unit":"540811448"}},{"bidder":"trustx","params":{"uid":"8515"}}]},{"code":"mobile-highimpact-plus","cache":false,"sizes":[[300,250],[320,50],[321,31]],"targeting":{"pos":"plus"},"bids":[{"bidder":"aol","params":{"placement":"5122168"}},{"bidder":"appnexus","params":{"placementId":"16557437"}},{"bidder":"ix","params":{"size":[300,250],"siteId":"393304"}},{"bidder":"kargo","params":{"placementId":"_jK5-oqaXwtA"}},{"bidder":"openx","params":{"unit":"540811449"}},{"bidder":"trustx","params":{"uid":"8516"}},{"bidder":"aol","params":{"placement":"5122169"}},{"bidder":"appnexus","params":{"placementId":"16557438"}},{"bidder":"ix","params":{"size":[320,50],"siteId":"393305"}}]},{"code":"incontent-mobile-flex","cache":false,"sizes":[[300,250],[320,50]],"targeting":{"pos":1},"bids":[{"bidder":"aol","params":{"placement":"5122171"}},{"bidder":"appnexus","params":{"placementId":"16557439"}},{"bidder":"ix","params":{"size":[300,250],"siteId":"393306"}},{"bidder":"kargo","params":{"placementId":"_jK5-oqaXwtA"}},{"bidder":"openx","params":{"unit":"540811450"}},{"bidder":"trustx","params":{"uid":"8517"}},{"bidder":"aol","params":{"placement":"5122170"}},{"bidder":"appnexus","params":{"placementId":"16557440"}},{"bidder":"ix","params":{"size":[320,50],"siteId":"393307"}}],"incremental":true},{"code":"mobile-banner","cache":false,"sizes":[[320,50]],"targeting":{"pos":1},"bids":[{"bidder":"aol","params":{"placement":"5122173"}},{"bidder":"appnexus","params":{"placementId":"16557441"}},{"bidder":"ix","params":{"size":[320,50],"siteId":"393308"}},{"bidder":"openx","params":{"unit":"540811451"}},{"bidder":"trustx","params":{"uid":"8518"}}],"incremental":true}]')}]);